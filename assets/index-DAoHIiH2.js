(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},dl={};var E_;function cA(){if(E_)return dl;E_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var T_;function hA(){return T_||(T_=1,Sd.exports=cA()),Sd.exports}var U=hA(),bd={exports:{}},vt={};var A_;function fA(){if(A_)return vt;A_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),k=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=k&&x[k]||x["@@iterator"],typeof x=="function"?x:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function dt(x,Y,et){this.props=x,this.context=Y,this.refs=J,this.updater=et||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},dt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function lt(){}lt.prototype=dt.prototype;function ht(x,Y,et){this.props=x,this.context=Y,this.refs=J,this.updater=et||tt}var qt=ht.prototype=new lt;qt.constructor=ht,nt(qt,dt.prototype),qt.isPureReactComponent=!0;var $t=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,Y,et){var st=et.ref;return{$$typeof:a,type:x,key:Y,ref:st!==void 0?st:null,props:et}}function M(x,Y){return I(x.type,Y,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function N(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function Ut(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):Y.toString(36)}function ge(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(xt,xt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,Y,et,st,yt){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case a:case t:Vt=!0;break;case A:return Vt=x._init,H(Vt(x._payload),Y,et,st,yt)}}if(Vt)return yt=yt(x),Vt=st===""?"."+Ut(x,0):st,$t(yt)?(et="",Vt!=null&&(et=Vt.replace(w,"$&/")+"/"),H(yt,Y,et,"",function(nr){return nr})):yt!=null&&(O(yt)&&(yt=M(yt,et+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Vt)),Y.push(yt)),1;Vt=0;var Ie=st===""?".":st+":";if($t(x))for(var se=0;se<x.length;se++)st=x[se],St=Ie+Ut(st,se),Vt+=H(st,Y,et,St,yt);else if(se=Q(x),typeof se=="function")for(x=se.call(x),se=0;!(st=x.next()).done;)st=st.value,St=Ie+Ut(st,se++),Vt+=H(st,Y,et,St,yt);else if(St==="object"){if(typeof x.then=="function")return H(ge(x),Y,et,st,yt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function W(x,Y,et){if(x==null)return x;var st=[],yt=0;return H(x,st,"","",function(St){return Y.call(et,St,yt++)}),st}function ut(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var Lt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Gt={map:W,forEach:function(x,Y,et){W(x,function(){Y.apply(this,arguments)},et)},count:function(x){var Y=0;return W(x,function(){Y++}),Y},toArray:function(x){return W(x,function(Y){return Y})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return vt.Activity=b,vt.Children=Gt,vt.Component=dt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=r,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(x,Y,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=nt({},x.props),yt=x.key;if(Y!=null)for(St in Y.key!==void 0&&(yt=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var Vt=Array(St),Ie=0;Ie<St;Ie++)Vt[Ie]=arguments[Ie+2];st.children=Vt}return I(x.type,yt,st)},vt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},vt.createElement=function(x,Y,et){var st,yt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var Vt=arguments.length-2;if(Vt===1)yt.children=et;else if(1<Vt){for(var Ie=Array(Vt),se=0;se<Vt;se++)Ie[se]=arguments[se+2];yt.children=Ie}if(x&&x.defaultProps)for(st in Vt=x.defaultProps,Vt)yt[st]===void 0&&(yt[st]=Vt[st]);return I(x,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:p,render:x}},vt.isValidElement=O,vt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ut}},vt.memo=function(x,Y){return{$$typeof:v,type:x,compare:Y===void 0?null:Y}},vt.startTransition=function(x){var Y=C.T,et={};C.T=et;try{var st=x(),yt=C.S;yt!==null&&yt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,Lt)}catch(St){Lt(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(x){return C.H.use(x)},vt.useActionState=function(x,Y,et){return C.H.useActionState(x,Y,et)},vt.useCallback=function(x,Y){return C.H.useCallback(x,Y)},vt.useContext=function(x){return C.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Y){return C.H.useDeferredValue(x,Y)},vt.useEffect=function(x,Y){return C.H.useEffect(x,Y)},vt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(x,Y,et){return C.H.useImperativeHandle(x,Y,et)},vt.useInsertionEffect=function(x,Y){return C.H.useInsertionEffect(x,Y)},vt.useLayoutEffect=function(x,Y){return C.H.useLayoutEffect(x,Y)},vt.useMemo=function(x,Y){return C.H.useMemo(x,Y)},vt.useOptimistic=function(x,Y){return C.H.useOptimistic(x,Y)},vt.useReducer=function(x,Y,et){return C.H.useReducer(x,Y,et)},vt.useRef=function(x){return C.H.useRef(x)},vt.useState=function(x){return C.H.useState(x)},vt.useSyncExternalStore=function(x,Y,et){return C.H.useSyncExternalStore(x,Y,et)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.3",vt}var S_;function dm(){return S_||(S_=1,bd.exports=fA()),bd.exports}var ke=dm(),wd={exports:{}},ml={},Rd={exports:{}},Id={};var b_;function dA(){return b_||(b_=1,(function(a){function t(H,W){var ut=H.length;H.push(W);t:for(;0<ut;){var Lt=ut-1>>>1,Gt=H[Lt];if(0<l(Gt,W))H[Lt]=W,H[ut]=Gt,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],ut=H.pop();if(ut!==W){H[0]=ut;t:for(var Lt=0,Gt=H.length,x=Gt>>>1;Lt<x;){var Y=2*(Lt+1)-1,et=H[Y],st=Y+1,yt=H[st];if(0>l(et,ut))st<Gt&&0>l(yt,et)?(H[Lt]=yt,H[st]=ut,Lt=st):(H[Lt]=et,H[Y]=ut,Lt=Y);else if(st<Gt&&0>l(yt,ut))H[Lt]=yt,H[st]=ut,Lt=st;else break t}}return W}function l(H,W){var ut=H.sortIndex-W.sortIndex;return ut!==0?ut:H.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,b=null,k=3,Q=!1,tt=!1,nt=!1,J=!1,dt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var W=i(v);W!==null;){if(W.callback===null)r(v);else if(W.startTime<=H)r(v),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(v)}}function $t(H){if(nt=!1,qt(H),!tt)if(i(y)!==null)tt=!0,xt||(xt=!0,N());else{var W=i(v);W!==null&&ge($t,W.startTime-H)}}var xt=!1,C=-1,S=5,I=-1;function M(){return J?!0:!(a.unstable_now()-I<S)}function O(){if(J=!1,xt){var H=a.unstable_now();I=H;var W=!0;try{t:{tt=!1,nt&&(nt=!1,lt(C),C=-1),Q=!0;var ut=k;try{e:{for(qt(H),b=i(y);b!==null&&!(b.expirationTime>H&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,k=b.priorityLevel;var Gt=Lt(b.expirationTime<=H);if(H=a.unstable_now(),typeof Gt=="function"){b.callback=Gt,qt(H),W=!0;break e}b===i(y)&&r(y),qt(H)}else r(y);b=i(y)}if(b!==null)W=!0;else{var x=i(v);x!==null&&ge($t,x.startTime-H),W=!1}}break t}finally{b=null,k=ut,Q=!1}W=void 0}}finally{W?N():xt=!1}}}var N;if(typeof ht=="function")N=function(){ht(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ut=w.port2;w.port1.onmessage=O,N=function(){Ut.postMessage(null)}}else N=function(){dt(O,0)};function ge(H,W){C=dt(function(){H(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return k},a.unstable_next=function(H){switch(k){case 1:case 2:case 3:var W=3;break;default:W=k}var ut=k;k=W;try{return H()}finally{k=ut}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=k;k=H;try{return W()}finally{k=ut}},a.unstable_scheduleCallback=function(H,W,ut){var Lt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,H={id:A++,callback:W,priorityLevel:H,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>Lt?(H.sortIndex=ut,t(v,H),i(y)===null&&H===i(v)&&(nt?(lt(C),C=-1):nt=!0,ge($t,ut-Lt))):(H.sortIndex=Gt,t(y,H),tt||Q||(tt=!0,xt||(xt=!0,N()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var W=k;return function(){var ut=k;k=W;try{return H.apply(this,arguments)}finally{k=ut}}}})(Id)),Id}var w_;function mA(){return w_||(w_=1,Rd.exports=dA()),Rd.exports}var Cd={exports:{}},Ke={};var R_;function gA(){if(R_)return Ke;R_=1;var a=dm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Ke.flushSync=function(y){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=A,r.d.f()}},Ke.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:k,fetchPriority:Q}):A==="script"&&r.d.X(y,{crossOrigin:b,integrity:k,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},Ke.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);r.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,v){return y(v)},Ke.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var I_;function pA(){if(I_)return Cd.exports;I_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Cd.exports=gA(),Cd.exports}var C_;function yA(){if(C_)return ml;C_=1;var a=mA(),t=dm(),i=pA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,k=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case J:return"StrictMode";case $t:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ht:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Ut(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ut(e(n))}catch{}}return null}var ge=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function x(e){return{current:e}}function Y(e){0>Gt||(e.current=Lt[Gt],Lt[Gt]=null,Gt--)}function et(e,n){Gt++,Lt[Gt]=e.current,e.current=n}var st=x(null),yt=x(null),St=x(null),Vt=x(null);function Ie(e,n){switch(et(St,n),et(yt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Hy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Hy(n),e=Gy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function se(){Y(st),Y(yt),Y(St)}function nr(e){e.memoizedState!==null&&et(Vt,e);var n=st.current,s=Gy(n,e.type);n!==s&&(et(yt,e),et(st,s))}function Kr(e){yt.current===e&&(Y(st),Y(yt)),Vt.current===e&&(Y(Vt),ul._currentValue=ut)}var Yr,Xr;function $n(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var lo=!1;function ir(e,n){if(!e||lo)return"";lo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return $n("Activity");default:return""}}function co(e){try{var n="",s=null;do n+=uo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ce=a.unstable_scheduleCallback,is=a.unstable_cancelCallback,bh=a.unstable_shouldYield,Xl=a.unstable_requestPaint,$e=a.unstable_now,sr=a.unstable_getCurrentPriorityLevel,ho=a.unstable_ImmediatePriority,fo=a.unstable_UserBlockingPriority,ss=a.unstable_NormalPriority,wh=a.unstable_LowPriority,Zl=a.unstable_IdlePriority,Jl=a.log,$l=a.unstable_setDisableYieldValue,Ln=null,Pe=null;function Tn(e){if(typeof Jl=="function"&&$l(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var ce=Math.clz32?Math.clz32:tu,Wl=Math.log,Zr=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Zr|0)|0}var Wn=256,rr=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-ce(s),K=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function or(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function go(e,n){var s=n&-n;return s=(s&42)!==0?1:lr(s),(s&(e.suspendedLanes|n))!==0?0:s}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:d_(e.type))}function zn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var jn=Math.random().toString(36).slice(2),_e="__reactFiber$"+jn,xe="__reactProps$"+jn,ii="__reactContainer$"+jn,Jr="__reactEvents$"+jn,Ch="__reactListeners$"+jn,iu="__reactHandles$"+jn,su="__reactResources$"+jn,si="__reactMarker$"+jn;function $r(e){delete e[_e],delete e[xe],delete e[Jr],delete e[Ch],delete e[iu]}function ri(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Jy(e);e!==null;){if(s=e[_e])return s;e=Jy(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[_e]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ai(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var po=new Set,yo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(yo[e]=n,e=0;e<n.length;e++)po.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ru(e){return pe.call(Eo,e)?!0:pe.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function Wr(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,g,Me(n)):s!=null?Ao(e,g,Me(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function Ao(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Me(s):""}function os(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(ge(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Me(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function bo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var wo=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,ci=null;function hr(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(r(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ur(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var ia=!1;function cs(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(us!==null||ci!==null)&&(nc(),us&&(n=us,e=ci,ci=us=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(bn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{fr=!1}var hi=null,Ro=null,dr=null;function Io(){if(dr)return dr;var e,n=Ro,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return dr=h.slice(e,1<o?1-o:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(xi),hs=b({},xi,{view:0,detail:0}),Co=ze(hs),fs,sa,di,ra=b({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(fs=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=fs=0,di=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),No=ze(ra),gr=b({},ra,{dataTransfer:0}),cu=ze(gr),hu=b({},hs,{relatedTarget:0}),pr=ze(hu),Do=b({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=ze(Do),aa=b({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=ze(aa),mu=b({},xi,{data:0}),mi=ze(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ds(){return _u}var We=b({},hs,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=ze(We),Eu=b({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(Eu),u=b({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=ze(u),_=b({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),L=b({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),$=b({},xi,{newState:0,oldState:0}),Tt=ze($),he=[9,13,27,32],jt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var wn=bn&&"TextEvent"in window&&!re,gi=bn&&(!jt||re&&8<re&&11>=re),Gn=" ",Fn=!1;function yr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function VT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function kT(e,n){if(la)return e==="compositionend"||!jt&&yr(e,n)?(e=Io(),dr=Ro=hi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!UT[e.type]:n==="textarea"}function eg(e,n,s,o){us?ci?ci.push(o):ci=[o]:us=o,n=uc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Oo=null,xo=null;function LT(e){Ly(e,0)}function Tu(e){var n=fn(e);if(ur(n))return e}function ng(e,n){if(e==="change")return n}var ig=!1;if(bn){var Nh;if(bn){var Dh="oninput"in document;if(!Dh){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Dh=typeof sg.oninput=="function"}Nh=Dh}else Nh=!1;ig=Nh&&(!document.documentMode||9<document.documentMode)}function rg(){Oo&&(Oo.detachEvent("onpropertychange",ag),xo=Oo=null)}function ag(e){if(e.propertyName==="value"&&Tu(xo)){var n=[];eg(n,xo,e,Sn(e)),cs(LT,n)}}function PT(e,n,s){e==="focusin"?(rg(),Oo=n,xo=s,Oo.attachEvent("onpropertychange",ag)):e==="focusout"&&rg()}function zT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(xo)}function jT(e,n){if(e==="click")return Tu(n)}function BT(e,n){if(e==="input"||e==="change")return Tu(n)}function qT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:qT;function Mo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,n){var s=og(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=og(s)}}function ug(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ug(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HT=bn&&"documentMode"in document&&11>=document.documentMode,ua=null,xh=null,Vo=null,Mh=!1;function hg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||ua==null||ua!==ui(o)||(o=ua,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=uc(xh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function _r(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Vh={},fg={};bn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vr(e){if(Vh[e])return Vh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in fg)return Vh[e]=n[s];return e}var dg=vr("animationend"),mg=vr("animationiteration"),gg=vr("animationstart"),GT=vr("transitionrun"),FT=vr("transitionstart"),QT=vr("transitioncancel"),pg=vr("transitionend"),yg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Qn(e,n){yg.set(e,n),oi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ha=0,Uh=0;function Su(){for(var e=ha,n=Uh=ha=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&_g(s,h,f)}}function bu(e,n,s,o){Rn[ha++]=e,Rn[ha++]=n,Rn[ha++]=s,Rn[ha++]=o,Uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,s,o){return bu(e,n,s,o),wu(e)}function Er(e,n){return bu(e,null,null,n),wu(e)}function _g(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<nl)throw nl=0,Kf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function KT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new KT(e,n,s,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function vg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=$1(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return Tr(s.children,h,f,n);case J:g=8,h|=24;break;case dt:return e=gn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case $t:return e=gn(13,s,n,h),e.elementType=$t,e.lanes=f,e;case xt:return e=gn(19,s,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case lt:g=9;break t;case qt:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Tr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function zh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Eg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Tg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=Tg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:co(n)},Tg.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var da=[],ma=0,Iu=null,ko=0,Cn=[],Nn=0,ms=null,pi=1,yi="";function ki(e,n){da[ma++]=ko,da[ma++]=Iu,Iu=e,ko=n}function Ag(e,n,s){Cn[Nn++]=pi,Cn[Nn++]=yi,Cn[Nn++]=ms,ms=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function Bh(e){e.return!==null&&(ki(e,1),Ag(e,1,0))}function qh(e){for(;e===Iu;)Iu=da[--ma],da[ma]=null,ko=da[--ma],da[ma]=null;for(;e===ms;)ms=Cn[--Nn],Cn[Nn]=null,yi=Cn[--Nn],Cn[Nn]=null,pi=Cn[--Nn],Cn[Nn]=null}function Sg(e,n){Cn[Nn++]=pi,Cn[Nn++]=yi,Cn[Nn++]=ms,pi=n.id,yi=n.overflow,ms=e}var je=null,te=null,Mt=!1,gs=null,Dn=!1,Hh=Error(r(519));function ps(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(In(n,e)),Hh}function bg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[xe]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<sl.length;s++)Rt(sl[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),os(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||By(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ps(e,!0)}function wg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!Mt)return wg(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ld(e.type,e.memoizedProps)),s=!s),s&&te&&ps(e),wg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=Zy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=Zy(e)}else n===27?(n=te,Ds(e.type)?(e=dd,dd=null,te=e):te=n):te=je?xn(e.stateNode.nextSibling):null;return!0}function Ar(){te=je=null,Mt=!1}function Gh(){var e=gs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gs=null),e}function Uo(e){gs===null?gs=[e]:gs.push(e)}var Fh=x(null),Sr=null,Ui=null;function ys(e,n,s){et(Fh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Fh.current,Y(Fh)}function Qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Kh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Qh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Qh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Kh(n,e,s,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Sr=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Rg(Sr,e)}function Nu(e,n){return Sr===null&&br(e),Rg(e,n)}function Rg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(r(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var YT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},XT=a.unstable_scheduleCallback,ZT=a.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new YT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&XT(ZT,function(){e.controller.abort()})}var Po=null,Xh=0,ya=0,_a=null;function JT(e,n){if(Po===null){var s=Po=[];Xh=0,ya=Wf(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Xh++,n.then(Ig,Ig),n}function Ig(){if(--Xh===0&&Po!==null){_a!==null&&(_a.status="fulfilled");var e=Po;Po=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $T(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Cg=H.S;H.S=function(e,n){hy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&JT(e,n),Cg!==null&&Cg(e,n)};var wr=x(null);function Zh(){var e=wr.current;return e!==null?e:Wt.pooledCache}function Du(e,n){n===null?et(wr,wr.current):et(wr,n.pool)}function Ng(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var va=Error(r(460)),Jh=Error(r(474)),Ou=Error(r(542)),xu={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Og(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mg(e),e}throw Ir=n,va}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,va):s}}var Ir=null;function xg(){if(Ir===null)throw Error(r(459));var e=Ir;return Ir=null,e}function Mg(e){if(e===va||e===Ou)throw Error(r(483))}var Ea=null,zo=0;function Mu(e){var n=zo;return zo+=1,Ea===null&&(Ea=[]),Og(Ea,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===k?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vg(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Vi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,F){return D===null||D.tag!==6?(D=zh(P,V.mode,F),D.return=V,D):(D=h(D,P),D.return=V,D)}function R(V,D,P,F){var ct=P.type;return ct===nt?G(V,D,P.props.children,F,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Rr(ct)===D.type)?(D=h(D,P.props),jo(D,P),D.return=V,D):(D=Ru(P.type,P.key,P.props,null,V.mode,F),jo(D,P),D.return=V,D)}function z(V,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=jh(P,V.mode,F),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function G(V,D,P,F,ct){return D===null||D.tag!==7?(D=Tr(P,V.mode,F,ct),D.return=V,D):(D=h(D,P),D.return=V,D)}function K(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Ru(D.type,D.key,D.props,null,V.mode,P),jo(P,D),P.return=V,P;case tt:return D=jh(D,V.mode,P),D.return=V,D;case S:return D=Rr(D),K(V,D,P)}if(ge(D)||N(D))return D=Tr(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return K(V,Mu(D),P);if(D.$$typeof===ht)return K(V,Nu(V,D),P);Vu(V,D)}return null}function j(V,D,P,F){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(V,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ct?R(V,D,P,F):null;case tt:return P.key===ct?z(V,D,P,F):null;case S:return P=Rr(P),j(V,D,P,F)}if(ge(P)||N(P))return ct!==null?null:G(V,D,P,F,null);if(typeof P.then=="function")return j(V,D,Mu(P),F);if(P.$$typeof===ht)return j(V,D,Nu(V,P),F);Vu(V,P)}return null}function q(V,D,P,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(P)||null,E(D,V,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return V=V.get(F.key===null?P:F.key)||null,R(D,V,F,ct);case tt:return V=V.get(F.key===null?P:F.key)||null,z(D,V,F,ct);case S:return F=Rr(F),q(V,D,P,F,ct)}if(ge(F)||N(F))return V=V.get(P)||null,G(D,V,F,ct,null);if(typeof F.then=="function")return q(V,D,P,Mu(F),ct);if(F.$$typeof===ht)return q(V,D,P,Nu(D,F),ct);Vu(D,F)}return null}function rt(V,D,P,F){for(var ct=null,Pt=null,at=D,bt=D=0,Ct=null;at!==null&&bt<P.length;bt++){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var zt=j(V,at,P[bt],F);if(zt===null){at===null&&(at=Ct);break}e&&at&&zt.alternate===null&&n(V,at),D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,at=Ct}if(bt===P.length)return s(V,at),Mt&&ki(V,bt),ct;if(at===null){for(;bt<P.length;bt++)at=K(V,P[bt],F),at!==null&&(D=f(at,D,bt),Pt===null?ct=at:Pt.sibling=at,Pt=at);return Mt&&ki(V,bt),ct}for(at=o(at);bt<P.length;bt++)Ct=q(at,V,bt,P[bt],F),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Pt===null?ct=Ct:Pt.sibling=Ct,Pt=Ct);return e&&at.forEach(function(ks){return n(V,ks)}),Mt&&ki(V,bt),ct}function mt(V,D,P,F){if(P==null)throw Error(r(151));for(var ct=null,Pt=null,at=D,bt=D=0,Ct=null,zt=P.next();at!==null&&!zt.done;bt++,zt=P.next()){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var ks=j(V,at,zt.value,F);if(ks===null){at===null&&(at=Ct);break}e&&at&&ks.alternate===null&&n(V,at),D=f(ks,D,bt),Pt===null?ct=ks:Pt.sibling=ks,Pt=ks,at=Ct}if(zt.done)return s(V,at),Mt&&ki(V,bt),ct;if(at===null){for(;!zt.done;bt++,zt=P.next())zt=K(V,zt.value,F),zt!==null&&(D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return Mt&&ki(V,bt),ct}for(at=o(at);!zt.done;bt++,zt=P.next())zt=q(at,V,bt,zt.value,F),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?bt:zt.key),D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&at.forEach(function(uA){return n(V,uA)}),Mt&&ki(V,bt),ct}function Jt(V,D,P,F){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===nt){if(D.tag===7){s(V,D.sibling),F=h(D,P.props.children),F.return=V,V=F;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Rr(ct)===D.type){s(V,D.sibling),F=h(D,P.props),jo(F,P),F.return=V,V=F;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===nt?(F=Tr(P.props.children,V.mode,F,P.key),F.return=V,V=F):(F=Ru(P.type,P.key,P.props,null,V.mode,F),jo(F,P),F.return=V,V=F)}return g(V);case tt:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),F=h(D,P.children||[]),F.return=V,V=F;break t}else{s(V,D);break}else n(V,D);D=D.sibling}F=jh(P,V.mode,F),F.return=V,V=F}return g(V);case S:return P=Rr(P),Jt(V,D,P,F)}if(ge(P))return rt(V,D,P,F);if(N(P)){if(ct=N(P),typeof ct!="function")throw Error(r(150));return P=ct.call(P),mt(V,D,P,F)}if(typeof P.then=="function")return Jt(V,D,Mu(P),F);if(P.$$typeof===ht)return Jt(V,D,Nu(V,P),F);Vu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),F=h(D,P),F.return=V,V=F):(s(V,D),F=zh(P,V.mode,F),F.return=V,V=F),g(V)):s(V,D)}return function(V,D,P,F){try{zo=0;var ct=Jt(V,D,P,F);return Ea=null,ct}catch(at){if(at===va||at===Ou)throw at;var Pt=gn(29,at,null,V.mode);return Pt.lanes=F,Pt.return=V,Pt}}}var Cr=Vg(!0),kg=Vg(!1),_s=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),_g(e,null,s),n}return bu(e,o,n,s),wu(e)}function Bo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}function tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function qo(){if(ef){var e=_a;if(e!==null)throw e}}function Ho(e,n,s,o){ef=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(It&j)===j:(o&j)===j){j!==0&&j===ya&&(ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;j=n;var Jt=s;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){K=rt.call(Jt,K,j);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,j=typeof rt=="function"?rt.call(Jt,K,j):rt,j==null)break t;K=b({},K,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=K):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=K}}function Ug(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Lg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ug(s[e],n)}var Ta=x(null),ku=x(0);function Pg(e,n){e=Qi,et(ku,e),et(Ta,n),Qi=e|n.baseLanes}function nf(){et(ku,Qi),et(Ta,Ta.current)}function sf(){Qi=ku.current,Y(Ta),Y(ku)}var pn=x(null),On=null;function Ts(e){var n=e.alternate;et(fe,fe.current&1),et(pn,e),On===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(On=e)}function rf(e){et(fe,fe.current),et(pn,e),On===null&&(On=e)}function zg(e){e.tag===22?(et(fe,fe.current),et(pn,e),On===null&&(On=e)):As()}function As(){et(fe,fe.current),et(pn,pn.current)}function yn(e){Y(pn),On===e&&(On=null),Y(fe)}var fe=x(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Xt=null,Ae=null,Lu=!1,Aa=!1,Nr=!1,Pu=0,Go=0,Sa=null,WT=0;function le(){throw Error(r(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function of(e,n,s,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ap:Af,Nr=!1,f=s(o,h),Nr=!1,Aa&&(f=Bg(n,s,o,h)),jg(e),f}function jg(e){H.H=Ko;var n=Xt!==null&&Xt.next!==null;if(Pi=0,Ae=Xt=At=null,Lu=!1,Go=0,Sa=null,n)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&Cu(e)&&(Se=!0))}function Bg(e,n,s,o){At=e;var h=0;do{if(Aa&&(Sa=null),Go=0,Aa=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Sp,f=n(s,o)}while(Aa);return f}function t1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function lf(){var e=Pu!==0;return Pu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Pi=0,Ae=Xt=At=null,Aa=!1,Go=Pu=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function de(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,Sa===null&&(Sa=[]),e=Og(Sa,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ap:Af),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===ht)return Be(e)}throw Error(r(438,String(e)))}function hf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=de();return ff(n,Xt,e)}function ff(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(It&K)===K:(Pi&K)===K){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ya&&(G=!0);else if((Pi&j)===j){z=z.next,j===ya&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,At.lanes|=j,ws|=j;K=z.action,Nr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,At.lanes|=K,ws|=K;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!mn(f,e.memoizedState)&&(Se=!0,G&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=de(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function qg(e,n,s){var o=At,h=de(),f=Mt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!mn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,pf(Fg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Gg.bind(null,o,h,s,n),null),Wt===null)throw Error(r(349));f||(Pi&127)!==0||Hg(o,n,s)}return s}function Hg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Gg(e,n,s,o){n.value=s,n.getSnapshot=o,Qg(n)&&Kg(e)}function Fg(e,n,s){return s(function(){Qg(n)&&Kg(e)})}function Qg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function Kg(e){var n=Er(e,2);n!==null&&un(n,e,2)}function mf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Nr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function Yg(e,n,s,o){return e.baseState=s,ff(e,Xt,typeof o=="function"?o:zi)}function e1(e,n,s,o,h){if(Gu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Xg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Xg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),R=H.S;R!==null&&R(g,E),Zg(e,n,E)}catch(z){gf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),Zg(e,n,f)}catch(z){gf(e,n,z)}}function Zg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Jg(e,n,o)},function(o){return gf(e,n,o)}):Jg(e,n,s)}function Jg(e,n,s){n.status="fulfilled",n.value=s,$g(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Xg(e,s)))}function gf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,$g(n),n=n.next;while(n!==o)}e.action=null}function $g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Wg(e,n){return n}function tp(e,n){if(Mt){var s=Wt.formState;if(s!==null){t:{var o=At;if(Mt){if(te){e:{for(var h=te,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=xn(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:n},s.queue=o,s=vp.bind(null,At,o),o.dispatch=s,o=mf(!1),f=Tf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=e1.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function ep(e){var n=de();return np(n,Xt,e)}function np(e,n,s){if(n=ff(e,n,Wg)[0],e=Bu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(g){throw g===va?Ou:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,ba(9,{destroy:void 0},n1.bind(null,h,s),null)),[o,f,e]}function n1(e,n){e.action=n}function ip(e){var n=de(),s=Xt;if(s!==null)return np(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function sp(){return de().memoizedState}function qu(e,n,s,o){var h=tn();At.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&af(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,s,o):(At.flags|=e,h.memoizedState=ba(1|n,f,s,o))}function rp(e,n){qu(8390656,8,e,n)}function pf(e,n){Hu(2048,8,e,n)}function i1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ap(e){var n=de().memoizedState;return i1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function op(e,n){return Hu(4,2,e,n)}function lp(e,n){return Hu(4,4,e,n)}function up(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cp(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,up.bind(null,n,e),s)}function yf(){}function hp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function fp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Nr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function _f(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=dy(),At.lanes|=e,ws|=e,s)}function dp(e,n,s,o){return mn(s,n)?s:Ta.current!==null?(e=_f(e,s,o),mn(e,n)||(Se=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=s):(e=dy(),At.lanes|=e,ws|=e,n)}function mp(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Tf(e,!1,n,s);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=$T(R,o);Qo(e,n,G,En(e))}else Qo(e,n,o,En(e))}catch(K){Qo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function s1(){}function vf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=gp(e).queue;mp(e,h,n,ut,s===null?s1:function(){return pp(e),s(o)})}function gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function pp(e){var n=gp(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},En())}function Ef(){return Be(ul)}function yp(){return de().memoizedState}function _p(){return de().memoizedState}function r1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=vs(s);var o=Es(n,e,s);o!==null&&(un(o,n,s),Bo(o,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function a1(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Ep(n,s):(s=Lh(e,n,s,o),s!==null&&(un(s,e,o),Tp(s,n,o)))}function vp(e,n,s){var o=En();Qo(e,n,s,o)}function Qo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Ep(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return bu(e,n,h,0),Wt===null&&Su(),!1}catch{}if(s=Lh(e,n,h,o),s!==null)return un(s,e,o),Tp(s,n,o),!0}return!1}function Tf(e,n,s,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(r(479))}else n=Lh(e,s,o,2),n!==null&&un(n,e,2)}function Gu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Ep(e,n){Aa=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Tp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}var Ko={readContext:Be,use:ju,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ko.useEffectEvent=le;var Ap={readContext:Be,use:ju,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:rp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,up.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Nr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Nr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=a1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=vp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=tn();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=mp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=tn();if(Mt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Wt===null)throw Error(r(349));(It&127)!==0||Hg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,rp(Fg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},Gg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Wt.identifierPrefix;if(Mt){var s=yi,o=pi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=WT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:tp,useActionState:tp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return tn().memoizedState=r1.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:ju,useCallback:hp,useContext:Be,useEffect:pf,useImperativeHandle:cp,useInsertionEffect:op,useLayoutEffect:lp,useMemo:fp,useReducer:Bu,useRef:sp,useState:function(){return Bu(zi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=de();return dp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(zi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:qg,useId:yp,useHostTransitionStatus:Ef,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var s=de();return Yg(s,Xt,e,n)},useMemoCache:hf,useCacheRefresh:_p};Af.useEffectEvent=ap;var Sp={readContext:Be,use:ju,useCallback:hp,useContext:Be,useEffect:pf,useImperativeHandle:cp,useInsertionEffect:op,useLayoutEffect:lp,useMemo:fp,useReducer:df,useRef:sp,useState:function(){return df(zi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=de();return Xt===null?_f(s,e,n):dp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=df(zi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:qg,useId:yp,useHostTransitionStatus:Ef,useFormState:ip,useActionState:ip,useOptimistic:function(e,n){var s=de();return Xt!==null?Yg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:_p};Sp.useEffectEvent=ap;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=vs(o);h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=vs(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(un(n,e,s),Bo(n,e,s))}};function bp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,f):!0}function wp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Rp(e){Au(e)}function Ip(e){console.error(e)}function Cp(e){Au(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Np(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Dp(e){return e=vs(e),e.tag=3,e}function Op(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Np(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Np(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function o1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?ic():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(r(435,s.tag))}return Zf(e,o,h),ic(),!1}if(Mt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(r(422),{cause:o}),Uo(In(e,s)))):(o!==Hh&&(n=Error(r(423),{cause:o}),Uo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=wf(e.stateNode,o,h),tf(e,h),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=In(f,s),el===null?el=[f]:el.push(f),ue!==4&&(ue=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,o,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Dp(h),Op(h,e,s,o),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(r(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?kg(n,null,s,o):Cr(n,e.child,s,o)}function xp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return br(n),o=of(e,n,s,g,f,h),E=lf(),e!==null&&!Se?(uf(e,n,h),ji(e,n,h)):(Mt&&E&&Bh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Mp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Vp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Vp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Vf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,ji(e,n,h)}return If(e,n,s,o,h)}function kp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Up(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Pg(n,f):nf(),zg(n);else return o=n.lanes=536870912,Up(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Pg(n,f),As(),n.memoizedState=null):(e!==null&&Du(n,null),nf(),As());return qe(e,n,h,s),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Up(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),nf(),zg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Lp(e,n,s){return Cr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function l1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Yo(null,e);if(rf(n),(e=te)?(e=Xy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Eg(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw ps(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Lp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=Wt,o!==null&&(g=go(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(e,g),un(o,e,g),Rf;ic(),n=Lp(e,n,s)}else e=f.treeContext,te=xn(g.nextSibling),je=n,Mt=!0,gs=null,Dn=!1,e!==null&&Sg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return br(n),s=of(e,n,s,o,void 0,h),o=lf(),e!==null&&!Se?(uf(e,n,h),ji(e,n,h)):(Mt&&o&&Bh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Pp(e,n,s,o,h,f){return br(n),n.updateQueue=null,s=Bg(n,o,s,h),jg(e),o=lf(),e!==null&&!Se?(uf(e,n,f),ji(e,n,f)):(Mt&&o&&Bh(n),n.flags|=1,qe(e,n,s,f),n.child)}function zp(e,n,s,o,h){if(br(n),n.stateNode===null){var f=fa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},$h(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):fa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Dr(s,E);f.props=R;var z=f.context,G=s.contextType;g=fa,typeof G=="object"&&G!==null&&(g=Be(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&wp(n,f,o,g),_s=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||_s?(typeof K=="function"&&(Sf(n,s,K,o),z=n.memoizedState),(R=_s||bp(n,s,R,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,G=Dr(s,g),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,R=fa,typeof z=="object"&&z!==null&&(R=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==R)&&wp(n,f,o,R),_s=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var q=n.memoizedState;g!==K||j!==q||_s||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),q=n.memoizedState),(G=_s||bp(n,s,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,h),n.child=Cr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function jp(e,n,s,o){return Ar(),n.flags|=256,qe(e,n,s,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:Ng()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Bp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Ts(n):As(),(e=te)?(e=Xy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Eg(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw ps(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Tr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,Yo(null,o)):(Ts(n),Of(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=xf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Tr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,n=Yo(null,o));else if(Ts(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,Uo({value:o,source:null,stack:null}),n=xf(e,n,s)}else if(Se||pa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(o=go(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Er(e,o),un(g,e,o),Rf;hd(E)||ic(),n=xf(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=xn(E.nextSibling),je=n,Mt=!0,gs=null,Dn=!1,e!==null&&Sg(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Vi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Tr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Ng(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=Cf,Yo(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function xf(e,n,s){return Cr(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function qp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Qh(e.return,n,s)}function Mf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Hp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(fe,g),qe(e,n,o,s),o=Mt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qp(e,s,n);else if(e.tag===19)qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function u1(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ys(n,Te,e.memoizedState.cache),Ar();break;case 27:case 5:nr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Bp(e,n,s):(Ts(n),e=ji(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Hp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(fe,fe.current),o)break;return null;case 22:return n.lanes=0,kp(e,n,s,n.pendingProps);case 24:ys(n,Te,e.memoizedState.cache)}return ji(e,n,s)}function Gp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return Se=!1,u1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&Ag(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=Dr(e,o),n.tag=1,n=zp(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=xp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Mp(null,n,e,o,s);break t}}throw n=Ut(e)||e,Error(r(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Dr(o,n.pendingProps),zp(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),Ho(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ys(n,Te,o),o!==f.cache&&Kh(n,[Te],s,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jp(e,n,o,s);break t}else if(o!==h){h=In(Error(r(424)),n),Uo(h),n=jp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=xn(e.firstChild),je=n,Mt=!0,gs=null,Dn=!0,s=kg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ar(),o===h){n=ji(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=e_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,o=cc(St.current).createElement(s),o[_e]=n,o[xe]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=e_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Mt&&(o=n.stateNode=$y(n.type,n.pendingProps,St.current),je=n,Dn=!0,h=te,Ds(n.type)?(dd=h,te=xn(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=te)&&(o=z1(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,je=n,te=xn(o.firstChild),Dn=!1,h=!0):h=!1),h||ps(n)),nr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,t1,null,null,s),ul._currentValue=h),Ku(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Mt&&((e=s=te)&&(s=j1(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,je=n,te=null,e=!0):e=!1),e||ps(n)),null;case 13:return Bp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return xp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Mp(e,n,n.type,n.pendingProps,s);case 15:return Vp(e,n,n.type,n.pendingProps,s);case 19:return Hp(e,n,s);case 31:return l1(e,n,s);case 22:return kp(e,n,s,n.pendingProps);case 24:return br(n),o=Be(Te),e===null?(h=Zh(),h===null&&(h=Wt,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},$h(n),ys(n,Te,h)):((e.lanes&s)!==0&&(Wh(e,n),Ho(n,null,null,s),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Te,o)):(o=f.cache,ys(n,Te,o),o!==h.cache&&Kh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Bi(e){e.flags|=4}function kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(yy())e.flags|=8192;else throw Ir=xu,Jh}else e.flags&=-16777217}function Fp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!a_(n))if(yy())e.flags|=8192;else throw Ir=xu,Jh}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ca|=n)}function Xo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function c1(e,n,s){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ee(n),Fp(n,f)):(ee(n),kf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),ee(n),Fp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ee(n),kf(n,h,e,o,s)),null;case 27:if(Kr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}e=st.current,ga(n)?bg(n):(e=$y(h,o,s),n.stateNode=e,Bi(n))}return ee(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=st.current,ga(n))bg(n);else{var g=cc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ee(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||By(e.nodeValue,s)),e||ps(n,!0)}else e=cc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&id(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(Y(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)vg(s,e),s=s.sibling;return et(fe,fe.current&1|2),Mt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>tc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ee(n),null}else 2*$e()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=fe.current,et(fe,h?s&1|2:s&1),Mt&&ki(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return yn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(wr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function h1(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(fe),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),sf(),e!==null&&Y(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Te),null;case 25:return null;default:return null}}function Qp(e,n){switch(qh(n),n.tag){case 3:Li(Te),se();break;case 26:case 27:case 5:Kr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(fe);break;case 10:Li(n.type);break;case 22:case 23:yn(n),sf(),e!==null&&Y(wr);break;case 24:Li(Te)}}function Zo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Kt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Kt(n,n.return,G)}}function Kp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Lg(n,s)}catch(o){Kt(e,e.return,o)}}}function Yp(e,n,s){s.props=Dr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function Xp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Uf(e,n,s){try{var o=e.stateNode;M1(o,e.type,s,n),o[xe]=n}catch(h){Kt(e,e.return,h)}}function Zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function Jp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[xe]=s}catch(f){Kt(e,e.return,f)}}var qi=!1,be=!1,zf=!1,$p=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function f1(e,n){if(e=e.containerInfo,ad=yc,e=cg(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(R=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(od={focusedElem:e,selectionRange:s},yc=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Dr(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function Wp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),o&4&&Zo(5,s);break;case 1:if(Gi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&Kp(s),o&512&&Jo(s,s.return);break;case 3:if(Gi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Lg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&Jp(s);case 26:case 5:Gi(e,s),n===null&&o&4&&Xp(s),o&512&&Jo(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),o&4&&ny(e,s);break;case 13:Gi(e,s),o&4&&iy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=T1.bind(null,s),B1(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=h,be=f}break;case 30:break;default:Gi(e,s)}}function ty(e){var n=e.alternate;n!==null&&(e.alternate=null,ty(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Hi(e,n,s){for(s=s.child;s!==null;)ey(e,n,s),s=s.sibling}function ey(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:be||_i(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||_i(s,n);var o=ae,h=rn;Ds(s.type)&&(ae=s.stateNode,rn=!1),Hi(e,n,s),al(s.stateNode),ae=o,rn=h;break;case 5:be||_i(s,n);case 6:if(o=ae,h=rn,ae=null,Hi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):Ky(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Hi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),be||Ss(4,s,n),Hi(e,n,s);break;case 1:be||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Yp(s,n,o)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Hi(e,n,s),be=o;break;default:Hi(e,n,s)}}function ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Kt(n,n.return,s)}}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Kt(n,n.return,s)}}function d1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $p),n;default:throw Error(r(435,e.tag))}}function Ju(e,n){var s=d1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=A1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));ey(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)sy(n,e),n=n.sibling}var Kn=null;function sy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),Zo(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=s_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=s_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else r_(h,e.type,e.stateNode);else e.stateNode=i_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?r_(h,e.type,e.stateNode):i_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),s!==null&&o&4&&Uf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(dc=null,h=Kn,Kn=hc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}zf&&(zf=!1,ry(e));break;case 4:o=Kn,Kn=hc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=qi,G=be;if(qi=z||h,be=G||R,an(n,e),be=G,qi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||qi||be||Or(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Yy(q,!0):Yy(R.stateNode,!1)}catch(rt){Kt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Zp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Lf(e);Zu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Lf(e);Pf(e,z,R);break;default:throw Error(r(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wp(e,n.alternate,n),n=n.sibling}function Or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Or(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Yp(n,n.return,s),Or(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Zo(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ug(R[h],E)}catch(z){Kt(o,o.return,z)}}s&&g&64&&Kp(f),Jo(f,f.return);break;case 27:Jp(f);case 26:case 5:Fi(h,f,s),s&&o===null&&g&4&&Xp(f),Jo(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&ny(h,f);break;case 13:Fi(h,f,s),s&&g&4&&iy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Jo(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lo(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ay(e,n,s,o),n=n.sibling}function ay(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),h&2048&&Zo(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):$o(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:Yn(e,n,s,o),h&2048&&Bf(n.alternate,n);break;default:Yn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,R,h),Zo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?wa(f,g,E,R,h):$o(f,g):(G._visibility|=2,wa(f,g,E,R,h)),h&&z&2048&&jf(g.alternate,g);break;case 24:wa(f,g,E,R,h),h&&z&2048&&Bf(g.alternate,g);break;default:wa(f,g,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:$o(s,o),h&2048&&jf(o.alternate,o);break;case 24:$o(s,o),h&2048&&Bf(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Wo=8192;function Ra(e,n,s){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)oy(e,n,s),e=e.sibling}function oy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&Wo&&e.memoizedState!==null&&W1(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Kn;Kn=hc(e.stateNode.containerInfo),Ra(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ra(e,n,s),Wo=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function ly(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ve=o,cy(o,e)}ly(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uy(e),e=e.sibling}function uy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):tl(e);break;default:tl(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ve=o,cy(o,e)}ly(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function cy(e,n){for(;Ve!==null;){var s=Ve;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ve=o;else t:for(s=e;Ve!==null;){o=Ve;var h=o.sibling,f=o.return;if(ty(o),o===s){Ve=null;break t}if(h!==null){h.return=f,Ve=h;break t}Ve=f}}}var m1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Wt=null,wt=null,It=0,Qt=0,_n=null,bs=!1,Ia=!1,qf=!1,Qi=0,ue=0,ws=0,xr=0,Hf=0,vn=0,Ca=0,el=null,ln=null,Gf=!1,Wu=0,hy=0,tc=1/0,ec=null,Rs=null,Ne=0,Is=null,Na=null,Ki=0,Ff=0,Qf=null,fy=null,nl=0,Kf=null;function En(){return(Bt&2)!==0&&It!==0?It&-It:H.T!==null?Wf():nu()}function dy(){if(vn===0)if((It&536870912)===0||Mt){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Cs(e,It,vn,!1)),ar(e,s),((Bt&2)===0||e!==Wt)&&(e===Wt&&((Bt&2)===0&&(xr|=s),ue===4&&Cs(e,It,vn,!1)),vi(e))}function my(e,n,s){if((Bt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?_1(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!p1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=el;var R=E.current.memoizedState.isDehydrated;if(R&&(Da(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(qf&&!R){E.errorRecoveryDisabledLanes|=f,xr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,vn,!bs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Wu+300-$e(),10<h)){if(Cs(o,n,vn,!bs),ei(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=Fy(gy.bind(null,o,s,ln,ec,Gf,n,vn,xr,Ca,bs,f,"Throttled",-0,0),h);break t}gy(o,s,ln,ec,Gf,n,vn,xr,Ca,bs,f,null,-0,0)}}break}while(!0);vi(e)}function gy(e,n,s,o,h,f,g,E,R,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},oy(n,f,K);var rt=(f&62914560)===f?Wu-$e():(f&4194048)===f?hy-$e():0;if(rt=tA(K,rt),rt!==null){Ki=f,e.cancelPendingCommit=rt(Sy.bind(null,e,n,f,s,o,h,g,E,R,G,K,null,j,q)),Cs(e,f,g,!z);return}}Sy(e,n,f,s,o,h,g,E,R)}function p1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~Hf,n&=~xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&or(e,s,n)}function nc(){return(Bt&6)===0?(il(0),!1):!0}function Yf(){if(wt!==null){if(Qt===0)var e=wt.return;else e=wt,Ui=Sr=null,cf(e),Ea=null,zo=0,e=wt;for(;e!==null;)Qp(e.alternate,e),e=e.return;wt=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,U1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,Yf(),Wt=e,wt=s=Vi(e.current,null),It=n,Qt=0,_n=null,bs=!1,Ia=Pn(e,n),qf=!1,Ca=vn=Hf=xr=ws=ue=0,ln=el=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Su(),s}function py(e,n){At=null,H.H=Ko,n===va||n===Ou?(n=xg(),Qt=3):n===Jh?(n=xg(),Qt=4):Qt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,wt===null&&(ue=1,Fu(e,In(n,e.current)))}function yy(){var e=pn.current;return e===null?!0:(It&4194048)===It?On===null:(It&62914560)===It||(It&536870912)!==0?e===On:!1}function _y(){var e=H.H;return H.H=Ko,e===null?Ko:e}function vy(){var e=H.A;return H.A=m1,e}function ic(){ue=4,bs||(It&4194048)!==It&&pn.current!==null||(Ia=!0),(ws&134217727)===0&&(xr&134217727)===0||Wt===null||Cs(Wt,It,vn,!1)}function Xf(e,n,s){var o=Bt;Bt|=2;var h=_y(),f=vy();(Wt!==e||It!==n)&&(ec=null,Da(e,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&wt!==null){var E=wt,R=_n;switch(Qt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var z=Qt;if(Qt=0,_n=null,Oa(e,E,R,z),s&&Ia){g=0;break t}break;default:z=Qt,Qt=0,_n=null,Oa(e,E,R,z)}}y1(),g=ue;break}catch(G){py(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ui=Sr=null,Bt=o,H.H=h,H.A=f,wt===null&&(Wt=null,It=0,Su()),g}function y1(){for(;wt!==null;)Ey(wt)}function _1(e,n){var s=Bt;Bt|=2;var o=_y(),h=vy();Wt!==e||It!==n?(ec=null,tc=$e()+500,Da(e,n)):Ia=Pn(e,n);t:do try{if(Qt!==0&&wt!==null){n=wt;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Oa(e,n,f,1);break;case 2:case 9:if(Dg(f)){Qt=0,_n=null,Ty(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),vi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Dg(f)?(Qt=0,_n=null,Ty(n)):(Qt=0,_n=null,Oa(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?a_(g):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)wt=R;else{var z=E.return;z!==null?(wt=z,sc(z)):wt=null}break e}}Qt=0,_n=null,Oa(e,n,f,5);break;case 6:Qt=0,_n=null,Oa(e,n,f,6);break;case 8:Yf(),ue=6;break t;default:throw Error(r(462))}}v1();break}catch(G){py(e,G)}while(!0);return Ui=Sr=null,H.H=o,H.A=h,Bt=s,wt!==null?0:(Wt=null,It=0,Su(),ue)}function v1(){for(;wt!==null&&!bh();)Ey(wt)}function Ey(e){var n=Gp(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?sc(e):wt=n}function Ty(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Pp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Pp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:cf(n);default:Qp(s,n),n=wt=vg(n,Qi),n=Gp(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?sc(e):wt=n}function Oa(e,n,s,o){Ui=Sr=null,cf(n),Ea=null,zo=0;var h=n.return;try{if(o1(e,h,n,s,It)){ue=1,Fu(e,In(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Fu(e,In(s,e.current)),wt=null;return}n.flags&32768?(Mt||o===1?e=!0:Ia||(It&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ay(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Ay(n,bs);return}e=n.return;var s=c1(n.alternate,n,Qi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function Ay(e,n){do{var s=h1(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);ue=6,wt=null}function Sy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do rc();while(Ne!==0);if((Bt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Uh,Ih(e,s,f,g,E,R),e===Wt&&(wt=Wt=null,It=0),Na=n,Is=e,Ki=s,Ff=f,Qf=h,fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S1(ss,function(){return Cy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=Bt,Bt|=4;try{f1(e,n,s)}finally{Bt=g,W.p=h,H.T=o}}Ne=1,by(),wy(),Ry()}}function by(){if(Ne===1){Ne=0;var e=Is,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{sy(n,e);var f=od,g=cg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ug(E.ownerDocument.documentElement,E)){if(R!==null&&Oh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=E.textContent.length,mt=Math.min(R.start,rt),Jt=R.end===void 0?mt:Math.min(R.end,rt);!q.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var V=lg(E,mt),D=lg(E,Jt);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),mt>Jt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}yc=!!ad,od=ad=null}finally{Bt=h,W.p=o,H.T=s}}e.current=n,Ne=2}}function wy(){if(Ne===2){Ne=0;var e=Is,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{Wp(e,n.alternate,n)}finally{Bt=h,W.p=o,H.T=s}}Ne=3}}function Ry(){if(Ne===4||Ne===3){Ne=0,Xl();var e=Is,n=Na,s=Ki,o=fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Na=Is=null,Iy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Ki&3)!==0&&rc(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Kf?nl++:(nl=0,Kf=e):nl=0,il(0)}}function Iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function rc(){return by(),wy(),Ry(),Cy()}function Cy(){if(Ne!==5)return!1;var e=Is,n=Ff;Ff=0;var s=Di(Ki),o=H.T,h=W.p;try{W.p=32>s?32:s,H.T=null,s=Qf,Qf=null;var f=Is,g=Ki;if(Ne=0,Na=Is=null,Ki=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,uy(f.current),ay(f,f.current,g,s),Bt=E,il(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=h,H.T=o,Iy(e,n)}}function Ny(e,n,s){n=In(s,n),n=wf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(ar(e,2),vi(e))}function Kt(e,n,s){if(e.tag===3)Ny(e,e,s);else for(;n!==null;){if(n.tag===3){Ny(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=In(s,e),s=Dp(2),o=Es(n,s,2),o!==null&&(Op(s,o,n,e),ar(o,2),vi(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new g1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(qf=!0,h.add(s),e=E1.bind(null,e,n,s),n.then(e,e))}function E1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(It&s)===s&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-Wu?(Bt&2)===0&&Da(e,0):Hf|=s,Ca===It&&(Ca=0)),vi(e)}function Dy(e,n){n===0&&(n=eu()),e=Er(e,n),e!==null&&(ar(e,n),vi(e))}function T1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Dy(e,s)}function A1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Dy(e,s)}function S1(e,n){return Ce(e,n)}var ac=null,xa=null,Jf=!1,oc=!1,$f=!1,Ns=0;function vi(e){e!==xa&&e.next===null&&(xa===null?ac=xa=e:xa=xa.next=e),oc=!0,Jf||(Jf=!0,w1())}function il(e,n){if(!$f&&oc){$f=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vy(o,f))}else f=It,f=ei(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,Vy(o,f));o=o.next}while(s);$f=!1}}function b1(){Oy()}function Oy(){oc=Jf=!1;var e=0;Ns!==0&&k1()&&(e=Ns);for(var n=$e(),s=null,o=ac;o!==null;){var h=o.next,f=xy(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Ne!==0&&Ne!==5||il(e),Ns!==0&&(Ns=0)}function xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Rh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=It,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&is(o),Di(s)){case 2:case 8:s=fo;break;case 32:s=ss;break;case 268435456:s=Zl;break;default:s=ss}return o=My.bind(null,e),s=Ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function My(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=It;return o=ei(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(my(e,o,n),xy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?My.bind(null,e):null)}function Vy(e,n){if(rc())return null;my(e,n,!0)}function w1(){L1(function(){(Bt&6)!==0?Ce(ho,b1):Oy()})}function Wf(){if(Ns===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ns=e}return Ns}function ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Uy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function R1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=ky((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var R=g?Uy(h,g):new FormData(h);vf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Uy(h,g):new FormData(h),vf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],I1=ed.toLowerCase(),C1=ed[0].toUpperCase()+ed.slice(1);Qn(I1,"on"+C1)}Qn(dg,"onAnimationEnd"),Qn(mg,"onAnimationIteration"),Qn(gg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(GT,"onTransitionRun"),Qn(FT,"onTransitionStart"),Qn(QT,"onTransitionCancel"),Qn(pg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Ly(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}}}}function Rt(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Py(n,e,2,!1),s.add(o))}function nd(e,n,s){var o=0;n&&(o|=4),Py(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[lc]){e[lc]=!0,po.forEach(function(s){s!=="selectionchange"&&(N1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,nd("selectionchange",!1,n))}}function Py(e,n,s,o){switch(d_(n)){case 2:var h=iA;break;case 8:h=sA;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,G=Sn(s),K=[];t:{var j=yg.get(e);if(j!==void 0){var q=fi,rt=e;switch(e){case"keypress":if(mr(s)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":rt="focus",q=pr;break;case"focusout":rt="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case dg:case mg:case gg:q=fu;break;case pg:q=T;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),V=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||V===null||(F=qn(D,V),F!=null&&mt.push(rl(D,F,P))),Jt)break;D=D.return}0<mt.length&&(j=new q(j,rt,null,s,G),K.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==wo&&(rt=s.relatedTarget||s.fromElement)&&(ri(rt)||rt[ii]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=z,rt=rt?ri(rt):null,rt!==null&&(Jt=c(rt),mt=rt.tag,rt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(mt=No,F="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Mi,F="onPointerLeave",V="onPointerEnter",D="pointer"),Jt=q==null?j:fn(q),P=rt==null?j:fn(rt),j=new mt(F,D+"leave",q,s,G),j.target=Jt,j.relatedTarget=P,F=null,ri(G)===z&&(mt=new mt(V,D+"enter",rt,s,G),mt.target=P,mt.relatedTarget=Jt,F=mt),Jt=F,q&&rt)e:{for(mt=D1,V=q,D=rt,P=0,F=V;F;F=mt(F))P++;F=0;for(var ct=D;ct;ct=mt(ct))F++;for(;0<P-F;)V=mt(V),P--;for(;0<F-P;)D=mt(D),F--;for(;P--;){if(V===D||D!==null&&V===D.alternate){mt=V;break e}V=mt(V),D=mt(D)}mt=null}else mt=null;q!==null&&zy(K,j,q,mt,!1),rt!==null&&Jt!==null&&zy(K,Jt,rt,mt,!0)}}t:{if(j=z?fn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Pt=ng;else if(tg(j))if(ig)Pt=BT;else{Pt=zT;var at=PT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ea(z.elementType)&&(Pt=ng):Pt=jT;if(Pt&&(Pt=Pt(e,z))){eg(K,Pt,s,G);break t}at&&at(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ao(j,"number",j.value)}switch(at=z?fn(z):window,e){case"focusin":(tg(at)||at.contentEditable==="true")&&(ua=at,xh=z,Vo=null);break;case"focusout":Vo=xh=ua=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,hg(K,s,G);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":hg(K,s,G)}var bt;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else la?yr(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(gi&&s.locale!=="ko"&&(la||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&la&&(bt=Io()):(hi=G,Ro="value"in hi?hi.value:hi.textContent,la=!0)),at=uc(z,Ct),0<at.length&&(Ct=new mi(Ct,e,null,s,G),K.push({event:Ct,listeners:at}),bt?Ct.data=bt:(bt=oa(s),bt!==null&&(Ct.data=bt)))),(bt=wn?VT(e,s):kT(e,s))&&(Ct=uc(z,"onBeforeInput"),0<Ct.length&&(at=new mi("onBeforeInput","beforeinput",null,s,G),K.push({event:at,listeners:Ct}),at.data=bt)),R1(K,e,z,s,G)}Ly(K,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,s),h!=null&&o.unshift(rl(e,h,f)),h=qn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function D1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=qn(s,f),z!=null&&g.unshift(rl(s,z,R))):h||(z=qn(s,f),z!=null&&g.push(rl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var O1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(x1,"")}function By(e,n){return n=jy(n),jy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,Wr(e,s,o))}}function rd(e,n,s,o,h,f){switch(s){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Wr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Zt(e,n,o,G,s,null)}}au(e,f,E,R,z,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?as(e,!!o,n,!1):s!=null&&as(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,n,g,E,s,null)}os(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,s,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Rt(sl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,z,o,s,null)}return;default:if(ea(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&rd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function M1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=s[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Zt(e,n,j,q,o,K)}}ta(e,g,E,R,z,G,f,h);return;case"select":q=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,s=g,o=q,j!=null?as(e,!!s,j,!1):!!o!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}ou(e,j,q);return;case"option":for(var rt in s)j=s[rt],s.hasOwnProperty(rt)&&j!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Zt(e,n,rt,null,o,j));for(R in o)j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)j=s[mt],s.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Zt(e,n,z,j,o,q)}return;default:if(ea(n)){for(var Jt in s)j=s[Jt],s.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&rd(e,n,Jt,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||rd(e,n,G,j,o,q);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,j);for(K in o)j=o[K],q=s[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||Zt(e,n,K,j,o,q)}function qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function V1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&qy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var G=R.transferSize,K=R.initiatorType;G&&qy(K)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function k1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(P1)}:Fy;function P1(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Ky(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")al(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,al(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&al(e.ownerDocument.body);s=h}while(s);Ua(n)}function Yy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),$r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function z1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function j1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function Xy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function B1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function Zy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Jy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function $y(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var Mn=new Map,Wy=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=W.d;W.d={f:q1,r:H1,D:G1,C:F1,L:Q1,m:K1,X:X1,S:Y1,M:Z1};function q1(){var e=Yi.f(),n=nc();return e||n}function H1(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?pp(n):Yi.r(e)}var Ma=typeof document>"u"?null:document;function t_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Wy.has(h)||(Wy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function G1(e){Yi.D(e),t_("dns-prefetch",e,null)}function F1(e,n){Yi.C(e,n),t_("preconnect",e,n)}function Q1(e,n,s){Yi.L(e,n,s);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}Mn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function K1(e,n){Yi.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function Y1(e,n,s){Yi.S(e,n,s);var o=Ma;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ol(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&md(e,s);var R=g=o.createElement("link");ve(R),He(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function X1(e,n){Yi.X(e,n);var s=Ma;if(s&&e){var o=ai(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=b({src:e,async:!0},n),(n=Mn.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Z1(e,n){Yi.M(e,n);var s=Ma;if(s&&e){var o=ai(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function e_(e,n,s,o){var h=(h=St.current)?hc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||J1(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function n_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function J1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function i_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=n_(s),(h=Mn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(ll(f)))?(n.instance=h,ve(h),h):(o=s,(h=Mn.get(f))&&(o=b({},s),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function s_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function r_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function a_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=n_(o),(h=Mn.get(h))&&md(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function tA(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*V1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(eA,e),gc=null,mc.call(e))}function eA(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function nA(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function o_(e,n,s,o,h,f,g,E,R,z,G,K){return e=new nA(e,n,s,g,R,z,G,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},$h(f),e}function l_(e){return e?(e=fa,e):fa}function u_(e,n,s,o,h,f){h=l_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(un(s,e,n),Bo(s,e,n))}function c_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){c_(e,n),(e=e.alternate)&&c_(e,n)}function h_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),yd(e,67108864)}}function f_(e){if(e.tag===13||e.tag===31){var n=En();n=lr(n);var s=Er(e,n);s!==null&&un(s,e,n),yd(e,n)}}var yc=!0;function iA(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,_d(e,n,s,o)}finally{W.p=f,H.T=h}}function sA(e,n,s,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,_d(e,n,s,o)}finally{W.p=f,H.T=h}}function _d(e,n,s,o){if(yc){var h=vd(o);if(h===null)sd(e,n,o,_c,s),m_(e,o);else if(aA(h,e,n,s,o))o.stopPropagation();else if(m_(e,o),n&4&&-1<rA.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}vi(f),(Bt&6)===0&&(tc=$e()+500,il(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&un(E,f,2),nc(),yd(f,2)}if(f=vd(o),f===null&&sd(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,s)}}function vd(e){return e=Sn(e),Ed(e)}var _c=null;function Ed(e){if(_c=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function d_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case ho:return 2;case fo:return 8;case ss:case wh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Td=!1,Os=null,xs=null,Ms=null,cl=new Map,hl=new Map,Vs=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&h_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function aA(e,n,s,o,h){switch(n){case"focusin":return Os=fl(Os,e,n,s,o,h),!0;case"dragenter":return xs=fl(xs,e,n,s,o,h),!0;case"mouseover":return Ms=fl(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,s,o,h)),!0}return!1}function g_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){f_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){f_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wo=o,s.target.dispatchEvent(o),wo=null}else return n=An(s),n!==null&&h_(n),e.blockedOn=s,!1;n.shift()}return!0}function p_(e,n,s){vc(e)&&s.delete(n)}function oA(){Td=!1,Os!==null&&vc(Os)&&(Os=null),xs!==null&&vc(xs)&&(xs=null),Ms!==null&&vc(Ms)&&(Ms=null),cl.forEach(p_),hl.forEach(p_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,oA)))}var Tc=null;function y_(e){Tc!==e&&(Tc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ed(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ua(e){function n(R){return Ec(R,e)}Os!==null&&Ec(Os,e),xs!==null&&Ec(xs,e),Ms!==null&&Ec(Ms,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)g_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[xe]||null;if(typeof f=="function")g||y_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),y_(s)}}}function __(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Ac.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=En();u_(s,o,e,n,null,null)},Ac.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;u_(e.current,2,null,e,null,null),nc(),n[ii]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&g_(e)}};var v_=t.version;if(v_!=="19.2.3")throw Error(r(527,v_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var lA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Ln=Sc.inject(lA),Pe=Sc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Rp,f=Ip,g=Cp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=o_(e,1,!1,null,null,s,o,null,h,f,g,__),e[ii]=n.current,id(e),new Ad(n)},ml.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Rp,g=Ip,E=Cp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=o_(e,1,!0,n,s??null,o,h,R,f,g,E,__),n.context=l_(null),s=n.current,o=En(),o=lr(o),h=vs(o),h.callback=null,Es(s,h,o),s=o,n.current.lanes=s,ar(n,s),vi(n),e[ii]=n.current,id(e),new Ac(n)},ml.version="19.2.3",ml}var N_;function _A(){if(N_)return wd.exports;N_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wd.exports=yA(),wd.exports}var vA=_A();const EA=()=>{};var D_={};const u0=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},TA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,v=y?a[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let k=(p&15)<<2|v>>6,Q=v&63;y||(Q=64,d||(k=64)),r.push(i[A],i[b],i[k],i[Q])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(u0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):TA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new AA;const k=c<<2|p>>4;if(r.push(k),v!==64){const Q=p<<4&240|v>>2;if(r.push(Q),b!==64){const tt=v<<6&192|b;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class AA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SA=function(a){const t=u0(a);return c0.encodeByteArray(t,!0)},jc=function(a){return SA(a).replace(/\./g,"")},h0=function(a){try{return c0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wA=()=>bA().__FIREBASE_DEFAULTS__,RA=()=>{if(typeof process>"u"||typeof D_>"u")return;const a=D_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},IA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&h0(a[1]);return t&&JSON.parse(t)},ah=()=>{try{return EA()||wA()||RA()||IA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},f0=a=>ah()?.emulatorHosts?.[a],CA=a=>{const t=f0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},d0=()=>ah()?.config,m0=a=>ah()?.[`_${a}`];class NA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function eo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g0(a){return(await fetch(a,{credentials:"include"})).ok}function DA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const Al={};function OA(){const a={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?a.emulator.push(t):a.prod.push(t);return a}function xA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let O_=!1;function p0(a,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Al[a]===t||Al[a]||O_)return;Al[a]=t;function i(k){return`__firebase__banner__${k}`}const r="__firebase__banner",c=OA().prod.length>0;function d(){const k=document.getElementById(r);k&&k.remove()}function p(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function y(k,Q){k.setAttribute("width","24"),k.setAttribute("id",Q),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function v(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{O_=!0,d()},k}function A(k,Q){k.setAttribute("id",Q),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function b(){const k=xA(r),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),lt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const ht=k.element;p(ht),A(J,nt);const qt=v();y(lt,dt),ht.append(lt,tt,J,qt),document.body.appendChild(ht)}c?(tt.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function VA(){const a=ah()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function LA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function zA(){return!VA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jA(){try{return typeof indexedDB=="object"}catch{return!1}}function BA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const qA="FirebaseError";class ns extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=qA,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?HA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,r)}}function HA(a,t){return a.replace(GA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const GA=/\{\$([^}]+)}/g;function FA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Lr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(x_(c)&&x_(d)){if(!Lr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function x_(a){return a!==null&&typeof a=="object"}function zl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pl(a){const t={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function yl(a){const t=a.indexOf("?");if(!t)return"";const i=a.indexOf("#",t);return a.substring(t,i>0?i:void 0)}function QA(a,t){const i=new KA(a,t);return i.subscribe.bind(i)}class KA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");YA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Nd(){}function en(a){return a&&a._delegate?a._delegate:a}class Pr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class XA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new NA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JA(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZA(a){return a===Mr?void 0:a}function JA(a){return a.instantiationMode==="EAGER"}class $A{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new XA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Nt||(Nt={}));const WA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},tS=Nt.INFO,eS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},nS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=eS[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=tS,this._logHandler=nS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const iS=(a,t)=>t.some(i=>a instanceof i);let M_,V_;function sS(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rS(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y0=new WeakMap,Hd=new WeakMap,_0=new WeakMap,Dd=new WeakMap,gm=new WeakMap;function aS(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(qs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&y0.set(i,a)}).catch(()=>{}),gm.set(t,a),t}function oS(a){if(Hd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Hd.set(a,t)}let Gd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Hd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||_0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function lS(a){Gd=a(Gd)}function uS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Od(this),t,...i);return _0.set(r,t.sort?t.sort():[t]),qs(r)}:rS().includes(a)?function(...t){return a.apply(Od(this),t),qs(y0.get(this))}:function(...t){return qs(a.apply(Od(this),t))}}function cS(a){return typeof a=="function"?uS(a):(a instanceof IDBTransaction&&oS(a),iS(a,sS())?new Proxy(a,Gd):a)}function qs(a){if(a instanceof IDBRequest)return aS(a);if(Dd.has(a))return Dd.get(a);const t=cS(a);return t!==a&&(Dd.set(a,t),gm.set(t,a)),t}const Od=a=>gm.get(a);function hS(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=qs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(qs(d.result),y.oldVersion,y.newVersion,qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const fS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],xd=new Map;function k_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=dS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||fS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return xd.set(t,c),c}lS(a=>({...a,get:(t,i,r)=>k_(t,i)||a.get(t,i,r),has:(t,i)=>!!k_(t,i)||a.has(t,i)}));class mS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function gS(a){return a.getComponent()?.type==="VERSION"}const Fd="@firebase/app",U_="0.14.6";const $i=new mm("@firebase/app"),pS="@firebase/app-compat",yS="@firebase/analytics-compat",_S="@firebase/analytics",vS="@firebase/app-check-compat",ES="@firebase/app-check",TS="@firebase/auth",AS="@firebase/auth-compat",SS="@firebase/database",bS="@firebase/data-connect",wS="@firebase/database-compat",RS="@firebase/functions",IS="@firebase/functions-compat",CS="@firebase/installations",NS="@firebase/installations-compat",DS="@firebase/messaging",OS="@firebase/messaging-compat",xS="@firebase/performance",MS="@firebase/performance-compat",VS="@firebase/remote-config",kS="@firebase/remote-config-compat",US="@firebase/storage",LS="@firebase/storage-compat",PS="@firebase/firestore",zS="@firebase/ai",jS="@firebase/firestore-compat",BS="firebase",qS="12.6.0";const Qd="[DEFAULT]",HS={[Fd]:"fire-core",[pS]:"fire-core-compat",[_S]:"fire-analytics",[yS]:"fire-analytics-compat",[ES]:"fire-app-check",[vS]:"fire-app-check-compat",[TS]:"fire-auth",[AS]:"fire-auth-compat",[SS]:"fire-rtdb",[bS]:"fire-data-connect",[wS]:"fire-rtdb-compat",[RS]:"fire-fn",[IS]:"fire-fn-compat",[CS]:"fire-iid",[NS]:"fire-iid-compat",[DS]:"fire-fcm",[OS]:"fire-fcm-compat",[xS]:"fire-perf",[MS]:"fire-perf-compat",[VS]:"fire-rc",[kS]:"fire-rc-compat",[US]:"fire-gcs",[LS]:"fire-gcs-compat",[PS]:"fire-fst",[jS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[BS]:"fire-js-all"};const Bc=new Map,GS=new Map,Kd=new Map;function L_(a,t){try{a.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ya(a){const t=a.name;if(Kd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,a);for(const i of Bc.values())L_(i,a);for(const i of GS.values())L_(i,a);return!0}function pm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Vn(a){return a==null?!1:a.settings!==void 0}const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Pl("app","Firebase",FS);class QS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const no=qS;function v0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Qd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=d0()),!i)throw Hs.create("no-options");const c=Bc.get(l);if(c){if(Lr(i,c.options)&&Lr(r,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new $A(l);for(const y of Kd.values())d.addComponent(y);const p=new QS(i,r,d);return Bc.set(l,p),p}function E0(a=Qd){const t=Bc.get(a);if(!t&&a===Qd&&d0())return v0();if(!t)throw Hs.create("no-app",{appName:a});return t}function Gs(a,t,i){let r=HS[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ya(new Pr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const KS="firebase-heartbeat-database",YS=1,Cl="firebase-heartbeat-store";let Md=null;function T0(){return Md||(Md=hS(KS,YS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Hs.create("idb-open",{originalErrorMessage:a.message})})),Md}async function XS(a){try{const i=(await T0()).transaction(Cl),r=await i.objectStore(Cl).get(A0(a));return await i.done,r}catch(t){if(t instanceof ns)$i.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function P_(a,t){try{const r=(await T0()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(t,A0(a)),await r.done}catch(i){if(i instanceof ns)$i.warn(i.message);else{const r=Hs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(r.message)}}}function A0(a){return`${a.name}!${a.options.appId}`}const ZS=1024,JS=30;class $S{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>JS){const l=eb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z_(),{heartbeatsToSend:i,unsentEntries:r}=WS(this._heartbeatsCache.heartbeats),l=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function z_(){return new Date().toISOString().substring(0,10)}function WS(a,t=ZS){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),j_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),j_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class tb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jA()?BA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await XS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function j_(a){return jc(JSON.stringify({version:2,heartbeats:a})).length}function eb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function nb(a){Ya(new Pr("platform-logger",t=>new mS(t),"PRIVATE")),Ya(new Pr("heartbeat",t=>new $S(t),"PRIVATE")),Gs(Fd,U_,a),Gs(Fd,U_,"esm2020"),Gs("fire-js","")}nb("");var ib="firebase",sb="12.7.0";Gs(ib,sb,"app");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,S0;(function(){var a;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,N){for(var w=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)w[Ut-2]=arguments[Ut];return S.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)M[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],O=C.g[2];let N=C.g[3],w;w=S+(N^I&(O^N))+M[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=N+(O^S&(I^O))+M[1]+3905402710&4294967295,N=S+(w<<12&4294967295|w>>>20),w=O+(I^N&(S^I))+M[2]+606105819&4294967295,O=N+(w<<17&4294967295|w>>>15),w=I+(S^O&(N^S))+M[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(N^I&(O^N))+M[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=N+(O^S&(I^O))+M[5]+1200080426&4294967295,N=S+(w<<12&4294967295|w>>>20),w=O+(I^N&(S^I))+M[6]+2821735955&4294967295,O=N+(w<<17&4294967295|w>>>15),w=I+(S^O&(N^S))+M[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(N^I&(O^N))+M[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=N+(O^S&(I^O))+M[9]+2336552879&4294967295,N=S+(w<<12&4294967295|w>>>20),w=O+(I^N&(S^I))+M[10]+4294925233&4294967295,O=N+(w<<17&4294967295|w>>>15),w=I+(S^O&(N^S))+M[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(N^I&(O^N))+M[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=N+(O^S&(I^O))+M[13]+4254626195&4294967295,N=S+(w<<12&4294967295|w>>>20),w=O+(I^N&(S^I))+M[14]+2792965006&4294967295,O=N+(w<<17&4294967295|w>>>15),w=I+(S^O&(N^S))+M[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=S+(O^N&(I^O))+M[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=N+(I^O&(S^I))+M[6]+3225465664&4294967295,N=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(N^S))+M[11]+643717713&4294967295,O=N+(w<<14&4294967295|w>>>18),w=I+(N^S&(O^N))+M[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(O^N&(I^O))+M[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=N+(I^O&(S^I))+M[10]+38016083&4294967295,N=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(N^S))+M[15]+3634488961&4294967295,O=N+(w<<14&4294967295|w>>>18),w=I+(N^S&(O^N))+M[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(O^N&(I^O))+M[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=N+(I^O&(S^I))+M[14]+3275163606&4294967295,N=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(N^S))+M[3]+4107603335&4294967295,O=N+(w<<14&4294967295|w>>>18),w=I+(N^S&(O^N))+M[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(O^N&(I^O))+M[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=N+(I^O&(S^I))+M[2]+4243563512&4294967295,N=S+(w<<9&4294967295|w>>>23),w=O+(S^I&(N^S))+M[7]+1735328473&4294967295,O=N+(w<<14&4294967295|w>>>18),w=I+(N^S&(O^N))+M[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=S+(I^O^N)+M[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=N+(S^I^O)+M[8]+2272392833&4294967295,N=S+(w<<11&4294967295|w>>>21),w=O+(N^S^I)+M[11]+1839030562&4294967295,O=N+(w<<16&4294967295|w>>>16),w=I+(O^N^S)+M[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(I^O^N)+M[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=N+(S^I^O)+M[4]+1272893353&4294967295,N=S+(w<<11&4294967295|w>>>21),w=O+(N^S^I)+M[7]+4139469664&4294967295,O=N+(w<<16&4294967295|w>>>16),w=I+(O^N^S)+M[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(I^O^N)+M[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=N+(S^I^O)+M[0]+3936430074&4294967295,N=S+(w<<11&4294967295|w>>>21),w=O+(N^S^I)+M[3]+3572445317&4294967295,O=N+(w<<16&4294967295|w>>>16),w=I+(O^N^S)+M[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(I^O^N)+M[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=N+(S^I^O)+M[12]+3873151461&4294967295,N=S+(w<<11&4294967295|w>>>21),w=O+(N^S^I)+M[15]+530742520&4294967295,O=N+(w<<16&4294967295|w>>>16),w=I+(O^N^S)+M[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=S+(O^(I|~N))+M[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=N+(I^(S|~O))+M[7]+1126891415&4294967295,N=S+(w<<10&4294967295|w>>>22),w=O+(S^(N|~I))+M[14]+2878612391&4294967295,O=N+(w<<15&4294967295|w>>>17),w=I+(N^(O|~S))+M[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=S+(O^(I|~N))+M[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=N+(I^(S|~O))+M[3]+2399980690&4294967295,N=S+(w<<10&4294967295|w>>>22),w=O+(S^(N|~I))+M[10]+4293915773&4294967295,O=N+(w<<15&4294967295|w>>>17),w=I+(N^(O|~S))+M[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=S+(O^(I|~N))+M[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=N+(I^(S|~O))+M[15]+4264355552&4294967295,N=S+(w<<10&4294967295|w>>>22),w=O+(S^(N|~I))+M[6]+2734768916&4294967295,O=N+(w<<15&4294967295|w>>>17),w=I+(N^(O|~S))+M[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=S+(O^(I|~N))+M[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=N+(I^(S|~O))+M[11]+3174756917&4294967295,N=S+(w<<10&4294967295|w>>>22),w=O+(S^(N|~I))+M[2]+718787259&4294967295,O=N+(w<<15&4294967295|w>>>17),w=I+(N^(O|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let O=this.h,N=0;for(;N<S;){if(O==0)for(;N<=I;)l(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<S;)if(M[O++]=C.charCodeAt(N++),O==this.blockSize){l(this,M),O=0;break}}else for(;N<S;)if(M[O++]=C[N++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const N=C[O]|0;M&&N==S||(I[O]=N,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(v(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return J(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(S,8));let M=b;for(let N=0;N<C.length;N+=8){var O=Math.min(8,C.length-N);const w=parseInt(C.substring(N,N+O),S);O<8?(O=v(Math.pow(S,O)),M=M.j(O).add(v(w))):(M=M.j(I),M=M.add(v(w)))}return M}var b=y(0),k=y(1),Q=y(16777216);a=d.prototype,a.m=function(){if(nt(this))return-J(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(nt(this))return"-"+J(this).toString(C);const S=v(Math.pow(C,6));var I=this;let M="";for(;;){const O=qt(I,S).g;I=dt(I,O.j(S));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,tt(I))return N+M;for(;N.length<6;)N="0"+N;M=N+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function nt(C){return C.h==-1}a.l=function(C){return C=dt(this,C),nt(C)?-1:tt(C)?0:1};function J(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(k)}a.abs=function(){return nt(this)?J(this):this},a.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=S;O++){let N=M+(this.i(O)&65535)+(C.i(O)&65535),w=(N>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=w>>>16,N&=65535,w&=65535,I[O]=w<<16|N}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,S){return C.add(J(S))}a.j=function(C){if(tt(this)||tt(C))return b;if(nt(this))return nt(C)?J(this).j(J(C)):J(J(this).j(C));if(nt(C))return J(this.j(J(C)));if(this.l(Q)<0&&C.l(Q)<0)return v(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const N=this.i(M)>>>16,w=this.i(M)&65535,Ut=C.i(O)>>>16,ge=C.i(O)&65535;I[2*M+2*O]+=w*ge,lt(I,2*M+2*O),I[2*M+2*O+1]+=N*ge,lt(I,2*M+2*O+1),I[2*M+2*O+1]+=w*Ut,lt(I,2*M+2*O+1),I[2*M+2*O+2]+=N*Ut,lt(I,2*M+2*O+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function lt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ht(C,S){this.g=C,this.h=S}function qt(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new ht(b,b);if(nt(C))return S=qt(J(C),S),new ht(J(S.g),J(S.h));if(nt(S))return S=qt(C,J(S)),new ht(J(S.g),S.h);if(C.g.length>30){if(nt(C)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=k,M=S;M.l(C)<=0;)I=$t(I),M=$t(M);var O=xt(I,1),N=xt(M,1);for(M=xt(M,2),I=xt(I,2);!tt(M);){var w=N.add(M);w.l(C)<=0&&(O=O.add(I),N=w),M=xt(M,1),I=xt(I,1)}return S=dt(C,O.j(S)),new ht(O,S)}for(O=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),N=v(I),w=N.j(S);nt(w)||w.l(C)>0;)I-=M,N=v(I),w=N.j(S);tt(N)&&(N=k),O=O.add(N),C=dt(C,w)}return new ht(O,C)}a.B=function(C){return qt(this,C).h},a.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},a.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},a.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function $t(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function xt(C,S){const I=S>>5;S%=32;const M=C.g.length-I,O=[];for(let N=0;N<M;N++)O[N]=S>0?C.i(N+I)>>>S|C.i(N+I+1)<<32-S:C.i(N+I);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Fs=d}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var b0,_l,w0,Dc,Yd,R0,I0,C0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var $=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)$[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,$)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let $=0;$<B;$++)u[_+$]=L[$]}else u.push(L)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,_){const T=ht.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new nt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,xt=!1,C=new lt,S=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){J(_)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ut(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Ut,O),Ut.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ut.Z.h.call(this)},Ut.prototype.h=function(){Ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Gt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=St(u,m,T,L);return $>-1?(m=u[$],_||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,T,L);return null}return _=co(_),u&&u[ge]?u.J(m,_,p(T)?!!T.capture:!1,L):nr(u,m,_,!1,T,L)}function nr(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const $=p(L)?!!L.capture:!!L;let Tt=ir(u);if(Tt||(u[Vt]=Tt=new st(u)),_=Tt.add(m,_,T,$,B),_.proxy)return _;if(T=Kr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)N||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kr(){function u(_){return m.call(u.src,u.listener,_)}const m=lo;return u}function Yr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Yr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=co(_),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=St(m,_,T,L),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,T,L)),(_=u>-1?m[u]:null)&&Xr(_))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])yt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent($n(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ir(m))?(yt(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ut(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new Ut(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=_.call(T,m)}return u}function ir(u){return u=u[Vt],u instanceof st?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function pe(){M.call(this),this.i=new st(this),this.M=this,this.G=null}b(pe,M),pe.prototype[ge]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Yr(this,u,m,_,T)};function Ce(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(T,u),et(m,L)}L=!0;let B,$;if(_)for($=_.length-1;$>=0;$--)B=m.g=_[$],L=is(B,T,!0,m)&&L;if(B=m.g=u,L=is(B,T,!0,m)&&L,L=is(B,T,!1,m)&&L,_)for($=0;$<_.length;$++)B=m.g=_[$],L=is(B,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function is(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==_){const Tt=$.listener,he=$.ha||$.src;$.fa&&yt(u.i,$),L=Tt.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){M.call(this),this.h=u,this.g={}}b(sr,M);var ho=[];function fo(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Xr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),fo(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,wh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function $l(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}b(Pe,O);function Tn(){O.call(this,"c")}b(Tn,O);var ce={},Wl=null;function Zr(){return Wl=Wl||new pe}ce.Ia="serverreachability";function tu(u){O.call(this,ce.Ia,u)}b(tu,O);function Wn(u){const m=Zr();Ce(m,new tu(m))}ce.STAT_EVENT="statevent";function rr(u,m){O.call(this,ce.STAT_EVENT,u),this.stat=m}b(rr,O);function ye(u){const m=Zr();Ce(m,new rr(m,u))}ce.Ja="timingevent";function ti(u,m){O.call(this,ce.Ja,u),this.size=m}b(ti,O);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Rh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var $="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var he=Tt[jt].split("=");if(he.length>1){const re=he[0];he=he[1];const wn=re.split("_");$=wn.length>=2&&wn[1]=="type"?$+(re+"="+he+"&"):$+(re+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+$})}function eu(u,m,_,T,L,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+$})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,_)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return ss(B)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function lr(){}b(lr,Jl),lr.prototype.g=function(){return new XMLHttpRequest},go=new lr;function Di(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function zn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function ii(u,m,_){u.M=1,u.A=ur(Ee(m)),u.u=_,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(_.i,"t",T),u.C=0,_=u.j.L,u.h=new jn,u.g=yu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let B=0;B<L.length;B++){const $=se(_,L[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),he=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||he==7||(he==8||jt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=Ch(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=su(this,_),re==xe){Tt==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Do($),$.P=!0,ye(11))}}else ni(this.i,this.l,_,null),ai(this,_);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?du(this.j,this):(this.o=!1,si(this)))}else xi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),An(this)}}}catch{}};function Ch(u){if(!iu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?xe:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?xe:(m=m.slice(T,T+_),u.C=T+_,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Wn(),ye(17)),fn(this),this.m=2,An(this)):$r(this,this.T-u)};function An(u){u.j.I==0||u.K||du(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)aa(_),fs(_);else break t;pr(_),ye(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(v(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&aa(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const re=jt[0];if(!(re<=_.K))if(_.K=re,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const wn=jt[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const gi=jt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Gn=jt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Fn=u.g;if(Fn){const yr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var B=T.h;B.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const oa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Ft(T.J,T.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var $=u;if(T.na=pu(T,T.L?T.ba:null,T.W),$.L){vo(T.h,$);var Tt=$,he=T.O;he&&(Tt.H=he),Tt.D&&(ri(Tt),si(Tt)),T.g=$}else hu(T);_.i.length>0&&di(_)}else jt[0]!="stop"&&jt[0]!="close"||mi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?mi(_,7):Co(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Q(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,To(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),rs(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ta,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ta,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(cr(_,_.charAt(0)=="/"?Ao:au,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",cr(_,ou)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Me(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)rs(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let $=0;$<L.length;){const Tt=L[$++];Tt=="."?T&&$==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?To(m,uu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Me(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,_){m instanceof os?(u.i=m,na(u.i,u.l)):(_||(m=cr(m,as)),u.i=new os(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function ur(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,au=/[#\?:]/g,Ao=/[#\?]/g,as=/[#\?@]/g,ou=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=os.prototype,a.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function lu(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return sn(u),m=ls(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function bo(u,m){sn(u);let _=[];if(typeof m=="string")So(u,m)&&(_=_.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,_){lu(u,m),_.length>0&&(u.i=null,u.g.set(ls(u,m),Q(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Di(_);_=bo(this,_);for(let B=0;B<_.length;B++){let $=L;_[B]!==""&&($+="="+Di(_[B])),u.push($)}}return this.i=u.join("&")};function uu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ea(this,L,_))},u)),u.j=m}function Bn(u,m){const _=new Pn;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const _=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function us(){this.g=new Zl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,Jl),ci.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(hr,pe),a=hr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):qn(this),this.readyState==3&&ia(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},a.Na=function(u){this.g&&(this.response=u,cs(this))},a.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function fr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=bn(_),typeof u=="string"?_!=null&&Di(_):Ft(u,m,_))}function Yt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,pe);var hi=/^https?$/i,Ro=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=k(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){dr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of _)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){dr(this,B)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Oi(u)}function Io(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Oi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},a.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let $=String(u.D).match(ru)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!hi.test($?$.toLowerCase():"")}_=T}if(_)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Io(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ce(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=nu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Gt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=hs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),di(this)};function Co(u){if(sa(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),gr(u,_),m=new zn(u,u.j,m),m.M=2,m.A=ur(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}gu(u)}function fs(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function sa(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||S(),xt||($t(),xt=!0),C.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(v(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),_=Ee(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),gr(this,_),B&&(this.R?m="headers="+Di(bn(B))+"&"+m:this.u&&fr(_,this.u,B)),_o(this.h,L),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),L.U=!0,ii(L,_,null)):ii(L,_,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),gr(u,T),u.u&&u.o&&fr(T,u.u,u.o),_=new zn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,_),ii(_,T,m)}function gr(u,m){u.H&&Lt(u.H,function(_,T){Ft(m,T,_)}),u.l&&Lt({},function(_,T){Ft(m,T,_)})}function cu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const he=["count="+_];Tt==-1?_>0?(Tt=L[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let jt=!0;for(let re=0;re<_;re++){var B=L[re].g;const wn=L[re].map;if(B-=Tt,B<0)Tt=Math.max(0,L[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var $=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Gn]of $){let Fn=Gn;p(Gn)&&(Fn=ss(Gn)),he.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(wn)}}if(jt){$=he.join("&");break t}}$=void 0}return u=u.i.splice(0,_),m.G=u,$}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||S(),xt||($t(),xt=!0),C.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(v(u.Da,u),mu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),fs(this),fu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ur(Ee(m)),_.u=null,_.R=!0,Jr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,fs(this),pr(this),ye(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){aa(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Zr(),Ce(T,new ti(T,_)),di(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&pr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function mu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ur(T),L?Bn(T.toString(),_):wo(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),gu(u),sa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,_){var T=_ instanceof dn?Ee(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new dn(null);T&&Me(B,T),m&&(B.g=m),L&&rs(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),gr(u,T),T}function yu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:_})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}a=_u.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}b(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Co(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ss(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,We.Z.N.call(this)};function vu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(vu,Pe);function Eu(){Tn.call(this),this.status=1}b(Eu,Tn);function Mi(u){this.g=u}b(Mi,_u),Mi.prototype.ra=function(){Ce(this.g,"a")},Mi.prototype.qa=function(u){Ce(this.g,new vu(u))},Mi.prototype.pa=function(u){Ce(this.g,new Eu)},Mi.prototype.oa=function(){Ce(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,C0=function(){return new ds},I0=function(){return Zr()},R0=ce,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Dc=or,mo.COMPLETE="complete",w0=mo,$l.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,_l=$l,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,b0=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",H_="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let io="12.7.0";const zr=new mm("@firebase/firestore");function La(){return zr.logLevel}function it(a,...t){if(zr.logLevel<=Nt.DEBUG){const i=t.map(ym);zr.debug(`Firestore (${io}): ${a}`,...i)}}function Wi(a,...t){if(zr.logLevel<=Nt.ERROR){const i=t.map(ym);zr.error(`Firestore (${io}): ${a}`,...i)}}function Xa(a,...t){if(zr.logLevel<=Nt.WARN){const i=t.map(ym);zr.warn(`Firestore (${io}): ${a}`,...i)}}function ym(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function pt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,N0(a,r,i)}function N0(a,t,i){let r=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Ht(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||N0(t,l,r)}function Et(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class D0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class ab{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ob{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new kr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new D0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class lb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ub{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new lb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class _m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=hb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Dt(a,t){return a<t?-1:a>t?1:0}function Xd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Vd(l)===Vd(c)?Dt(l,c):Vd(l)?1:-1}return Dt(a.length,t.length)}const fb=55296,db=57343;function Vd(a){const t=a.charCodeAt(0);return t>=fb&&t<=db}function Za(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const F_="__name__";class Ei{constructor(t,i,r){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&pt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=Ei.isNumericId(t),l=Ei.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fs.fromString(t.substring(4,t.length-2))}}class ne extends Ei{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(t,i,r){return new Fe(t,i,r)}static isValidIdentifier(t){return mb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F_}static keyField(){return new Fe([F_])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ne.fromString(t))}static fromName(t){return new ft(ne.fromString(t).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ne(t.slice()))}}function O0(a,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function gb(a,t,i,r){if(t===!0&&r===!0)throw new ot(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Q_(a){if(!ft.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function K_(a){if(ft.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function x0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function vm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function qa(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vm(a);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function jl(a,t){if(!x0(a))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}const Y_=-62135596800,X_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*X_);return new ie(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Y_)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Y_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function pb(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new ie(i+1,0):new ie(i,r));return new Ks(l,ft.empty(),t)}function yb(a){return new Ks(a.readTime,a.key,Nl)}class Ks{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ks(_t.min(),ft.empty(),Nl)}static max(){return new Ks(_t.max(),ft.empty(),Nl)}}function _b(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}const vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==vb)throw a;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function Tb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(a){return a.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Em=-1;function lh(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function Ab(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const M0="";function Sb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Z_(t)),t=bb(a.get(i),t);return Z_(t)}function bb(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case M0:i+="";break;default:i+=c}}return i}function Z_(a){return a+M0+""}function J_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function qr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function V0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(t){return new $_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class $_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Oe(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class k0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k0("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const wb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(a){if(Ht(!!a,39018),typeof a=="string"){let t=0;const i=wb.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xs(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const U0="server_timestamp",L0="__type__",P0="__previous_value__",z0="__local_write_time__";function Tm(a){return(a?.mapValue?.fields||{})[L0]?.stringValue===U0}function uh(a){const t=a.mapValue.fields[P0];return Tm(t)?uh(t):t}function Dl(a){const t=Ys(a.mapValue.fields[z0].timestampValue);return new ie(t.seconds,t.nanos)}class Rb{constructor(t,i,r,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Hc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const j0="__type__",Ib="__max__",Rc={mapValue:{}},B0="__vector__",Gc="value";function Zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Tm(a)?4:Nb(a)?9007199254740991:Cb(a)?10:11:pt(28295,{value:a})}function Ci(a,t){if(a===t)return!0;const i=Zs(a);if(i!==Zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Dl(a).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),p=Ys(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Za(a.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(J_(d)!==J_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(a,t);default:return pt(52216,{left:a})}}function xl(a,t){return(a.values||[]).find((i=>Ci(i,t)))!==void 0}function Ja(a,t){if(a===t)return 0;const i=Zs(a),r=Zs(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),y=me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return W_(a.timestampValue,t.timestampValue);case 4:return W_(Dl(a),Dl(t));case 5:return Xd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xs(c),y=Xs(d);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=Dt(p[v],y[v]);if(A!==0)return A}return Dt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(me(c.latitude),me(d.latitude));return p!==0?p:Dt(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return tv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Gc]?.arrayValue,A=y[Gc]?.arrayValue,b=Dt(v?.values?.length||0,A?.values?.length||0);return b!==0?b:tv(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const k=Xd(y[b],A[b]);if(k!==0)return k;const Q=Ja(p[y[b]],v[A[b]]);if(Q!==0)return Q}return Dt(y.length,A.length)})(a.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function W_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=Ys(a),r=Ys(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function tv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Ja(i[l],r[l]);if(c)return c}return Dt(i.length,r.length)}function $a(a){return Zd(a)}function Zd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ys(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Zd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(a.mapValue):pt(61005,{value:a})}function Oc(a){switch(Zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(a);return t?16+Oc(t):16;case 5:return 2*a.stringValue.length;case 6:return Xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return qr(r.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(a.mapValue);default:throw pt(13486,{value:a})}}function Jd(a){return!!a&&"integerValue"in a}function Am(a){return!!a&&"arrayValue"in a}function ev(a){return!!a&&"nullValue"in a}function nv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xc(a){return!!a&&"mapValue"in a}function Cb(a){return(a?.mapValue?.fields||{})[j0]?.stringValue===B0}function Sl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return qr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Sl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(a.arrayValue.values[i]);return t}return{...a}}function Nb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Fe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){qr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new kn(Sl(this.value))}}function q0(a){const t=[];return qr(a.fields,((i,r)=>{const l=new Fe([i]);if(xc(r)){const c=q0(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),kn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function iv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function sv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ci(a.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Db(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class H0{}class De extends H0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new xb(t,i,r):i==="array-contains"?new kb(t,r):i==="in"?new Ub(t,r):i==="not-in"?new Lb(t,r):i==="array-contains-any"?new Pb(t,r):new De(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Mb(t,r):new Vb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends H0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return G0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G0(a){return a.op==="and"}function F0(a){return Ob(a)&&G0(a)}function Ob(a){for(const t of a.filters)if(t instanceof Ni)return!1;return!0}function $d(a){if(a instanceof De)return a.field.canonicalString()+a.op.toString()+$a(a.value);if(F0(a))return a.filters.map((t=>$d(t))).join(",");{const t=a.filters.map((i=>$d(i))).join(",");return`${a.op}(${t})`}}function Q0(a,t){return a instanceof De?(function(r,l){return l instanceof De&&r.op===l.op&&r.field.isEqual(l.field)&&Ci(r.value,l.value)})(a,t):a instanceof Ni?(function(r,l){return l instanceof Ni&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&Q0(d,l.filters[p])),!0):!1})(a,t):void pt(19439)}function K0(a){return a instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(a):a instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(K0).join(" ,")+"}"})(a):"Filter"}class xb extends De{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class Mb extends De{constructor(t,i){super(t,"in",i),this.keys=Y0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Vb extends De{constructor(t,i){super(t,"not-in",i),this.keys=Y0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Y0(a,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class kb extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&xl(i.arrayValue,this.value)}}class Ub extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class Lb extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class Pb extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>xl(this.value.arrayValue,r)))}}class zb{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function rv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new zb(a,t,i,r,l,c,d)}function Sm(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>$d(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>$a(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>$a(r))).join(",")),t.Te=i}return t.Te}function bm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Db(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Q0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!sv(a.startAt,t.startAt)&&sv(a.endAt,t.endAt)}function Wd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class ch{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jb(a,t,i,r,l,c,d,p){return new ch(a,t,i,r,l,c,d,p)}function wm(a){return new ch(a)}function av(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Bb(a){return a.collectionGroup!==null}function bl(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,r))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Qc(Fe.keyField(),r))}return t.Ie}function Ti(a){const t=Et(a);return t.Ee||(t.Ee=qb(t,bl(a))),t.Ee}function qb(a,t){if(a.limitType==="F")return rv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return rv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function tm(a,t,i){return new ch(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function hh(a,t){return bm(Ti(a),Ti(t))&&a.limitType===t.limitType}function X0(a){return`${Sm(Ti(a))}|lt:${a.limitType}`}function Pa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>K0(l))).join(", ")}]`),lh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function fh(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const v=iv(d,p,y);return d.inclusive?v<=0:v<0})(r.startAt,bl(r),l)||r.endAt&&!(function(d,p,y){const v=iv(d,p,y);return d.inclusive?v>=0:v>0})(r.endAt,bl(r),l))})(a,t)}function Hb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Z0(a){return(t,i)=>{let r=!1;for(const l of bl(a)){const c=Gb(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Gb(a,t,i){const r=a.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?Ja(y,v):pt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:a.dir})}}class Hr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return V0(this.inner)}size(){return this.innerSize}}const Fb=new oe(ft.comparator);function ts(){return Fb}const J0=new oe(ft.comparator);function vl(...a){let t=J0;for(const i of a)t=t.insert(i.key,i);return t}function $0(a){let t=J0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Vr(){return wl()}function W0(){return wl()}function wl(){return new Hr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Qb=new oe(ft.comparator),Kb=new Oe(ft.comparator);function Ot(...a){let t=Kb;for(const i of a)t=t.add(i);return t}const Yb=new Oe(Dt);function Xb(){return Yb}function Rm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function tE(a){return{integerValue:""+a}}function Zb(a,t){return Ab(t)?tE(t):Rm(a,t)}class dh{constructor(){this._=void 0}}function Jb(a,t,i){return a instanceof Kc?(function(l,c){const d={fields:{[L0]:{stringValue:U0},[z0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tm(c)&&(c=uh(c)),c&&(d.fields[P0]=c),{mapValue:d}})(i,t):a instanceof Ml?nE(a,t):a instanceof Vl?iE(a,t):(function(l,c){const d=eE(l,c),p=ov(d)+ov(l.Ae);return Jd(d)&&Jd(l.Ae)?tE(p):Rm(l.serializer,p)})(a,t)}function $b(a,t,i){return a instanceof Ml?nE(a,t):a instanceof Vl?iE(a,t):i}function eE(a,t){return a instanceof Yc?(function(r){return Jd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Kc extends dh{}class Ml extends dh{constructor(t){super(),this.elements=t}}function nE(a,t){const i=sE(t);for(const r of a.elements)i.some((l=>Ci(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Vl extends dh{constructor(t){super(),this.elements=t}}function iE(a,t){let i=sE(t);for(const r of a.elements)i=i.filter((l=>!Ci(l,r)));return{arrayValue:{values:i}}}class Yc extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ov(a){return me(a.integerValue||a.doubleValue)}function sE(a){return Am(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Wb(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Ml&&l instanceof Ml||r instanceof Vl&&l instanceof Vl?Za(r.elements,l.elements,Ci):r instanceof Yc&&l instanceof Yc?Ci(r.Ae,l.Ae):r instanceof Kc&&l instanceof Kc})(a.transform,t.transform)}class tw{constructor(t,i){this.version=t,this.transformResults=i}}class Ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class mh{}function rE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Im(a.key,Ai.none()):new Bl(a.key,a.data,Ai.none());{const i=a.data,r=kn.empty();let l=new Oe(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Gr(a.key,r,new Xn(l.toArray()),Ai.none())}}function ew(a,t,i){a instanceof Bl?(function(l,c,d){const p=l.value.clone(),y=uv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Gr?(function(l,c,d){if(!Mc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=uv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(aE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(a,t,i,r){return a instanceof Bl?(function(c,d,p,y){if(!Mc(c.precondition,d))return p;const v=c.value.clone(),A=cv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,r):a instanceof Gr?(function(c,d,p,y){if(!Mc(c.precondition,d))return p;const v=cv(c.fieldTransforms,y,d),A=d.data;return A.setAll(aE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,r):(function(c,d,p){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function nw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=eE(r.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(r.field,c))}return i||null}function lv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((c,d)=>Wb(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Bl extends mh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends mh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function uv(a,t,i){const r=new Map;Ht(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,$b(d,p,i[l]))}return r}function cv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Jb(c,d,t))}return r}class Im extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iw extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ew(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Rl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Rl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=W0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=rE(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,r)=>lv(i,r)))&&Za(this.baseMutations,t.baseMutations,((i,r)=>lv(i,r)))}}class Cm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Qb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Cm(t,i,r,l)}}class rw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,kt;function ow(a){switch(a){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function oE(a){if(a===void 0)return Wi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:a})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function lw(){return new TextEncoder}const uw=new Fs([4294967295,4294967295],0);function hv(a){const t=lw().encode(a),i=new S0;return i.update(t),new Uint8Array(i.digest())}function fv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fs([i,r],0),new Fs([l,c],0)]}class Nm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Fs.fromNumber(r)));return l.compare(uw)===1&&(l=new Fs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=hv(t),[r,l]=fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Nm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=hv(t),[r,l]=fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new gh(_t.min(),l,new oe(Dt),ts(),Ot())}}class ql{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new ql(r,i,Ot(),Ot(),Ot())}}class Vc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class lE{constructor(t,i){this.targetId=t,this.Ce=i}}class uE{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class dv{constructor(){this.ve=0,this.Fe=mv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new ql(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=mv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Wd(c))if(r===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xs(r).toUint8Array()}catch(y){if(y instanceof k0)return Xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Nm(d,l,c)}catch(y){return Xa(y instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Wd(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new gh(t,i,this.Ye,this.je,r);return this.je=ts(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new dv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new dv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new oe(ft.comparator)}function mv(){return new oe(ft.comparator)}const hw={asc:"ASCENDING",desc:"DESCENDING"},fw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dw={and:"AND",or:"OR"};class mw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(a,t){return a.useProto3Json||lh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function gw(a,t){return Xc(a,t.toTimestamp())}function Si(a){return Ht(!!a,49232),_t.fromTimestamp((function(i){const r=Ys(i);return new ie(r.seconds,r.nanos)})(a))}function Dm(a,t){return nm(a,t).canonicalString()}function nm(a,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function hE(a){const t=ne.fromString(a);return Ht(pE(t),10190,{key:t.toString()}),t}function im(a,t){return Dm(a.databaseId,t.path)}function kd(a,t){const i=hE(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(dE(i))}function fE(a,t){return Dm(a.databaseId,t)}function pw(a){const t=hE(a);return t.length===4?ne.emptyPath():dE(t)}function sm(a){return new ne(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function dE(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function gv(a,t,i){return{name:im(a,t),fields:i.value.mapValue.fields}}function yw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?Z.UNKNOWN:oE(v.code);return new ot(A,v.message||"")})(d);i=new uE(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=kd(a,r.document.name),c=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):_t.min(),p=new kn({mapValue:{fields:r.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),v=r.targetIds||[],A=r.removedTargetIds||[];i=new Vc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=kd(a,r.document),c=r.readTime?Si(r.readTime):_t.min(),d=Ze.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=kd(a,r.document),c=r.removedTargetIds||[];i=new Vc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new aw(l,c),p=r.targetId;i=new lE(p,d)}}return i}function _w(a,t){let i;if(t instanceof Bl)i={update:gv(a,t.key,t.value)};else if(t instanceof Im)i={delete:im(a,t.key)};else if(t instanceof Gr)i={update:gv(a,t.key,t.data),updateMask:Iw(t.fieldMask)};else{if(!(t instanceof iw))return pt(16599,{Vt:t.type});i={verify:im(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(a,t.precondition)),i}function vw(a,t){return a&&a.length>0?(Ht(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new tw(d,l.transformResults||[])})(i,t)))):[]}function Ew(a,t){return{documents:[fE(a,t.path)]}}function Tw(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=fE(a,l);const c=(function(v){if(v.length!==0)return gE(Ni.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(k){return{field:za(k.field),direction:bw(k.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function Aw(a){let t=pw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const k=mE(b);return k instanceof Ni&&F0(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((k=>(function(tt){return new Qc(ja(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(k)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let k;return k=typeof b=="object"?b.value:b,lh(k)?null:k})(i.limit));let y=null;i.startAt&&(y=(function(b){const k=!!b.before,Q=b.values||[];return new Fc(Q,k)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const k=!b.before,Q=b.values||[];return new Fc(Q,k)})(i.endAt)),jb(t,l,d,c,p,"F",y,v)}function Sw(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function mE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ja(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return De.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((r=>mE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(a):pt(30097,{filter:a})}function bw(a){return hw[a]}function ww(a){return fw[a]}function Rw(a){return dw[a]}function za(a){return{fieldPath:a.canonicalString()}}function ja(a){return Fe.fromServerFormat(a.fieldPath)}function gE(a){return a instanceof De?(function(i){if(i.op==="=="){if(nv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(ev(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(nv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(ev(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:ww(i.op),value:i.value}}})(a):a instanceof Ni?(function(i){const r=i.getFilters().map((l=>gE(l)));return r.length===1?r[0]:{compositeFilter:{op:Rw(i.op),filters:r}}})(a):pt(54877,{filter:a})}function Iw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function pE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Bs{constructor(t,i,r,l,c=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Cw{constructor(t){this.yt=t}}function Nw(a){const t=Aw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?tm(t,t.limit,"L"):t}class Dw{constructor(){this.Cn=new Ow}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ks.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Ow{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Oe(ne.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Oe(ne.comparator)).toArray()}}const pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(yE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const yv="LruGarbageCollector",xw=1048576;function _v([a,t],[i,r]){const l=Dt(a,i);return l===0?Dt(t,r):l}class Mw{constructor(t){this.Ir=t,this.buffer=new Oe(_v),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();_v(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Vw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(yv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?it(yv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class kw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(oh.ce);const r=new Mw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(pv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(v=Date.now(),La()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Uw(a,t){return new kw(a,t)}class Lw{constructor(){this.changes=new Hr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Pw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class zw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Rl(r.mutation,l,Xn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const l=Vr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=vl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Vr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ts();const d=wl(),p=(function(){return wl()})();return i.forEach(((y,v)=>{const A=r.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Gr)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Rl(A.mutation,v,A.mutation.getFieldMask(),ie.now())):d.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new Pw(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=wl();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=r.get(y)||Xn.empty();A=p.applyToLocalView(v,A),r.set(y,A);const b=(l.get(p.batchId)||Ot()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,b=W0();A.forEach((k=>{if(!c.has(k)){const Q=rE(i.get(k),r.get(k));Q!==null&&b.set(k,Q),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Bb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(Vr());let p=Nl,y=c;return d.next((v=>X.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((k=>{y=y.insert(A,k)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Ot()))).next((A=>({batchId:p,changes:$0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const v=(function(b,k){return new ch(k,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next((A=>{A.forEach(((b,k)=>{d=d.insert(b,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=vl();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&Rl(A.mutation,v,Xn.empty(),ie.now()),fh(i,v)&&(p=p.insert(y,v))})),p}))}}class jw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Nw(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class Bw{constructor(){this.overlays=new oe(ft.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Vr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Vr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new oe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=c.get(v.largestBatchId);A===null&&(A=Vr(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new rw(i,r));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class qw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Om{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new ne([])),r=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ne([])),r=new Ue(i,t),l=new Ue(i,t+1);let c=Ot();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class Hw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sw(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Em:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Dt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new ft(c),0);let p=new Oe(Dt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Gw{constructor(t){this.ri=t,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ts();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ts();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||_b(yb(A),r)<=0||(l.has(A.key)||fh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Fw(this)}getSize(t){return X.resolve(this.size)}}class Fw extends Lw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Qw{constructor(t){this.persistence=t,this.si=new Hr((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class _E{constructor(t,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new qw,this.referenceDelegate=t(this),this.Pi=new Qw(this),this.indexManager=new Dw,this.remoteDocumentCache=(function(l){return new Gw(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Cw(i),this.Ii=new jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Bw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Hw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new Kw(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Kw extends Eb{constructor(t){super(),this.currentSequenceNumber=t}}class xm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new xm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Hr((r=>Sb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Uw(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mm(t,i.fromCache,r,l)}}class Yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Xw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zA()?8:Tb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Yw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(La()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(La()<=Nt.DEBUG&&it("QueryEngine","Query:",Pa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(La()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):X.resolve())}ys(t,i){if(av(i))return X.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,tm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,r,l){return av(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(La()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,pb(l,Nl)).next((p=>p)))}))}Ds(t,i){let r=new Oe(Z0(t));return i.forEach(((l,c)=>{fh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return La()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Ks.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Vm="LocalStore",Zw=3e8;class Jw{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Dt),this.xs=new Hr((c=>Sm(c)),bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function $w(a,t,i,r){return new Jw(a,t,i,r)}async function vE(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Ww(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const b=v.batch,k=b.keys();let Q=X.resolve();return k.forEach((tt=>{Q=Q.next((()=>A.getEntry(y,tt))).next((nt=>{const J=v.docVersions.get(tt);Ht(J!==null,48541),nt.version.compareTo(J)<0&&(b.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function EE(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function tR(a,t){const i=Et(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const k=l.get(b);if(!k)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Q=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),l=l.insert(b,Q),(function(nt,J,dt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Zw?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(k,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=ts(),v=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(eR(c,d,t.documentUpdates).next((A=>{y=A.ks,v=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function eR(a,t,i){let r=Ot(),l=Ot();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=ts();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(Vm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function nR(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function iR(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Bs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function rm(a,t,i){const r=Et(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;it(Vm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function vv(a,t,i){const r=Et(a);let l=_t.min(),c=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=Et(y),k=b.xs.get(A);return k!==void 0?X.resolve(b.Ms.get(k)):b.Pi.getTargetData(v,A)})(r,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((p=>(sR(r,Hb(t),p),{documents:p,Qs:c})))))}function sR(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Ev{constructor(){this.activeTargetIds=Xb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rR{constructor(){this.Mo=new Ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ev,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class aR{Oo(t){}shutdown(){}}const Tv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function am(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Ud="RestConnection",oR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=am(),p=this.zo(t,i.toUriEncodedString());it(Ud,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),A=eo(v);return this.Jo(t,p,y,r,A).then((b=>(it(Ud,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Xa(Ud,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=oR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class uR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class cR extends lR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=am();return new Promise(((p,y)=>{const v=new b0;v.setWithCredentials(!0),v.listenOnce(w0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Dc.NO_ERROR:const b=v.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Dc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),y(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const k=v.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,k,"response text:",v.getResponseText()),k>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const nt=(function(dt){const lt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(lt)>=0?lt:Z.UNKNOWN})(tt.status);y(new ot(nt,tt.message))}else y(new ot(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=C0(),p=I0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let k=!1,Q=!1;const tt=new uR({Yo:J=>{Q?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(k||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),k=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),nt=(J,dt,lt)=>{J.listen(dt,(ht=>{try{lt(ht)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return nt(b,_l.EventType.OPEN,(()=>{Q||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(b,_l.EventType.CLOSE,(()=>{Q||(Q=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(b))})),nt(b,_l.EventType.ERROR,(J=>{Q||(Q=!0,Xa(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),tt.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(b,_l.EventType.MESSAGE,(J=>{if(!Q){const dt=J.data[0];Ht(!!dt,16349);const lt=dt,ht=lt?.error||lt[0]?.error;if(ht){it(Ye,`RPC '${t}' stream ${l} received error:`,ht);const qt=ht.status;let $t=(function(S){const I=we[S];if(I!==void 0)return oE(I)})(qt),xt=ht.message;$t===void 0&&($t=Z.INTERNAL,xt="Unknown error status: "+qt+" with message "+ht.message),Q=!0,tt.a_(new ot($t,xt)),b.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,dt),tt.u_(dt)}})),nt(p,R0.STAT_EVENT,(J=>{J.stat===Yd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Yd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ld(){return typeof document<"u"?document:null}function ph(a){return new mw(a,!0)}class TE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Sv="PersistentStream";class AE{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Sv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hR extends AE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=yw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=sm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Wd(y)?{documents:Ew(c,y)}:{query:Tw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=cE(c,d.resumeToken);const v=em(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const v=em(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=Sw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=sm(this.serializer),i.removeTarget=t,this.q_(i)}}class fR extends AE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=vw(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=sm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>_w(this.serializer,r)))};this.q_(i)}}class dR{}class mR extends dR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,nm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,nm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jr="RemoteStore";class pR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Fr(this)&&(it(jr,"Restarting streams for network reachability change."),await(async function(y){const v=Et(y);v.Ea.add(4),await Hl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await yh(v)})(this))}))})),this.Ra=new gR(r,l)}}async function yh(a){if(Fr(a))for(const t of a.da)await t(!0)}async function Hl(a){for(const t of a.da)await t(!1)}function SE(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?Lm(i):ao(i).O_()&&Um(i,t))}function km(a,t){const i=Et(a),r=ao(i);i.Ia.delete(t),r.O_()&&bE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Fr(i)&&i.Ra.set("Unknown"))}function Um(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(a).Y_(t)}function bE(a,t){a.Va.Ue(t),ao(a).Z_(t)}function Lm(a){a.Va=new cw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ao(a).start(),a.Ra.ua()}function Pm(a){return Fr(a)&&!ao(a).x_()&&a.Ia.size>0}function Fr(a){return Et(a).Ea.size===0}function wE(a){a.Va=void 0}async function yR(a){a.Ra.set("Online")}async function _R(a){a.Ia.forEach(((t,i)=>{Um(a,t)}))}async function vR(a,t){wE(a),Pm(a)?(a.Ra.ha(t),Lm(a)):a.Ra.set("Unknown")}async function ER(a,t,i){if(a.Ra.set("Online"),t instanceof uE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jc(a,r)}else if(t instanceof Vc?a.Va.Ze(t):t instanceof lE?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await EE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),bE(c,y);const b=new Bs(A.target,y,v,A.sequenceNumber);Um(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(jr,"Failed to raise snapshot:",r),await Jc(a,r)}}async function Jc(a,t,i){if(!ro(t))throw t;a.Ea.add(1),await Hl(a),a.Ra.set("Offline"),i||(i=()=>EE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(jr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await yh(a)}))}function RE(a,t){return t().catch((i=>Jc(a,i,t)))}async function _h(a){const t=Et(a),i=Js(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;TR(t);)try{const l=await nR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,AR(t,l)}catch(l){await Jc(t,l)}IE(t)&&CE(t)}function TR(a){return Fr(a)&&a.Ta.length<10}function AR(a,t){a.Ta.push(t);const i=Js(a);i.O_()&&i.X_&&i.ea(t.mutations)}function IE(a){return Fr(a)&&!Js(a).x_()&&a.Ta.length>0}function CE(a){Js(a).start()}async function SR(a){Js(a).ra()}async function bR(a){const t=Js(a);for(const i of a.Ta)t.ea(i.mutations)}async function wR(a,t,i){const r=a.Ta.shift(),l=Cm.from(r,t,i);await RE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await _h(a)}async function RR(a,t){t&&Js(a).X_&&await(async function(r,l){if((function(d){return ow(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();Js(r).B_(),await RE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(r)}})(a,t),IE(a)&&CE(a)}async function bv(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(jr,"RemoteStore received new credentials");const r=Fr(i);i.Ea.add(3),await Hl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function IR(a,t){const i=Et(a);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Hl(i),i.Ra.set("Unknown"))}function ao(a){return a.ma||(a.ma=(function(i,r,l){const c=Et(i);return c.sa(),new hR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:yR.bind(null,a),t_:_R.bind(null,a),r_:vR.bind(null,a),H_:ER.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Pm(a)?Lm(a):a.Ra.set("Unknown")):(await a.ma.stop(),wE(a))}))),a.ma}function Js(a){return a.fa||(a.fa=(function(i,r,l){const c=Et(i);return c.sa(),new fR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:SR.bind(null,a),r_:RR.bind(null,a),ta:bR.bind(null,a),na:wR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await _h(a)):(await a.fa.stop(),a.Ta.length>0&&(it(jr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class zm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new zm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),ro(a))return new ot(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=vl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class wv{constructor(){this.ga=new oe(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class to{constructor(t,i,r,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Ha.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class NR{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=Rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Rv(){return new Hr((a=>X0(a)),hh)}async function DR(a,t){const i=Et(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new CR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=jm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function OR(a,t){const i=Et(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function xR(a,t){const i=Et(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Bm(i)}function MR(a,t,i){const r=Et(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Bm(a){a.Ca.forEach((t=>{t.next()}))}var om,Iv;(Iv=om||(om={})).Ma="default",Iv.Cache="cache";class VR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new to(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class NE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class kR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=Z0(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new wv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const k=l.get(A),Q=fh(this.query,b)?b:null,tt=!!k&&this.mutatedKeys.has(k.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;k&&Q?k.data.isEqual(Q.data)?tt!==nt&&(r.track({type:3,doc:Q}),J=!0):this.su(k,Q)||(r.track({type:2,doc:Q}),J=!0,(y&&this.eu(Q,y)>0||v&&this.eu(Q,v)<0)&&(p=!0)):!k&&Q?(r.track({type:0,doc:Q}),J=!0):k&&!Q&&(r.track({type:1,doc:k}),J=!0,(y||v)&&(p=!0)),J&&(Q?(d=d.add(Q),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Q,tt){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return nt(Q)-nt(tt)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new DE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new NE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class UR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class LR{constructor(t){this.key=t,this.hu=!1}}class PR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hr((p=>X0(p)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ft.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zR(a,t,i=!0){const r=UE(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OE(r,t,i,!0),l}async function jR(a,t){const i=UE(a);await OE(i,t,!0,!1)}async function OE(a,t,i,r){const l=await iR(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await BR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&SE(a.remoteStore,l),p}async function BR(a,t,i,r,l){a.pu=(b,k,Q)=>(async function(nt,J,dt,lt){let ht=J.view.ru(dt);ht.Cs&&(ht=await vv(nt.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,ht))));const qt=lt&&lt.targetChanges.get(J.targetId),$t=lt&&lt.targetMismatches.get(J.targetId)!=null,xt=J.view.applyChanges(ht,nt.isPrimaryClient,qt,$t);return Nv(nt,J.targetId,xt.au),xt.snapshot})(a,b,k,Q);const c=await vv(a.localStore,t,!0),d=new kR(t,c.Qs),p=d.ru(c.documents),y=ql.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,y);Nv(a,i,v.au);const A=new UR(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function qR(a,t,i){const r=Et(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!hh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&km(r.remoteStore,l.targetId),lm(r,l.targetId)})).catch(so)):(lm(r,l.targetId),await rm(r.localStore,l.targetId,!0))}async function HR(a,t){const i=Et(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),km(i.remoteStore,r.targetId))}async function GR(a,t,i){const r=JR(a);try{const l=await(function(d,p){const y=Et(d),v=ie.now(),A=p.reduce(((Q,tt)=>Q.add(tt.key)),Ot());let b,k;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=ts(),nt=Ot();return y.Ns.getEntries(Q,A).next((J=>{tt=J,tt.forEach(((dt,lt)=>{lt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,tt))).next((J=>{b=J;const dt=[];for(const lt of p){const ht=nw(lt,b.get(lt.key).overlayedDocument);ht!=null&&dt.push(new Gr(lt.key,ht,q0(ht.value.mapValue),Ai.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,v,dt,p)})).next((J=>{k=J;const dt=J.applyToLocalDocumentSet(b,nt);return y.documentOverlayCache.saveOverlays(Q,J.batchId,dt)}))})).then((()=>({batchId:k.batchId,changes:$0(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new oe(Dt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,i),await Gl(r,l.changes),await _h(r.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function xE(a,t){const i=Et(a);try{const r=await tR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Gl(i,r,t)}catch(r){await so(r)}}function Cv(a,t,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Et(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,b)=>{for(const k of b.Sa)k.va(p)&&(v=!0)})),v&&Bm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function FR(a,t,i){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new oe(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const p=Ot().add(c),y=new gh(_t.min(),new Map,new oe(Dt),d,p);await xE(r,y),r.du=r.du.remove(c),r.Au.delete(t),Hm(r)}else await rm(r.localStore,t,!1).then((()=>lm(r,t,i))).catch(so)}async function QR(a,t){const i=Et(a),r=t.batch.batchId;try{const l=await Ww(i.localStore,t);VE(i,r,null),ME(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(i,l)}catch(l){await so(l)}}async function KR(a,t,i){const r=Et(a);try{const l=await(function(d,p){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((b=>(Ht(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(r.localStore,t);VE(r,t,i),ME(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Gl(r,l)}catch(l){await so(l)}}function ME(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function VE(a,t,i){const r=Et(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function lm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||kE(a,r)}))}function kE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(km(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Hm(a))}function Nv(a,t,i){for(const r of i)r instanceof NE?(a.Ru.addReference(r.key,t),YR(a,r)):r instanceof DE?(it(qm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||kE(a,r.key)):pt(19791,{wu:r})}function YR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(qm,"New document in limbo: "+i),a.Eu.add(r),Hm(a))}function Hm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ft(ne.fromString(t)),r=a.fu.next();a.Au.set(r,new LR(i)),a.du=a.du.insert(i,r),SE(a.remoteStore,new Bs(Ti(wm(i.path)),r,"TargetPurposeLimboResolution",oh.ce))}}async function Gl(a,t,i){const r=Et(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((v=>{if((v||i)&&r.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Mm.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,v){const A=Et(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(v,(k=>X.forEach(k.Es,(Q=>A.persistence.referenceDelegate.addReference(b,k.targetId,Q))).next((()=>X.forEach(k.ds,(Q=>A.persistence.referenceDelegate.removeReference(b,k.targetId,Q)))))))))}catch(b){if(!ro(b))throw b;it(Vm,"Failed to update sequence numbers: "+b)}for(const b of v){const k=b.targetId;if(!b.fromCache){const Q=A.Ms.get(k),tt=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(k,nt)}}})(r.localStore,c))}async function XR(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(qm,"User change. New user:",t.toKey());const r=await vE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ot(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gl(i,r.Ls)}}function ZR(a,t){const i=Et(a),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function UE(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FR.bind(null,t),t.Pu.H_=xR.bind(null,t.eventManager),t.Pu.yu=MR.bind(null,t.eventManager),t}function JR(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return $w(this.persistence,new Xw,t.initialUser,this.serializer)}Cu(t){return new _E(xm.mi,this.serializer)}Du(t){return new rR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class $R extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new _E((r=>Zc.mi(r,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new NR})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),r=(function(c){return new cR(c)})(t.databaseInfo);return(function(c,d,p,y){return new mR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new pR(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Cv(this.syncEngine,i,0)),(function(){return Av.v()?new Av:new aR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const b=new PR(l,c,d,p,y,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);it(jr,"RemoteStore shutting down."),r.Ea.add(5),await Hl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class WR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class t2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Pd(a,t){a.asyncQueue.verifyOperationInProgress(),it($s,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await vE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Dv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await e2(a);it($s,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>bv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>bv(t.remoteStore,l))),a._onlineComponents=t}async function e2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it($s,"Using user provided OfflineComponentProvider");try{await Pd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Pd(a,new $c)}}else it($s,"Using default OfflineComponentProvider"),await Pd(a,new $R(void 0));return a._offlineComponents}async function LE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it($s,"Using user provided OnlineComponentProvider"),await Dv(a,a._uninitializedComponentsProvider._online)):(it($s,"Using default OnlineComponentProvider"),await Dv(a,new um))),a._onlineComponents}function n2(a){return LE(a).then((t=>t.syncEngine))}async function Ov(a){const t=await LE(a),i=t.eventManager;return i.onListen=zR.bind(null,t.syncEngine),i.onUnlisten=qR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=jR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=HR.bind(null,t.syncEngine),i}function PE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const xv=new Map;const zE="firestore.googleapis.com",Mv=!0;class Vv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=Mv}else this.host=t.host,this.ssl=t.ssl??Mv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xw)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rb;switch(r.type){case"firstParty":return new ub(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=xv.get(i);r&&(it("ComponentProvider","Removing Datastore"),xv.delete(i),r.terminate())})(this),Promise.resolve()}}function i2(a,t,i,r={}){a=qa(a,vh);const l=eo(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(g0(`https://${p}`),p0("Firestore",!0)),c.host!==zE&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!Lr(y,d)&&(a._setSettings(y),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=Xe.MOCK_USER;else{v=DA(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}a._authCredentials=new ab(new D0(v,A))}}class Eh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Eh(this.firestore,t,this._query)}}class Le{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(jl(i,Le._jsonSchema))return new Le(t,r||null,new ft(ne.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Re("string",Le._jsonSchemaVersion),referencePath:Re("string")};class Qs extends Eh{constructor(t,i,r){super(t,i,wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ft(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function kv(a,t,...i){if(a=en(a),O0("collection","path",t),a instanceof vh){const r=ne.fromString(t,...i);return K_(r),new Qs(a,null,r)}{if(!(a instanceof Le||a instanceof Qs))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ne.fromString(t,...i));return K_(r),new Qs(a.firestore,null,r)}}function jE(a,t,...i){if(a=en(a),arguments.length===1&&(t=_m.newId()),O0("doc","path",t),a instanceof vh){const r=ne.fromString(t,...i);return Q_(r),new Le(a,null,new ft(r))}{if(!(a instanceof Le||a instanceof Qs))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ne.fromString(t,...i));return Q_(r),new Le(a.firestore,a instanceof Qs?a.converter:null,new ft(r))}}const Uv="AsyncQueue";class Lv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TE(this,"async_queue_retry"),this._c=()=>{const r=Ld();r&&it(Uv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;it(Uv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Pv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:Pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Pv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function zv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class kl extends vh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lv(t),this._firestoreClient=void 0,await t}}}function s2(a,t){const i=typeof a=="object"?a:E0(),r=typeof a=="string"?a:Hc,l=pm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=CA("firestore");c&&i2(l,...c)}return l}function BE(a){if(a._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||r2(a),a._firestoreClient}function r2(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new Rb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,PE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new t2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class Gm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qE{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(jl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),vectorValues:Re("object")};const a2=/^__.*__$/;class o2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bl(t,this.data,i,this.fieldTransforms)}}function HE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:a})}}class Fm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&a2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class l2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||ph(t)}Cc(t,i,r,l=!1){return new Fm({Ac:t,methodName:i,Dc:r,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u2(a){const t=a._freezeSettings(),i=ph(a._databaseId);return new l2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function c2(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);KE("Data must be an object, but it was:",d,r);const p=FE(r,d);let y,v;if(c.merge)y=new Xn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const k=h2(t,b,i);if(!d.contains(k))throw new ot(Z.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);d2(A,k)||A.push(k)}y=new Xn(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new o2(new kn(p),y,v)}function GE(a,t){if(QE(a=en(a)))return KE("Unsupported field value:",t,a),FE(a,t);if(a instanceof qE)return(function(r,l){if(!HE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=GE(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zb(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ie.fromDate(r);return{timestampValue:Xc(l.serializer,c)}}if(r instanceof ie){const c=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:cE(l.serializer,r._byteString)};if(r instanceof Le){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof wi)return(function(d,p){return{mapValue:{fields:{[j0]:{stringValue:B0},[Gc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Rm(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${vm(r)}`)})(a,t)}function FE(a,t){const i={};return V0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(a,((r,l)=>{const c=GE(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function QE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ie||a instanceof bi||a instanceof Un||a instanceof Le||a instanceof qE||a instanceof wi)}function KE(a,t,i){if(!QE(i)||!x0(i)){const r=vm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function h2(a,t,i){if((t=en(t))instanceof Gm)return t._internalPath;if(typeof t=="string")return YE(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const f2=new RegExp("[~\\*/\\[\\]]");function YE(a,t,i){if(t.search(f2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Gm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ot(Z.INVALID_ARGUMENT,p+a+y)}function d2(a,t){return a.some((i=>i.isEqual(t)))}class XE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ZE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class m2 extends XE{data(){return super.data()}}function ZE(a,t){return typeof t=="string"?YE(a,t):t instanceof Gm?t._internalPath:t._delegate._internalPath}function g2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p2{convertValue(t,i="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return qr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=uh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Ht(pE(r),9688,{name:t});const l=new Ol(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function y2(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends XE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ZE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Re("string",Ur._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class kc extends Ur{data(t={}){return super.data(t)}}class Ga{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kc(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:_2(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:a})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Re("string",Ga._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class JE extends p2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function v2(a){return $E(qa(a.firestore,kl),[new Im(a._key,Ai.none())])}function E2(a,t){const i=qa(a.firestore,kl),r=jE(a),l=y2(a.converter,t);return $E(i,[c2(u2(a.firestore),"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then((()=>r))}function T2(a,...t){a=en(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||zv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(zv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof Le)d=qa(a.firestore,kl),p=wm(a._key.path),c={next:y=>{t[r]&&t[r](A2(d,a,y))},error:t[r+1],complete:t[r+2]};else{const y=qa(a,Eh);d=qa(y.firestore,kl),p=y._query;const v=new JE(d);c={next:A=>{t[r]&&t[r](new Ga(d,v,y,A))},error:t[r+1],complete:t[r+2]},g2(a._query)}return(function(v,A,b,k){const Q=new WR(k),tt=new VR(A,Q,b);return v.asyncQueue.enqueueAndForget((async()=>DR(await Ov(v),tt))),()=>{Q.Nu(),v.asyncQueue.enqueueAndForget((async()=>OR(await Ov(v),tt)))}})(BE(d),p,l,c)}function $E(a,t){return(function(r,l){const c=new kr;return r.asyncQueue.enqueueAndForget((async()=>GR(await n2(r),l,c))),c.promise})(BE(a),t)}function A2(a,t,i){const r=i.docs.get(t._key),l=new JE(a);return new Ur(a,l,t._key,r,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){io=l})(no),Ya(new Pr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new kl(new ob(r.getProvider("auth-internal")),new cb(d,r.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(q_,H_,t),Gs(q_,H_,"esm2020")})();function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=WE,tT=new Pl("auth","Firebase",WE());const th=new mm("@firebase/auth");function b2(a,...t){th.logLevel<=Nt.WARN&&th.warn(`Auth (${no}): ${a}`,...t)}function Uc(a,...t){th.logLevel<=Nt.ERROR&&th.error(`Auth (${no}): ${a}`,...t)}function Jn(a,...t){throw Qm(a,...t)}function Ri(a,...t){return Qm(a,...t)}function eT(a,t,i){const r={...S2(),[t]:i};return new Pl("auth","Firebase",r).create(t,{appName:a.name})}function Ji(a){return eT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return tT.create(a,...t)}function gt(a,t,...i){if(!a)throw Qm(t,...i)}function Xi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Uc(t),new Error(t)}function es(a,t){a||Xi(t)}function cm(){return typeof self<"u"&&self.location?.href||""}function w2(){return jv()==="http:"||jv()==="https:"}function jv(){return typeof self<"u"&&self.location?.protocol||null}function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||UA()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,es(i>t,"Short delay should be less than long delay!"),this.isMobile=MA()||LA()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Km(a,t){es(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class nT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D2=new Fl(3e4,6e4);function tr(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function er(a,t,i,r,l={}){return iT(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=zl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:y,...c};return kA()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&eo(a.emulatorConfig.host)&&(v.credentials="include"),nT.fetch()(await sT(a,a.config.apiHost,i,p),v)})}async function iT(a,t,i){a._canInitEmulator=!1;const r={...C2,...t};try{const l=new x2(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(a,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw eT(a,A,v);Jn(a,A)}}catch(l){if(l instanceof ns)throw l;Jn(a,"network-request-failed",{message:String(l)})}}async function Ql(a,t,i,r,l={}){const c=await er(a,t,i,r,l);return"mfaPendingCredential"in c&&Jn(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function sT(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?Km(a.config,l):`${a.config.apiScheme}://${l}`;return N2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function O2(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),D2.get())})}}function Nc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ri(a,t,r);return l.customData._tokenResponse=i,l}function Bv(a){return a!==void 0&&a.enterprise!==void 0}class M2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return O2(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V2(a,t){return er(a,"GET","/v2/recaptchaConfig",tr(a,t))}async function k2(a,t){return er(a,"POST","/v1/accounts:delete",t)}async function eh(a,t){return er(a,"POST","/v1/accounts:lookup",t)}function Il(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function U2(a,t=!1){const i=en(a),r=await i.getIdToken(t),l=Ym(r);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Il(zd(l.auth_time)),issuedAtTime:Il(zd(l.iat)),expirationTime:Il(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(a){return Number(a)*1e3}function Ym(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=h0(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function qv(a){const t=Ym(a);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ns&&L2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function L2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class P2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(a){const t=a.auth,i=await a.getIdToken(),r=await Ul(a,eh(t,{idToken:i}));gt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?rT(l.providerUserInfo):[],d=j2(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,v=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function z2(a){const t=en(a);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function j2(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function rT(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function B2(a,t){const i=await iT(a,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await sT(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return a.emulatorConfig&&eo(a.emulatorConfig.host)&&(y.credentials="include"),nT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function q2(a,t){return er(a,"POST","/v2/accounts:revokeToken",tr(a,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=qv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await B2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Fa;return r&&(gt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Us(a,t){gt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new P2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return U2(this,t)}reload(){return z2(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Ul(this,k2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:k,isAnonymous:Q,providerData:tt,stsTokenManager:nt}=i;gt(b&&nt,t,"internal-error");const J=Fa.fromJSON(this.name,nt);gt(typeof b=="string",t,"internal-error"),Us(r,t.name),Us(l,t.name),gt(typeof k=="boolean",t,"internal-error"),gt(typeof Q=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(p,t.name),Us(y,t.name),Us(v,t.name),Us(A,t.name);const dt=new Zn({uid:b,auth:t,email:l,emailVerified:k,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:v,lastLoginAt:A});return tt&&Array.isArray(tt)&&(dt.providerData=tt.map(lt=>({...lt}))),y&&(dt._redirectEventId=y),dt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?rT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(r);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const Hv=new Map;function Zi(a){es(a instanceof Function,"Expected a class definition");let t=Hv.get(a);return t?(es(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Hv.set(a,t),t)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}aT.type="NONE";const Gv=aT;function Lc(a,t,i){return`firebase:${a}:${t}:${i}`}class Qa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Qa(Zi(Gv),t,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Zi(Gv);const d=Lc(r,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const k=await eh(t,{idToken:A}).catch(()=>{});if(!k)break;b=await Zn._fromGetAccountInfoResponse(t,k,A)}else b=Zn._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Qa(c,t,r))}}function Fv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fT(t))return"Blackberry";if(dT(t))return"Webos";if(lT(t))return"Safari";if((t.includes("chrome/")||uT(t))&&!t.includes("edge/"))return"Chrome";if(hT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function oT(a=Je()){return/firefox\//i.test(a)}function lT(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uT(a=Je()){return/crios\//i.test(a)}function cT(a=Je()){return/iemobile/i.test(a)}function hT(a=Je()){return/android/i.test(a)}function fT(a=Je()){return/blackberry/i.test(a)}function dT(a=Je()){return/webos/i.test(a)}function Xm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function H2(a=Je()){return Xm(a)&&!!window.navigator?.standalone}function G2(){return PA()&&document.documentMode===10}function mT(a=Je()){return Xm(a)||hT(a)||dT(a)||fT(a)||/windows phone/i.test(a)||cT(a)}function gT(a,t=[]){let i;switch(a){case"Browser":i=Fv(Je());break;case"Worker":i=`${Fv(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${r}`}class F2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Q2(a,t={}){return er(a,"GET","/v2/passwordPolicy",tr(a,t))}const K2=6;class Y2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??K2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class X2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new F2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Ji(this));const i=t?en(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Q2(this),i=new Y2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await q2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&b2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qr(a){return en(a)}class Qv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z2(a){Th=a}function pT(a){return Th.loadJS(a)}function J2(){return Th.recaptchaEnterpriseScript}function $2(){return Th.gapiScript}function W2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class tI{constructor(){this.enterprise=new eI}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class eI{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const nI="recaptcha-enterprise",yT="NO_RECAPTCHA";class iI{constructor(t){this.type=nI,this.auth=Qr(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{V2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new M2(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;Bv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(yT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&Bv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=J2();y.length!==0&&(y+=p),pT(y).then(()=>{l(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function Kv(a,t,i,r=!1,l=!1){const c=new iI(a);let d;if(l)d=yT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Yv(a,t,i,r,l){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Kv(a,t,i,i==="getOobCode");return r(a,c)}else return r(a,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Kv(a,t,i,i==="getOobCode");return r(a,d)}else return Promise.reject(c)})}function sI(a,t){const i=pm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Lr(c,t??{}))return l;Jn(l,"already-initialized")}return i.initialize({options:t})}function rI(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function aI(a,t,i){const r=Qr(a);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=_T(t),{host:d,port:p}=oI(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Lr(v,r.config.emulator)&&Lr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,eo(d)?(g0(`${c}//${d}${y}`),p0("Auth",!0)):lI()}function _T(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function oI(a){const t=_T(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Xv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Xv(d)}}}function Xv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function lI(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Zm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function uI(a,t){return er(a,"POST","/v1/accounts:signUp",t)}async function cI(a,t){return Ql(a,"POST","/v1/accounts:signInWithPassword",tr(a,t))}async function hI(a,t){return Ql(a,"POST","/v1/accounts:signInWithEmailLink",tr(a,t))}async function fI(a,t){return Ql(a,"POST","/v1/accounts:signInWithEmailLink",tr(a,t))}class Ll extends Zm{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ll(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Ll(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yv(t,i,"signInWithPassword",cI);case"emailLink":return hI(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yv(t,r,"signUpPassword",uI);case"emailLink":return fI(t,{idToken:i,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ka(a,t){return Ql(a,"POST","/v1/accounts:signInWithIdp",tr(a,t))}const dI="http://localhost";class Br extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Jn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Br(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ka(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:dI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}function mI(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gI(a){const t=pl(yl(a)).link,i=t?pl(yl(t)).deep_link_id:null,r=pl(yl(a)).deep_link_id;return(r?pl(yl(r)).link:null)||r||i||t||a}class Jm{constructor(t){const i=pl(yl(t)),r=i.apiKey??null,l=i.oobCode??null,c=mI(i.mode??null);gt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=gI(t);try{return new Jm(i)}catch{return null}}}class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(t,i){return Ll._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Jm.parseLink(i);return gt(r,"argument-error"),Ll._fromEmailAndCode(t,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ls extends Kl{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Ps extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ps.credential(i,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class zs extends Kl{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class js extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return js.credential(i,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function pI(a,t){return Ql(a,"POST","/v1/accounts:signUp",tr(a,t))}class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Zn._fromIdTokenResponse(t,r,l),d=Zv(r);return new Ws({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Zv(r);return new Ws({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Zv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function Jv(a){if(Vn(a.app))return Promise.reject(Ji(a));const t=Qr(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await pI(t,{returnSecureToken:!0}),r=await Ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class ih extends ns{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new ih(t,i,r,l)}}function ET(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(a,c,t,r):c})}async function yI(a,t,i=!1){const r=await Ul(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ws._forOperation(a,"link",r)}async function _I(a,t,i=!1){const{auth:r}=a;if(Vn(r.app))return Promise.reject(Ji(r));const l="reauthenticate";try{const c=await Ul(a,ET(r,l,t,a),i);gt(c.idToken,r,"internal-error");const d=Ym(c.idToken);gt(d,r,"internal-error");const{sub:p}=d;return gt(a.uid===p,r,"user-mismatch"),Ws._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(r,"user-mismatch"),c}}async function TT(a,t,i=!1){if(Vn(a.app))return Promise.reject(Ji(a));const r="signIn",l=await ET(a,r,t),c=await Ws._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}async function vI(a,t){return TT(Qr(a),t)}async function EI(a){const t=Qr(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function TI(a,t,i){return Vn(a.app)?Promise.reject(Ji(a)):vI(en(a),oo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EI(a),r})}function AI(a,t,i,r){return en(a).onIdTokenChanged(t,i,r)}function SI(a,t,i){return en(a).beforeAuthStateChanged(t,i)}function bI(a,t,i,r){return en(a).onAuthStateChanged(t,i,r)}function wI(a){return en(a).signOut()}const sh="__sak";class AT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const RI=1e3,II=10;class ST extends AT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);G2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,II):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},RI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}ST.type="LOCAL";const CI=ST;class bT extends AT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}bT.type="SESSION";const wT=bT;function NI(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Ah(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await NI(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function $m(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class DI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=$m("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const k=b;if(k.data.eventId===v)switch(k.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function OI(a){Ii().location.href=a}function RT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function xI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MI(){return navigator?.serviceWorker?.controller||null}function VI(){return RT()?self:null}const IT="firebaseLocalStorageDb",kI=1,rh="firebaseLocalStorage",CT="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(a,t){return a.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function UI(){const a=indexedDB.deleteDatabase(IT);return new Yl(a).toPromise()}function fm(){const a=indexedDB.open(IT,kI);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(rh,{keyPath:CT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(rh)?t(r):(r.close(),await UI(),t(await fm()))})})}async function $v(a,t,i){const r=Sh(a,!0).put({[CT]:t,value:i});return new Yl(r).toPromise()}async function LI(a,t){const i=Sh(a,!1).get(t),r=await new Yl(i).toPromise();return r===void 0?null:r.value}function Wv(a,t){const i=Sh(a,!0).delete(t);return new Yl(i).toPromise()}const PI=800,zI=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>zI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(VI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xI(),!this.activeServiceWorker)return;this.sender=new DI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await $v(t,sh,"1"),await Wv(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>$v(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>LI(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Wv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const jI=NT;new Fl(3e4,6e4);function BI(a,t){return t?Zi(t):(gt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Wm extends Zm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function qI(a){return TT(a.auth,new Wm(a),a.bypassAuthState)}function HI(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),_I(i,new Wm(a),a.bypassAuthState)}async function GI(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),yI(i,new Wm(a),a.bypassAuthState)}class DT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return HI;default:Jn(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FI=new Fl(2e3,1e4);class Ba extends DT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FI.get())};t()}}Ba.currentPopupAction=null;const QI="pendingRedirect",Pc=new Map;class KI extends DT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const r=await YI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YI(a,t){const i=JI(t),r=ZI(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function XI(a,t){Pc.set(a._key(),t)}function ZI(a){return Zi(a._redirectPersistence)}function JI(a){return Lc(QI,a.config.apiKey,a.name)}async function $I(a,t,i=!1){if(Vn(a.app))return Promise.reject(Ji(a));const r=Qr(a),l=BI(r,t),d=await new KI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const WI=600*1e3;class tC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!OT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WI&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(t))}saveEventToCache(t){this.cachedEventUids.add(t0(t)),this.lastProcessedEventTime=Date.now()}}function t0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function OT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function eC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(a);default:return!1}}async function nC(a,t={}){return er(a,"GET","/v1/projects",t)}const iC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sC=/^https?/;async function rC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await nC(a);for(const i of t)try{if(aC(i))return}catch{}Jn(a,"unauthorized-domain")}function aC(a){const t=cm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!sC.test(i))return!1;if(iC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const oC=new Fl(3e4,6e4);function e0(){const a=Ii().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function lC(a){return new Promise((t,i)=>{function r(){e0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{e0(),i(Ri(a,"network-request-failed"))},timeout:oC.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)r();else{const l=W2("iframefcb");return Ii()[l]=()=>{gapi.load?r():i(Ri(a,"network-request-failed"))},pT(`${$2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function uC(a){return zc=zc||lC(a),zc}const cC=new Fl(5e3,15e3),hC="__/auth/iframe",fC="emulator/auth/iframe",dC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gC(a){const t=a.config;gt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Km(t,fC):`https://${a.config.authDomain}/${hC}`,r={apiKey:t.apiKey,appName:a.name,v:no},l=mC.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${zl(r).slice(1)}`}async function pC(a){const t=await uC(a),i=Ii().gapi;return gt(i,a,"internal-error"),t.open({where:document.body,url:gC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(a,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},cC.get());function y(){Ii().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_C=500,vC=600,EC="_blank",TC="http://localhost";class n0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AC(a,t,i,r=_C,l=vC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...yC,width:r.toString(),height:l.toString(),top:c,left:d},v=Je().toLowerCase();i&&(p=uT(v)?EC:i),oT(v)&&(t=t||TC,y.scrollbars="yes");const A=Object.entries(y).reduce((k,[Q,tt])=>`${k}${Q}=${tt},`,"");if(H2(v)&&p!=="_self")return SC(t||"",p),new n0(null);const b=window.open(t||"",p,A);gt(b,a,"popup-blocked");try{b.focus()}catch{}return new n0(b)}function SC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const bC="__/auth/handler",wC="emulator/auth/handler",RC=encodeURIComponent("fac");async function i0(a,t,i,r,l,c){gt(a.config.authDomain,a,"auth-domain-config-required"),gt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:no,eventId:l};if(t instanceof vT){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",FA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Kl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await a._getAppCheckToken(),v=y?`#${RC}=${encodeURIComponent(y)}`:"";return`${IC(a)}?${zl(p).slice(1)}${v}`}function IC({config:a}){return a.emulator?Km(a,wC):`https://${a.authDomain}/${bC}`}const jd="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wT,this._completeRedirectFn=$I,this._overrideRedirectResult=XI}async _openPopup(t,i,r,l){es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await i0(t,i,r,cm(),l);return AC(t,c,$m())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await i0(t,i,r,cm(),l);return OI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(es(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await pC(t),r=new tC(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return mT()||lT()||Xm()}}const NC=CC;var s0="@firebase/auth",r0="1.12.0";class DC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(a){Ya(new Pr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(a)},v=new X2(r,l,c,y);return rI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ya(new Pr("auth-internal",t=>{const i=Qr(t.getProvider("auth").getImmediate());return(r=>new DC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(s0,r0,OC(a)),Gs(s0,r0,"esm2020")}const MC=300,VC=m0("authIdTokenMaxAge")||MC;let a0=null;const kC=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>VC)return;const l=i?.token;a0!==l&&(a0=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UC(a=E0()){const t=pm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=sI(a,{popupRedirectResolver:NC,persistence:[jI,CI,wT]}),r=m0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=kC(c.toString());SI(i,d,()=>d(i.currentUser)),AI(i,p=>d(p))}}const l=f0("auth");return l&&aI(i,`http://${l}`),i}function LC(){return document.getElementsByTagName("head")?.[0]??document}Z2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",LC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");const PC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),o0=a=>{const t=zC(a);return t.charAt(0).toUpperCase()+t.slice(1)},xT=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),jC=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var BC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qC=ke.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>ke.createElement("svg",{ref:y,...BC,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:xT("lucide",l),...!c&&!jC(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,A])=>ke.createElement(v,A)),...Array.isArray(c)?c:[c]]));const hn=(a,t)=>{const i=ke.forwardRef(({className:r,...l},c)=>ke.createElement(qC,{ref:c,iconNode:t,className:xT(`lucide-${PC(o0(a))}`,`lucide-${a}`,r),...l}));return i.displayName=o0(a),i};const HC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],GC=hn("lock",HC);const FC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],QC=hn("log-in",FC);const KC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YC=hn("log-out",KC);const XC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ZC=hn("map-pin",XC);const JC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$C=hn("menu",JC);const WC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],tN=hn("package",WC);const eN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nN=hn("phone",eN);const iN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sN=hn("plus",iN);const rN=[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]],l0=hn("refrigerator",rN);const aN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],oN=hn("shopping-bag",aN);const lN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uN=hn("trash-2",lN);const cN=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],hN=hn("wind",cN);const fN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],dN=hn("wrench",fN);const mN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gN=hn("x",mN),pN={apiKey:"AIzaSyANyFY760SJBasNC2wjF9sWu4NcOZjLqd0",authDomain:"refrimaster-151bf.firebaseapp.com",projectId:"refrimaster-151bf",storageBucket:"refrimaster-151bf.firebasestorage.app",messagingSenderId:"17061661794",appId:"1:17061661794:web:252b354a61eabd42f3553b",measurementId:"G-FQS2HRRF98"},MT=v0(pN),gl=UC(MT),Bd=s2(MT),qd="refrimaster-oficial";function yN(){const[a,t]=ke.useState(null),[i,r]=ke.useState("home"),[l,c]=ke.useState([]),[d,p]=ke.useState(!1),[y,v]=ke.useState(!0),[A,b]=ke.useState(null),[k,Q]=ke.useState(""),[tt,nt]=ke.useState(""),[J,dt]=ke.useState(!1),[lt,ht]=ke.useState({name:"",price:"",category:"Lavadora",description:"",imageUrl:""});ke.useEffect(()=>{(async()=>{try{await Jv(gl)}catch(Ut){console.error("Error de Autenticacin:",Ut)}})();const w=bI(gl,Ut=>{t(Ut),dt(!!Ut?.email),v(!1)});return()=>w()},[]),ke.useEffect(()=>{if(!a)return;const N=kv(Bd,"artifacts",qd,"public","data","products"),w=T2(N,Ut=>{const H=Ut.docs.map(W=>({id:W.id,...W.data()})).sort((W,ut)=>new Date(ut.createdAt)-new Date(W.createdAt));c(H)},Ut=>{console.error("Error de Firestore:",Ut),b("Error de permisos. El admin debe estar logueado para editar.")});return()=>w()},[a]);const qt=async N=>{N.preventDefault(),b(null);try{await TI(gl,k,tt),r("admin"),Q(""),nt("")}catch{b("Credenciales incorrectas. Intenta de nuevo.")}},$t=async()=>{await wI(gl),await Jv(gl),dt(!1),r("home")},xt=async N=>{if(N.preventDefault(),!J){b("Debes ser administrador para aadir productos.");return}try{await E2(kv(Bd,"artifacts",qd,"public","data","products"),{...lt,price:parseFloat(lt.price),createdAt:new Date().toISOString(),userId:a.uid}),ht({name:"",price:"",category:"Lavadora",description:"",imageUrl:""}),r("catalog")}catch{b("No se pudo guardar. Verifica tus permisos en Firebase.")}},C=async N=>{if(J)try{await v2(jE(Bd,"artifacts",qd,"public","data","products",N))}catch{b("Error al eliminar el artculo.")}},S=()=>U.jsx("div",{className:"max-w-md mx-auto px-6 py-20 animate-in zoom-in-95 duration-300",children:U.jsxs("div",{className:"bg-white p-10 rounded-[40px] shadow-2xl border border-gray-100 text-center",children:[U.jsx("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:U.jsx(GC,{className:"text-blue-600 w-10 h-10"})}),U.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Acceso Dueo"}),U.jsx("p",{className:"text-gray-500 mb-8",children:"Ingresa tus credenciales para gestionar el inventario."}),U.jsxs("form",{onSubmit:qt,className:"space-y-4",children:[U.jsx("input",{type:"email",placeholder:"Correo electrnico",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:k,onChange:N=>Q(N.target.value),required:!0}),U.jsx("input",{type:"password",placeholder:"Contrasea",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:tt,onChange:N=>nt(N.target.value),required:!0}),A&&U.jsx("p",{className:"text-red-500 text-sm font-bold",children:A}),U.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-5 rounded-2xl hover:bg-blue-700 transition-all shadow-lg",children:"Entrar al Panel"})]}),U.jsx("button",{onClick:()=>r("home"),className:"mt-6 text-gray-400 font-bold hover:text-gray-600 text-sm",children:"Volver al Inicio"})]})}),I=()=>U.jsxs("div",{className:"space-y-16 pb-20 animate-in fade-in duration-500",children:[U.jsxs("section",{className:"relative h-[500px] flex items-center justify-center text-white overflow-hidden rounded-3xl mt-4 mx-4 shadow-2xl",children:[U.jsx("img",{src:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?auto=format&fit=crop&q=80&w=2070",className:"absolute inset-0 w-full h-full object-cover brightness-[0.4]",alt:"Taller"}),U.jsxs("div",{className:"relative z-10 text-center px-6 max-w-3xl",children:[U.jsx("h1",{className:"text-5xl md:text-6xl font-black mb-6 tracking-tight leading-tight",children:"Soluciones Reales para tu Hogar"}),U.jsx("p",{className:"text-xl mb-10 text-blue-100",children:"Reparacin certificada y venta de equipos premium con garanta total."}),U.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[U.jsx("button",{onClick:()=>r("catalog"),className:"bg-blue-600 hover:bg-blue-500 px-10 py-4 rounded-full font-bold transition-all shadow-lg hover:shadow-blue-500/50",children:"Explorar Tienda"}),U.jsx("a",{href:"https://wa.me/526673312378",target:"_blank",rel:"noreferrer",className:"bg-white text-blue-900 hover:bg-gray-100 px-10 py-4 rounded-full font-bold transition-all shadow-lg",children:"Solicitar Tcnico"})]})]})]}),U.jsxs("section",{className:"container mx-auto px-6",children:[U.jsxs("div",{className:"text-center mb-16",children:[U.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Qu necesitas hoy?"}),U.jsx("div",{className:"h-1.5 w-24 bg-blue-600 mx-auto rounded-full"})]}),U.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Refrigeracin",icon:U.jsx(l0,{className:"w-12 h-12 text-blue-600"}),desc:"Especialistas en carga de gas, compresores y tarjetas electrnicas."},{title:"Lavado",icon:U.jsx(dN,{className:"w-12 h-12 text-blue-600"}),desc:"Arreglamos transmisiones, bombas y sensores de todas las marcas."},{title:"Climatizacin",icon:U.jsx(hN,{className:"w-12 h-12 text-blue-600"}),desc:"Instalacin profesional y mantenimiento preventivo para aire puro."}].map((N,w)=>U.jsxs("div",{className:"group p-10 bg-white rounded-3xl shadow-sm border border-gray-100 hover:border-blue-200 hover:shadow-xl transition-all text-center",children:[U.jsx("div",{className:"mb-6 flex justify-center transform group-hover:scale-110 transition-transform",children:N.icon}),U.jsx("h3",{className:"text-2xl font-bold mb-4",children:N.title}),U.jsx("p",{className:"text-gray-600 leading-relaxed",children:N.desc})]},w))})]})]}),M=()=>U.jsxs("div",{className:"container mx-auto px-6 py-12 animate-in slide-in-from-bottom-4 duration-500",children:[U.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-4",children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Equipos Disponibles"}),U.jsx("p",{className:"text-gray-500",children:"Artculos revisados y listos para entrega inmediata."})]}),U.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-full text-blue-700 font-bold text-sm",children:[l.length," Equipos en inventario"]})]}),l.length===0?U.jsxs("div",{className:"text-center py-24 bg-gray-50 rounded-[40px] border-2 border-dashed border-gray-200",children:[U.jsx(tN,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),U.jsx("h3",{className:"text-xl font-bold text-gray-400",children:"Nuestro catlogo se est actualizando"}),U.jsx("p",{className:"text-gray-400 mt-2",children:"Vuelve pronto para ver nuestras novedades."})]}):U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:l.map(N=>U.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden border border-gray-100 shadow-sm hover:shadow-2xl transition-all group",children:[U.jsxs("div",{className:"h-64 overflow-hidden relative",children:[U.jsx("img",{src:N.imageUrl||"https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&q=80&w=1000",alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),U.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md text-blue-900 px-4 py-1.5 rounded-full text-xs font-black uppercase shadow-sm",children:N.category})]}),U.jsxs("div",{className:"p-8",children:[U.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:N.name}),U.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2 leading-relaxed",children:N.description}),U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsxs("div",{className:"flex flex-col",children:[U.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Precio"}),U.jsxs("span",{className:"text-3xl font-black text-blue-600",children:["$",N.price]})]}),U.jsx("a",{href:`https://wa.me/6673312378?text=Hola, me interesa el equipo: ${N.name}`,target:"_blank",rel:"noreferrer",className:"bg-blue-600 text-white p-4 rounded-2xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-200",children:U.jsx(oN,{className:"w-6 h-6"})})]})]})]},N.id))})]}),O=()=>J?U.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 animate-in fade-in duration-500",children:[U.jsxs("div",{className:"mb-10 flex justify-between items-center",children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-2",children:"Panel Maestro"}),U.jsx("p",{className:"text-gray-500 font-medium",children:"Control total sobre tus artculos en venta."})]}),U.jsxs("button",{onClick:$t,className:"bg-red-50 text-red-600 px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-red-600 hover:text-white transition-all",children:[U.jsx(YC,{className:"w-5 h-5"})," Cerrar Sesin"]})]}),U.jsxs("div",{className:"grid lg:grid-cols-3 gap-10",children:[U.jsx("div",{className:"lg:col-span-1",children:U.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-gray-100 shadow-xl sticky top-28",children:[U.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-blue-600",children:[U.jsx(sN,{className:"w-6 h-6"})," Nuevo Artculo"]}),U.jsxs("form",{onSubmit:xt,className:"space-y-5",children:[U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Nombre"}),U.jsx("input",{required:!0,className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",placeholder:"Lavadora Samsung...",value:lt.name,onChange:N=>ht({...lt,name:N.target.value})})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Precio ($)"}),U.jsx("input",{required:!0,type:"number",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",placeholder:"0.00",value:lt.price,onChange:N=>ht({...lt,price:N.target.value})})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Categora"}),U.jsxs("select",{className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium appearance-none",value:lt.category,onChange:N=>ht({...lt,category:N.target.value}),children:[U.jsx("option",{children:"Lavadora"}),U.jsx("option",{children:"Refrigerador"}),U.jsx("option",{children:"Aire Acondicionado"}),U.jsx("option",{children:"Secadora"})]})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Imagen (Link)"}),U.jsx("input",{required:!0,className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium text-sm",placeholder:"URL de la foto...",value:lt.imageUrl,onChange:N=>ht({...lt,imageUrl:N.target.value})})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Descripcin"}),U.jsx("textarea",{required:!0,className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium h-32 resize-none",placeholder:"Detalles del equipo...",value:lt.description,onChange:N=>ht({...lt,description:N.target.value})})]}),U.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-5 rounded-2xl hover:bg-blue-700 transition-all shadow-lg",children:"Publicar Ahora"})]})]})}),U.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[U.jsx("h3",{className:"text-xl font-bold text-gray-800 ml-2",children:"Inventario Activo"}),U.jsx("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-xl overflow-hidden",children:U.jsx("div",{className:"overflow-x-auto",children:U.jsxs("table",{className:"w-full text-left border-collapse",children:[U.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-50",children:U.jsxs("tr",{children:[U.jsx("th",{className:"p-6 text-xs font-black text-gray-400 uppercase",children:"Equipo"}),U.jsx("th",{className:"p-6 text-xs font-black text-gray-400 uppercase",children:"Precio"}),U.jsx("th",{className:"p-6 text-xs font-black text-gray-400 uppercase text-right",children:"Accin"})]})}),U.jsx("tbody",{className:"divide-y divide-gray-50",children:l.map(N=>U.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[U.jsx("td",{className:"p-6",children:U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("img",{src:N.imageUrl,className:"w-14 h-14 rounded-2xl object-cover shadow-sm"}),U.jsxs("div",{children:[U.jsx("div",{className:"font-bold text-gray-900",children:N.name}),U.jsx("div",{className:"text-xs text-blue-600 font-bold uppercase",children:N.category})]})]})}),U.jsxs("td",{className:"p-6 font-black text-gray-900 text-lg",children:["$",N.price]}),U.jsx("td",{className:"p-6 text-right",children:U.jsx("button",{onClick:()=>C(N.id),className:"bg-red-50 text-red-500 p-3 rounded-xl hover:bg-red-500 hover:text-white transition-all shadow-sm",children:U.jsx(uN,{className:"w-5 h-5"})})})]},N.id))})]})})})]})]})]}):S();return y?U.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-white",children:[U.jsxs("div",{className:"relative w-24 h-24 mb-6 text-blue-600",children:[U.jsx("div",{className:"absolute inset-0 border-8 border-blue-50 rounded-full"}),U.jsx("div",{className:"absolute inset-0 border-8 border-current border-t-transparent rounded-full animate-spin"})]}),U.jsx("p",{className:"text-blue-900 font-black tracking-widest animate-pulse uppercase text-sm",children:"Validando Acceso"})]}):U.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] font-sans text-gray-900",children:[U.jsx("nav",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur-xl border-b border-gray-100",children:U.jsxs("div",{className:"container mx-auto px-6 h-24 flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>r("home"),children:[U.jsx("div",{className:"bg-blue-600 p-3 rounded-[18px] text-white transform group-hover:rotate-12 transition-transform shadow-lg shadow-blue-200",children:U.jsx(l0,{className:"w-7 h-7"})}),U.jsxs("div",{className:"flex flex-col",children:[U.jsxs("span",{className:"text-2xl font-black tracking-tighter text-blue-900 leading-none",children:["REFRI",U.jsx("span",{className:"text-blue-600",children:"MASTER"})]}),U.jsx("span",{className:"text-[10px] font-bold text-blue-400 tracking-[0.2em] uppercase",children:"Service & Sales"})]})]}),U.jsxs("div",{className:"hidden md:flex items-center gap-10 font-bold",children:[U.jsx("button",{onClick:()=>r("home"),className:`text-sm uppercase tracking-widest transition-colors ${i==="home"?"text-blue-600":"text-gray-400 hover:text-gray-900"}`,children:"Inicio"}),U.jsx("button",{onClick:()=>r("catalog"),className:`text-sm uppercase tracking-widest transition-colors ${i==="catalog"?"text-blue-600":"text-gray-400 hover:text-gray-900"}`,children:"Tienda"}),U.jsx("div",{className:"h-8 w-px bg-gray-100"}),J?U.jsx("button",{onClick:()=>r("admin"),className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-5 py-2.5 rounded-full transition-all",children:"Panel Admin"}):U.jsxs("button",{onClick:()=>r("admin"),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 transition-all",children:[U.jsx(QC,{className:"w-4 h-4"})," Acceso Dueo"]}),U.jsx("a",{href:"https://wa.me/6673312378",target:"_blank",rel:"noreferrer",className:"bg-blue-600 text-white px-8 py-3.5 rounded-2xl hover:bg-blue-700 transition-all shadow-xl shadow-blue-100",children:"WhatsApp"})]}),U.jsx("button",{className:"md:hidden text-blue-900",onClick:()=>p(!d),children:d?U.jsx(gN,{size:32}):U.jsx($C,{size:32})})]})}),U.jsxs("main",{className:"min-h-[70vh]",children:[i==="home"&&I(),i==="catalog"&&M(),i==="admin"&&O()]}),U.jsx("footer",{className:"bg-blue-950 text-white pt-24 pb-12 px-6 mt-20 rounded-t-[60px]",children:U.jsxs("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-4 gap-16",children:[U.jsxs("div",{className:"col-span-1 md:col-span-2",children:[U.jsxs("h3",{className:"text-3xl font-black mb-6 text-white",children:["RefriMaster",U.jsx("span",{className:"text-blue-500",children:"."})]}),U.jsx("p",{className:"text-blue-200/60 max-w-sm mb-10 leading-loose",children:"Tu aliado de confianza en el mantenimiento de electrodomsticos. No solo arreglamos aparatos, devolvemos la tranquilidad a tu hogar."}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("div",{className:"bg-white/5 p-4 rounded-2xl hover:bg-blue-600 transition-colors cursor-pointer",children:U.jsx(nN,{className:"w-6 h-6"})}),U.jsx("div",{className:"bg-white/5 p-4 rounded-2xl hover:bg-blue-600 transition-colors cursor-pointer",children:U.jsx(ZC,{className:"w-6 h-6"})})]})]}),U.jsxs("div",{children:[U.jsx("h4",{className:"font-black mb-8 text-blue-400 uppercase tracking-widest text-xs",children:"Empresa"}),U.jsxs("ul",{className:"space-y-4 text-sm font-bold text-blue-100/70",children:[U.jsx("li",{children:U.jsx("button",{onClick:()=>r("home"),className:"hover:text-white transition-colors",children:"Sobre Nosotros"})}),U.jsx("li",{children:U.jsx("button",{onClick:()=>r("catalog"),className:"hover:text-white transition-colors",children:"Catlogo de Venta"})}),U.jsx("li",{children:U.jsx("button",{onClick:()=>r("admin"),className:"hover:text-white transition-colors",children:"Panel Admin"})})]})]}),U.jsxs("div",{children:[U.jsx("h4",{className:"font-black mb-8 text-blue-400 uppercase tracking-widest text-xs",children:"Atencin Directa"}),U.jsx("p",{className:"text-blue-100/70 text-sm mb-2",children:"Lunes a Sbado"}),U.jsx("p",{className:"text-2xl font-black mb-6 text-white",children:"9:00 AM  6:00 PM"}),U.jsx("p",{className:"text-xs text-blue-500 font-black uppercase tracking-tighter bg-blue-900/50 inline-block px-3 py-1 rounded-md",children:"Servicios de Urgencia 24h"})]})]})})]})}vA.createRoot(document.getElementById("root")).render(U.jsx(ke.StrictMode,{children:U.jsx(yN,{})}));
