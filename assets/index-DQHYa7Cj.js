(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var bd={exports:{}},ml={};var T_;function fA(){if(T_)return ml;T_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var A_;function dA(){return A_||(A_=1,bd.exports=fA()),bd.exports}var L=dA(),wd={exports:{}},Et={};var S_;function mA(){if(S_)return Et;S_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),U=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=U&&M[U]||M["@@iterator"],typeof M=="function"?M:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,$={};function mt(M,X,nt){this.props=M,this.context=X,this.refs=$,this.updater=nt||et}mt.prototype.isReactComponent={},mt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},mt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ut(){}ut.prototype=mt.prototype;function ft(M,X,nt){this.props=M,this.context=X,this.refs=$,this.updater=nt||et}var Ht=ft.prototype=new ut;Ht.constructor=ft,it(Ht,mt.prototype),Ht.isPureReactComponent=!0;var Wt=Array.isArray;function Mt(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(M,X,nt){var rt=nt.ref;return{$$typeof:a,type:M,key:X,ref:rt!==void 0?rt:null,props:nt}}function V(M,X){return C(M.type,X,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function D(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return X[nt]})}var R=/\/+/g;function Lt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):X.toString(36)}function pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Mt,Mt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,nt,rt,_t){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case a:case t:kt=!0;break;case S:return kt=M._init,G(kt(M._payload),X,nt,rt,_t)}}if(kt)return _t=_t(M),kt=rt===""?"."+Lt(M,0):rt,Wt(_t)?(nt="",kt!=null&&(nt=kt.replace(R,"$&/")+"/"),G(_t,X,nt,"",function(ir){return ir})):_t!=null&&(x(_t)&&(_t=V(_t,nt+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+kt)),X.push(_t)),1;kt=0;var Ce=rt===""?".":rt+":";if(Wt(M))for(var re=0;re<M.length;re++)rt=M[re],bt=Ce+Lt(rt,re),kt+=G(rt,X,nt,bt,_t);else if(re=K(M),typeof re=="function")for(M=re.call(M),re=0;!(rt=M.next()).done;)rt=rt.value,bt=Ce+Lt(rt,re++),kt+=G(rt,X,nt,bt,_t);else if(bt==="object"){if(typeof M.then=="function")return G(pe(M),X,nt,rt,_t);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function tt(M,X,nt){if(M==null)return M;var rt=[],_t=0;return G(M,rt,"","",function(bt){return X.call(nt,bt,_t++)}),rt}function ct(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:tt,forEach:function(M,X,nt){tt(M,function(){X.apply(this,arguments)},nt)},count:function(M){var X=0;return tt(M,function(){X++}),X},toArray:function(M){return tt(M,function(X){return X})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=w,Et.Children=Ft,Et.Component=mt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ft,Et.StrictMode=r,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,X,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=it({},M.props),_t=M.key;if(X!=null)for(bt in X.key!==void 0&&(_t=""+X.key),X)!b.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(rt[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)rt.children=nt;else if(1<bt){for(var kt=Array(bt),Ce=0;Ce<bt;Ce++)kt[Ce]=arguments[Ce+2];rt.children=kt}return C(M.type,_t,rt)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Et.createElement=function(M,X,nt){var rt,_t={},bt=null;if(X!=null)for(rt in X.key!==void 0&&(bt=""+X.key),X)b.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=X[rt]);var kt=arguments.length-2;if(kt===1)_t.children=nt;else if(1<kt){for(var Ce=Array(kt),re=0;re<kt;re++)Ce[re]=arguments[re+2];_t.children=Ce}if(M&&M.defaultProps)for(rt in kt=M.defaultProps,kt)_t[rt]===void 0&&(_t[rt]=kt[rt]);return C(M,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:y,render:M}},Et.isValidElement=x,Et.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ct}},Et.memo=function(M,X){return{$$typeof:E,type:M,compare:X===void 0?null:X}},Et.startTransition=function(M){var X=N.T,nt={};N.T=nt;try{var rt=M(),_t=N.S;_t!==null&&_t(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Mt,Pt)}catch(bt){Pt(bt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),N.T=X}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(M){return N.H.use(M)},Et.useActionState=function(M,X,nt){return N.H.useActionState(M,X,nt)},Et.useCallback=function(M,X){return N.H.useCallback(M,X)},Et.useContext=function(M){return N.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,X){return N.H.useDeferredValue(M,X)},Et.useEffect=function(M,X){return N.H.useEffect(M,X)},Et.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(M,X,nt){return N.H.useImperativeHandle(M,X,nt)},Et.useInsertionEffect=function(M,X){return N.H.useInsertionEffect(M,X)},Et.useLayoutEffect=function(M,X){return N.H.useLayoutEffect(M,X)},Et.useMemo=function(M,X){return N.H.useMemo(M,X)},Et.useOptimistic=function(M,X){return N.H.useOptimistic(M,X)},Et.useReducer=function(M,X,nt){return N.H.useReducer(M,X,nt)},Et.useRef=function(M){return N.H.useRef(M)},Et.useState=function(M){return N.H.useState(M)},Et.useSyncExternalStore=function(M,X,nt){return N.H.useSyncExternalStore(M,X,nt)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.3",Et}var b_;function mm(){return b_||(b_=1,wd.exports=mA()),wd.exports}var Ue=mm(),Rd={exports:{}},gl={},Id={exports:{}},Cd={};var w_;function gA(){return w_||(w_=1,(function(a){function t(G,tt){var ct=G.length;G.push(tt);t:for(;0<ct;){var Pt=ct-1>>>1,Ft=G[Pt];if(0<l(Ft,tt))G[Pt]=tt,G[ct]=Ft,ct=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var tt=G[0],ct=G.pop();if(ct!==tt){G[0]=ct;t:for(var Pt=0,Ft=G.length,M=Ft>>>1;Pt<M;){var X=2*(Pt+1)-1,nt=G[X],rt=X+1,_t=G[rt];if(0>l(nt,ct))rt<Ft&&0>l(_t,nt)?(G[Pt]=_t,G[rt]=ct,Pt=rt):(G[Pt]=nt,G[X]=ct,Pt=X);else if(rt<Ft&&0>l(_t,ct))G[Pt]=_t,G[rt]=ct,Pt=rt;else break t}}return tt}function l(G,tt){var ct=G.sortIndex-tt.sortIndex;return ct!==0?ct:G.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var _=[],E=[],S=1,w=null,U=3,K=!1,et=!1,it=!1,$=!1,mt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ht(G){for(var tt=i(E);tt!==null;){if(tt.callback===null)r(E);else if(tt.startTime<=G)r(E),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(E)}}function Wt(G){if(it=!1,Ht(G),!et)if(i(_)!==null)et=!0,Mt||(Mt=!0,D());else{var tt=i(E);tt!==null&&pe(Wt,tt.startTime-G)}}var Mt=!1,N=-1,b=5,C=-1;function V(){return $?!0:!(a.unstable_now()-C<b)}function x(){if($=!1,Mt){var G=a.unstable_now();C=G;var tt=!0;try{t:{et=!1,it&&(it=!1,ut(N),N=-1),K=!0;var ct=U;try{e:{for(Ht(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var Pt=w.callback;if(typeof Pt=="function"){w.callback=null,U=w.priorityLevel;var Ft=Pt(w.expirationTime<=G);if(G=a.unstable_now(),typeof Ft=="function"){w.callback=Ft,Ht(G),tt=!0;break e}w===i(_)&&r(_),Ht(G)}else r(_);w=i(_)}if(w!==null)tt=!0;else{var M=i(E);M!==null&&pe(Wt,M.startTime-G),tt=!1}}break t}finally{w=null,U=ct,K=!1}tt=void 0}}finally{tt?D():Mt=!1}}}var D;if(typeof ft=="function")D=function(){ft(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Lt=R.port2;R.port1.onmessage=x,D=function(){Lt.postMessage(null)}}else D=function(){mt(x,0)};function pe(G,tt){N=mt(function(){G(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(G){switch(U){case 1:case 2:case 3:var tt=3;break;default:tt=U}var ct=U;U=tt;try{return G()}finally{U=ct}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=U;U=G;try{return tt()}finally{U=ct}},a.unstable_scheduleCallback=function(G,tt,ct){var Pt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Pt+ct:Pt):ct=Pt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ct+Ft,G={id:S++,callback:tt,priorityLevel:G,startTime:ct,expirationTime:Ft,sortIndex:-1},ct>Pt?(G.sortIndex=ct,t(E,G),i(_)===null&&G===i(E)&&(it?(ut(N),N=-1):it=!0,pe(Wt,ct-Pt))):(G.sortIndex=Ft,t(_,G),et||K||(et=!0,Mt||(Mt=!0,D()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var tt=U;return function(){var ct=U;U=tt;try{return G.apply(this,arguments)}finally{U=ct}}}})(Cd)),Cd}var R_;function pA(){return R_||(R_=1,Id.exports=gA()),Id.exports}var Nd={exports:{}},Ye={};var I_;function yA(){if(I_)return Ye;I_=1;var a=mm();function t(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)E+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,E,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:E,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(_,E){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return c(_,E,null,S)},Ye.flushSync=function(_){var E=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=E,r.p=S,r.d.f()}},Ye.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,r.d.C(_,E))},Ye.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ye.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var S=E.as,w=y(S,E.crossOrigin),U=typeof E.integrity=="string"?E.integrity:void 0,K=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;S==="style"?r.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:w,integrity:U,fetchPriority:K}):S==="script"&&r.d.X(_,{crossOrigin:w,integrity:U,fetchPriority:K,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Ye.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var S=y(E.as,E.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&r.d.M(_)},Ye.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var S=E.as,w=y(S,E.crossOrigin);r.d.L(_,S,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Ye.preloadModule=function(_,E){if(typeof _=="string")if(E){var S=y(E.as,E.crossOrigin);r.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else r.d.m(_)},Ye.requestFormReset=function(_){r.d.r(_)},Ye.unstable_batchedUpdates=function(_,E){return _(E)},Ye.useFormState=function(_,E,S){return d.H.useFormState(_,E,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var C_;function _A(){if(C_)return Nd.exports;C_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nd.exports=yA(),Nd.exports}var N_;function vA(){if(N_)return gl;N_=1;var a=pA(),t=mm(),i=_A();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function E(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,U=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case $:return"StrictMode";case Wt:return"Suspense";case Mt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case ft:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Lt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Lt(e(n))}catch{}}return null}var pe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function M(e){return{current:e}}function X(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function nt(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var rt=M(null),_t=M(null),bt=M(null),kt=M(null);function Ce(e,n){switch(nt(bt,n),nt(_t,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Gy(n),e=Fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),nt(rt,e)}function re(){X(rt),X(_t),X(bt)}function ir(e){e.memoizedState!==null&&nt(kt,e);var n=rt.current,s=Fy(n,e.type);n!==s&&(nt(_t,e),nt(rt,s))}function Yr(e){_t.current===e&&(X(rt),X(_t)),kt.current===e&&(X(kt),cl._currentValue=ct)}var Xr,Zr;function Wn(e){if(Xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",Zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+Zr}var uo=!1;function sr(e,n){if(!e||uo)return"";uo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),j=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return Wn("Activity");default:return""}}function ho(e){try{var n="",s=null;do n+=co(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Ne=a.unstable_scheduleCallback,ss=a.unstable_cancelCallback,wh=a.unstable_shouldYield,Zl=a.unstable_requestPaint,We=a.unstable_now,rr=a.unstable_getCurrentPriorityLevel,fo=a.unstable_ImmediatePriority,mo=a.unstable_UserBlockingPriority,rs=a.unstable_NormalPriority,Rh=a.unstable_LowPriority,Jl=a.unstable_IdlePriority,$l=a.log,Wl=a.unstable_setDisableYieldValue,Pn=null,ze=null;function An(e){if(typeof $l=="function"&&Wl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var he=Math.clz32?Math.clz32:eu,tu=Math.log,Jr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Jr|0)|0}var ti=256,ar=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ei(o):(g&=T,g!==0?h=ei(g):s||(s=T&~e,s!==0&&(h=ei(s))))):(T=o&~f,T!==0?h=ei(T):g!==0?h=ei(g):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-he(s),Y=1<<F;T[F]=0,I[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&lr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function lr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function po(e,n){var s=n&-n;return s=(s&42)!==0?1:ur(s),(s&(e.suspendedLanes|n))!==0?0:s}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:m_(e.type))}function jn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Me="__reactProps$"+Bn,si="__reactContainer$"+Bn,$r="__reactEvents$"+Bn,Nh="__reactListeners$"+Bn,su="__reactHandles$"+Bn,ru="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Wr(e){delete e[ve],delete e[Me],delete e[$r],delete e[Nh],delete e[su]}function ai(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=$y(e);e!==null;){if(s=e[ve])return s;e=$y(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function oi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ri]=!0}var yo=new Set,_o={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function au(e){return ye.call(To,e)?!0:ye.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function ta(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function sn(e){return e.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,Ve(n)):s!=null?So(e,g,Ve(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ve(T):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function So(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Ro=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,hi=null;function fr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(r(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&cr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var sa=!1;function hs(e,n,s){if(sa)return e(n,s);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(cs!==null||hi!==null)&&(ic(),cs&&(n=cs,e=hi,hi=cs=null,fr(n),e)))for(n=0;n<e.length;n++)fr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{dr=!1}var fi=null,Io=null,mr=null;function Co(){if(mr)return mr;var e,n=Io,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Gn(){return!1}function je(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Gn,this.isPropagationStopped=Gn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Mi),fs=w({},Mi,{view:0,detail:0}),No=je(fs),ds,ra,mi,aa=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ds=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=ds=0,mi=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Do=je(aa),pr=w({},aa,{dataTransfer:0}),hu=je(pr),fu=w({},fs,{relatedTarget:0}),yr=je(fu),Oo=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=je(Oo),oa=w({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=je(oa),gu=w({},Mi,{data:0}),gi=je(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function ms(){return vu}var tn=w({},fs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=je(tn),Tu=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=je(Tu),u=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=je(u),v=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),P=w({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(P),W=w({},Mi,{newState:0,oldState:0}),At=je(W),fe=[9,13,27,32],Bt=wn&&"CompositionEvent"in window,ae=null;wn&&"documentMode"in document&&(ae=document.documentMode);var Rn=wn&&"TextEvent"in window&&!ae,pi=wn&&(!Bt||ae&&8<ae&&11>=ae),Fn=" ",Qn=!1;function _r(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function UT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function LT(e,n){if(ua)return e==="compositionend"||!Bt&&_r(e,n)?(e=Co(),mr=Io=fi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function ng(e,n,s,o){cs?hi?hi.push(o):hi=[o]:cs=o,n=cc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Mo=null;function zT(e){Py(e,0)}function Au(e){var n=dn(e);if(cr(n))return e}function ig(e,n){if(e==="change")return n}var sg=!1;if(wn){var Dh;if(wn){var Oh="oninput"in document;if(!Oh){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),Oh=typeof rg.oninput=="function"}Dh=Oh}else Dh=!1;sg=Dh&&(!document.documentMode||9<document.documentMode)}function ag(){xo&&(xo.detachEvent("onpropertychange",og),Mo=xo=null)}function og(e){if(e.propertyName==="value"&&Au(Mo)){var n=[];ng(n,Mo,e,bn(e)),hs(zT,n)}}function jT(e,n,s){e==="focusin"?(ag(),xo=n,Mo=s,xo.attachEvent("onpropertychange",og)):e==="focusout"&&ag()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Mo)}function qT(e,n){if(e==="click")return Au(n)}function HT(e,n){if(e==="input"||e==="change")return Au(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:GT;function Vo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ug(e,n){var s=lg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=lg(s)}}function cg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=wn&&"documentMode"in document&&11>=document.documentMode,ca=null,Mh=null,ko=null,Vh=!1;function fg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vh||ca==null||ca!==ci(o)||(o=ca,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Vo(ko,o)||(ko=o,o=cc(Mh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ca)))}function vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},kh={},dg={};wn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Er(e){if(kh[e])return kh[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in dg)return kh[e]=n[s];return e}var mg=Er("animationend"),gg=Er("animationiteration"),pg=Er("animationstart"),QT=Er("transitionrun"),KT=Er("transitionstart"),YT=Er("transitioncancel"),yg=Er("transitionend"),_g=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Kn(e,n){_g.set(e,n),li(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],fa=0,Lh=0;function bu(){for(var e=fa,n=Lh=fa=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&vg(s,h,f)}}function wu(e,n,s,o){In[fa++]=e,In[fa++]=n,In[fa++]=s,In[fa++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,s,o){return wu(e,n,s,o),Ru(e)}function Tr(e,n){return wu(e,null,null,n),Ru(e)}function vg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<il)throw il=0,Yf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function XT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,o){return new XT(e,n,s,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Eg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")zh(e)&&(g=1);else if(typeof e=="string")g=tA(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=pn(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Ar(s.children,h,f,n);case $:g=8,h|=24;break;case mt:return e=pn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Wt:return e=pn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Mt:return e=pn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case ut:g=9;break t;case Ht:g=11;break t;case N:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ar(e,n,s,o){return e=pn(7,e,o,n),e.lanes=s,e}function jh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Tg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ag=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=Ag.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ho(n)},Ag.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var ma=[],ga=0,Cu=null,Uo=0,Nn=[],Dn=0,gs=null,yi=1,_i="";function Ui(e,n){ma[ga++]=Uo,ma[ga++]=Cu,Cu=e,Uo=n}function Sg(e,n,s){Nn[Dn++]=yi,Nn[Dn++]=_i,Nn[Dn++]=gs,gs=e;var o=yi;e=_i;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-he(n)+h|s<<h|o,_i=f+e}else yi=1<<f|s<<h|o,_i=e}function qh(e){e.return!==null&&(Ui(e,1),Sg(e,1,0))}function Hh(e){for(;e===Cu;)Cu=ma[--ga],ma[ga]=null,Uo=ma[--ga],ma[ga]=null;for(;e===gs;)gs=Nn[--Dn],Nn[Dn]=null,_i=Nn[--Dn],Nn[Dn]=null,yi=Nn[--Dn],Nn[Dn]=null}function bg(e,n){Nn[Dn++]=yi,Nn[Dn++]=_i,Nn[Dn++]=gs,yi=n.id,_i=n.overflow,gs=e}var Be=null,ee=null,Vt=!1,ps=null,On=!1,Gh=Error(r(519));function ys(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Cn(n,e)),Gh}function wg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Me]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)It(rl[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||qy(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||ys(e,!0)}function Rg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function pa(e){if(e!==Be)return!1;if(!Vt)return Rg(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ud(e.type,e.memoizedProps)),s=!s),s&&ee&&ys(e),Rg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=Jy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=Jy(e)}else n===27?(n=ee,Os(e.type)?(e=md,md=null,ee=e):ee=n):ee=Be?Mn(e.stateNode.nextSibling):null;return!0}function Sr(){ee=Be=null,Vt=!1}function Fh(){var e=ps;return e!==null&&(un===null?un=e:un.push.apply(un,e),ps=null),e}function Lo(e){ps===null?ps=[e]:ps.push(e)}var Qh=M(null),br=null,Li=null;function _s(e,n,s){nt(Qh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Qh.current,X(Qh)}function Kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Kh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){br=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Ig(br,e)}function Du(e,n){return br===null&&wr(e),Ig(e,n)}function Ig(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(r(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},JT=a.unstable_scheduleCallback,$T=a.unstable_NormalPriority,Ae={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new ZT,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&JT($T,function(){e.controller.abort()})}var zo=null,Zh=0,_a=0,va=null;function WT(e,n){if(zo===null){var s=zo=[];Zh=0,_a=td(),va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Zh++,n.then(Cg,Cg),n}function Cg(){if(--Zh===0&&zo!==null){va!==null&&(va.status="fulfilled");var e=zo;zo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ng=G.S;G.S=function(e,n){fy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),Ng!==null&&Ng(e,n)};var Rr=M(null);function Jh(){var e=Rr.current;return e!==null?e:te.pooledCache}function Ou(e,n){n===null?nt(Rr,Rr.current):nt(Rr,n.pool)}function Dg(){var e=Jh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ea=Error(r(460)),$h=Error(r(474)),xu=Error(r(542)),Mu={then:function(){}};function Og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vg(e),e}throw Cr=n,Ea}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cr=s,Ea):s}}var Cr=null;function Mg(){if(Cr===null)throw Error(r(459));var e=Cr;return Cr=null,e}function Vg(e){if(e===Ea||e===xu)throw Error(r(483))}var Ta=null,jo=0;function Vu(e){var n=jo;return jo+=1,Ta===null&&(Ta=[]),xg(Ta,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kg(e){function n(k,O){if(e){var z=k.deletions;z===null?(k.deletions=[O],k.flags|=16):z.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ki(k,O),k.index=0,k.sibling=null,k}function f(k,O,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<O?(k.flags|=67108866,O):z):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,z,Q){return O===null||O.tag!==6?(O=jh(z,k.mode,Q),O.return=k,O):(O=h(O,z),O.return=k,O)}function I(k,O,z,Q){var ht=z.type;return ht===it?F(k,O,z.props.children,Q,z.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ir(ht)===O.type)?(O=h(O,z.props),Bo(O,z),O.return=k,O):(O=Iu(z.type,z.key,z.props,null,k.mode,Q),Bo(O,z),O.return=k,O)}function j(k,O,z,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Bh(z,k.mode,Q),O.return=k,O):(O=h(O,z.children||[]),O.return=k,O)}function F(k,O,z,Q,ht){return O===null||O.tag!==7?(O=Ar(z,k.mode,Q,ht),O.return=k,O):(O=h(O,z),O.return=k,O)}function Y(k,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=jh(""+O,k.mode,z),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return z=Iu(O.type,O.key,O.props,null,k.mode,z),Bo(z,O),z.return=k,z;case et:return O=Bh(O,k.mode,z),O.return=k,O;case b:return O=Ir(O),Y(k,O,z)}if(pe(O)||D(O))return O=Ar(O,k.mode,z,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Vu(O),z);if(O.$$typeof===ft)return Y(k,Du(k,O),z);ku(k,O)}return null}function B(k,O,z,Q){var ht=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:T(k,O,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return z.key===ht?I(k,O,z,Q):null;case et:return z.key===ht?j(k,O,z,Q):null;case b:return z=Ir(z),B(k,O,z,Q)}if(pe(z)||D(z))return ht!==null?null:F(k,O,z,Q,null);if(typeof z.then=="function")return B(k,O,Vu(z),Q);if(z.$$typeof===ft)return B(k,O,Du(k,z),Q);ku(k,z)}return null}function H(k,O,z,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(z)||null,T(O,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return k=k.get(Q.key===null?z:Q.key)||null,I(O,k,Q,ht);case et:return k=k.get(Q.key===null?z:Q.key)||null,j(O,k,Q,ht);case b:return Q=Ir(Q),H(k,O,z,Q,ht)}if(pe(Q)||D(Q))return k=k.get(z)||null,F(O,k,Q,ht,null);if(typeof Q.then=="function")return H(k,O,z,Vu(Q),ht);if(Q.$$typeof===ft)return H(k,O,z,Du(O,Q),ht);ku(O,Q)}return null}function at(k,O,z,Q){for(var ht=null,zt=null,ot=O,wt=O=0,Nt=null;ot!==null&&wt<z.length;wt++){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var jt=B(k,ot,z[wt],Q);if(jt===null){ot===null&&(ot=Nt);break}e&&ot&&jt.alternate===null&&n(k,ot),O=f(jt,O,wt),zt===null?ht=jt:zt.sibling=jt,zt=jt,ot=Nt}if(wt===z.length)return s(k,ot),Vt&&Ui(k,wt),ht;if(ot===null){for(;wt<z.length;wt++)ot=Y(k,z[wt],Q),ot!==null&&(O=f(ot,O,wt),zt===null?ht=ot:zt.sibling=ot,zt=ot);return Vt&&Ui(k,wt),ht}for(ot=o(ot);wt<z.length;wt++)Nt=H(ot,k,wt,z[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?wt:Nt.key),O=f(Nt,O,wt),zt===null?ht=Nt:zt.sibling=Nt,zt=Nt);return e&&ot.forEach(function(Us){return n(k,Us)}),Vt&&Ui(k,wt),ht}function gt(k,O,z,Q){if(z==null)throw Error(r(151));for(var ht=null,zt=null,ot=O,wt=O=0,Nt=null,jt=z.next();ot!==null&&!jt.done;wt++,jt=z.next()){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var Us=B(k,ot,jt.value,Q);if(Us===null){ot===null&&(ot=Nt);break}e&&ot&&Us.alternate===null&&n(k,ot),O=f(Us,O,wt),zt===null?ht=Us:zt.sibling=Us,zt=Us,ot=Nt}if(jt.done)return s(k,ot),Vt&&Ui(k,wt),ht;if(ot===null){for(;!jt.done;wt++,jt=z.next())jt=Y(k,jt.value,Q),jt!==null&&(O=f(jt,O,wt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Vt&&Ui(k,wt),ht}for(ot=o(ot);!jt.done;wt++,jt=z.next())jt=H(ot,k,wt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ot.delete(jt.key===null?wt:jt.key),O=f(jt,O,wt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ot.forEach(function(hA){return n(k,hA)}),Vt&&Ui(k,wt),ht}function $t(k,O,z,Q){if(typeof z=="object"&&z!==null&&z.type===it&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case K:t:{for(var ht=z.key;O!==null;){if(O.key===ht){if(ht=z.type,ht===it){if(O.tag===7){s(k,O.sibling),Q=h(O,z.props.children),Q.return=k,k=Q;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ir(ht)===O.type){s(k,O.sibling),Q=h(O,z.props),Bo(Q,z),Q.return=k,k=Q;break t}s(k,O);break}else n(k,O);O=O.sibling}z.type===it?(Q=Ar(z.props.children,k.mode,Q,z.key),Q.return=k,k=Q):(Q=Iu(z.type,z.key,z.props,null,k.mode,Q),Bo(Q,z),Q.return=k,k=Q)}return g(k);case et:t:{for(ht=z.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(k,O.sibling),Q=h(O,z.children||[]),Q.return=k,k=Q;break t}else{s(k,O);break}else n(k,O);O=O.sibling}Q=Bh(z,k.mode,Q),Q.return=k,k=Q}return g(k);case b:return z=Ir(z),$t(k,O,z,Q)}if(pe(z))return at(k,O,z,Q);if(D(z)){if(ht=D(z),typeof ht!="function")throw Error(r(150));return z=ht.call(z),gt(k,O,z,Q)}if(typeof z.then=="function")return $t(k,O,Vu(z),Q);if(z.$$typeof===ft)return $t(k,O,Du(k,z),Q);ku(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(k,O.sibling),Q=h(O,z),Q.return=k,k=Q):(s(k,O),Q=jh(z,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,O)}return function(k,O,z,Q){try{jo=0;var ht=$t(k,O,z,Q);return Ta=null,ht}catch(ot){if(ot===Ea||ot===xu)throw ot;var zt=pn(29,ot,null,k.mode);return zt.lanes=Q,zt.return=k,zt}}}var Nr=kg(!0),Ug=kg(!1),vs=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),vg(e,null,s),n}return wu(e,o,n,s),Ru(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function ef(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var nf=!1;function Ho(){if(nf){var e=va;if(e!==null)throw e}}function Go(e,n,s,o){nf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,g===null?f=j:g.next=j,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,F=j=I=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ct&B)===B:(o&B)===B){B!==0&&B===_a&&(nf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,gt=T;B=n;var $t=s;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call($t,Y,B);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call($t,Y,B):at,B==null)break t;Y=w({},Y,B);break t;case 2:vs=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,I=Y):F=F.next=H,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=Y}}function Lg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Pg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Lg(s[e],n)}var Aa=M(null),Uu=M(0);function zg(e,n){e=Ki,nt(Uu,e),nt(Aa,n),Ki=e|n.baseLanes}function sf(){nt(Uu,Ki),nt(Aa,Aa.current)}function rf(){Ki=Uu.current,X(Aa),X(Uu)}var yn=M(null),xn=null;function As(e){var n=e.alternate;nt(de,de.current&1),nt(yn,e),xn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(xn=e)}function af(e){nt(de,de.current),nt(yn,e),xn===null&&(xn=e)}function jg(e){e.tag===22?(nt(de,de.current),nt(yn,e),xn===null&&(xn=e)):Ss()}function Ss(){nt(de,de.current),nt(yn,yn.current)}function _n(e){X(yn),xn===e&&(xn=null),X(de)}var de=M(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fd(s)||dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,St=null,Zt=null,Se=null,Pu=!1,Sa=!1,Dr=!1,zu=0,Fo=0,ba=null,e1=0;function ue(){throw Error(r(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function lf(e,n,s,o,h,f){return zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Sp:Sf,Dr=!1,f=s(o,h),Dr=!1,Sa&&(f=qg(n,s,o,h)),Bg(e),f}function Bg(e){G.H=Yo;var n=Zt!==null&&Zt.next!==null;if(zi=0,Se=Zt=St=null,Pu=!1,Fo=0,ba=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Nu(e)&&(be=!0))}function qg(e,n,s,o){St=e;var h=0;do{if(Sa&&(ba=null),Fo=0,Sa=!1,25<=h)throw Error(r(301));if(h+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=bp,f=n(s,o)}while(Sa);return f}function n1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function uf(){var e=zu!==0;return zu=0,e}function cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}zi=0,Se=Zt=St=null,Sa=!1,Fo=zu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Fo;return Fo+=1,ba===null&&(ba=[]),e=xg(ba,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Sp:Sf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===ft)return qe(e)}throw Error(r(438,String(e)))}function ff(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=me();return df(n,Zt,e)}function df(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,I=null,j=n,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ct&Y)===Y:(zi&Y)===Y){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===_a&&(F=!0);else if((zi&B)===B){j=j.next,B===_a&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=Y,g=f):I=I.next=Y,St.lanes|=B,Rs|=B;Y=j.action,Dr&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else B={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=B,g=f):I=I.next=B,St.lanes|=Y,Rs|=Y;j=j.next}while(j!==null&&j!==n);if(I===null?g=f:I.next=T,!gn(f,e.memoizedState)&&(be=!0,F&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Hg(e,n,s){var o=St,h=me(),f=Vt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!gn((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,be=!0),h=h.queue,yf(Qg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Fg.bind(null,o,h,s,n),null),te===null)throw Error(r(349));f||(zi&127)!==0||Gg(o,n,s)}return s}function Gg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=ju(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Fg(e,n,s,o){n.value=s,n.getSnapshot=o,Kg(n)&&Yg(e)}function Qg(e,n,s){return s(function(){Kg(n)&&Yg(e)})}function Kg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function Yg(e){var n=Tr(e,2);n!==null&&cn(n,e,2)}function gf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Dr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function Xg(e,n,s,o){return e.baseState=s,df(e,Zt,typeof o=="function"?o:ji)}function i1(e,n,s,o,h){if(Fu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Zg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,o),I=G.S;I!==null&&I(g,T),Jg(e,n,T)}catch(j){pf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Jg(e,n,f)}catch(j){pf(e,n,j)}}function Jg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){$g(e,n,o)},function(o){return pf(e,n,o)}):$g(e,n,s)}function $g(e,n,s){n.status="fulfilled",n.value=s,Wg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Zg(e,s)))}function pf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Wg(n),n=n.next;while(n!==o)}e.action=null}function Wg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function tp(e,n){return n}function ep(e,n){if(Vt){var s=te.formState;if(s!==null){t:{var o=St;if(Vt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Mn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:n},s.queue=o,s=Ep.bind(null,St,o),o.dispatch=s,o=gf(!1),f=Af.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=i1.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function np(e){var n=me();return ip(n,Zt,e)}function ip(e,n,s){if(n=df(e,n,tp)[0],e=qu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===Ea?xu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,wa(9,{destroy:void 0},s1.bind(null,h,s),null)),[o,f,e]}function s1(e,n){e.action=n}function sp(e){var n=me(),s=Zt;if(s!==null)return ip(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function wa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=ju(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function rp(){return me().memoizedState}function Hu(e,n,s,o){var h=en();St.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&of(o,Zt.memoizedState.deps)?h.memoizedState=wa(n,f,s,o):(St.flags|=e,h.memoizedState=wa(1|n,f,s,o))}function ap(e,n){Hu(8390656,8,e,n)}function yf(e,n){Gu(2048,8,e,n)}function r1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=ju(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function op(e){var n=me().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function lp(e,n){return Gu(4,2,e,n)}function up(e,n){return Gu(4,4,e,n)}function cp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hp(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,cp.bind(null,n,e),s)}function _f(){}function fp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function dp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Dr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o}function vf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=my(),St.lanes|=e,Rs|=e,s)}function mp(e,n,s,o){return gn(s,n)?s:Aa.current!==null?(e=vf(e,s,o),gn(e,n)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=s):(e=my(),St.lanes|=e,Rs|=e,n)}function gp(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Af(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=t1(I,o);Ko(e,n,F,Tn(e))}else Ko(e,n,o,Tn(e))}catch(Y){Ko(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{tt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function a1(){}function Ef(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=pp(e).queue;gp(e,h,n,ct,s===null?a1:function(){return yp(e),s(o)})}function pp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yp(e){var n=pp(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},Tn())}function Tf(){return qe(cl)}function _p(){return me().memoizedState}function vp(){return me().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Es(s);var o=Ts(n,e,s);o!==null&&(cn(o,n,s),qo(o,n,s)),n={cache:Xh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Tp(n,s):(s=Ph(e,n,s,o),s!==null&&(cn(s,e,o),Ap(s,n,o)))}function Ep(e,n,s){var o=Tn();Ko(e,n,s,o)}function Ko(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Tp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,gn(T,g))return wu(e,n,h,0),te===null&&bu(),!1}catch{}if(s=Ph(e,n,h,o),s!==null)return cn(s,e,o),Ap(s,n,o),!0}return!1}function Af(e,n,s,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(r(479))}else n=Ph(e,s,o,2),n!==null&&cn(n,e,2)}function Fu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Tp(e,n){Sa=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ap(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Yo={readContext:qe,use:Bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yo.useEffectEvent=ue;var Sp={readContext:qe,use:Bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:ap,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,cp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Dr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Dr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=Ep.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(e,n){var s=en();return vf(s,e,n)},useTransition:function(){var e=gf(!1);return e=gp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=en();if(Vt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(Ct&127)!==0||Gg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ap(Qg.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},Fg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=te.identifierPrefix;if(Vt){var s=_i,o=yi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:ep,useActionState:ep,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Af.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return en().memoizedState=o1.bind(null,St)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Sf={readContext:qe,use:Bu,useCallback:fp,useContext:qe,useEffect:yf,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:qu,useRef:rp,useState:function(){return qu(ji)},useDebugValue:_f,useDeferredValue:function(e,n){var s=me();return mp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=qu(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:Tf,useFormState:np,useActionState:np,useOptimistic:function(e,n){var s=me();return Xg(s,Zt,e,n)},useMemoCache:ff,useCacheRefresh:vp};Sf.useEffectEvent=op;var bp={readContext:qe,use:Bu,useCallback:fp,useContext:qe,useEffect:yf,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:mf,useRef:rp,useState:function(){return mf(ji)},useDebugValue:_f,useDeferredValue:function(e,n){var s=me();return Zt===null?vf(s,e,n):mp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=mf(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:Tf,useFormState:sp,useActionState:sp,useOptimistic:function(e,n){var s=me();return Zt!==null?Xg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ff,useCacheRefresh:vp};bp.useEffectEvent=op;function bf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(cn(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(cn(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(cn(n,e,s),qo(n,e,s))}};function wp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(s,o)||!Vo(h,f):!0}function Rp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Ip(e){Su(e)}function Cp(e){console.error(e)}function Np(e){Su(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Dp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Op(e){return e=Es(e),e.tag=3,e}function xp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Dp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Dp(n,s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function u1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?sc():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Jf(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Jf(e,o,h)),!1}throw Error(r(435,s.tag))}return Jf(e,o,h),sc(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(r(422),{cause:o}),Lo(Cn(e,s)))):(o!==Gh&&(n=Error(r(423),{cause:o}),Lo(Cn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,s),h=Rf(e.stateNode,o,h),ef(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=Cn(f,s),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,o,e),ef(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Op(h),xp(h,e,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(r(461)),be=!1;function He(e,n,s,o){n.child=e===null?Ug(n,null,s,o):Nr(n,e.child,s,o)}function Mp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return wr(n),o=lf(e,n,s,g,f,h),T=uf(),e!==null&&!be?(cf(e,n,h),Bi(e,n,h)):(Vt&&T&&qh(n),n.flags|=1,He(e,n,o,h),n.child)}function Vp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,kp(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,kf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Cf(e,n,s,o,h)}function Up(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Lp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?zg(n,f):sf(),jg(n);else return o=n.lanes=536870912,Lp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),zg(n,f),Ss(),n.memoizedState=null):(e!==null&&Ou(n,null),sf(),Ss());return He(e,n,h,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Lp(e,n,s,o,h){var f=Jh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),sf(),jg(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pp(e,n,s){return Nr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function c1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Xo(null,e);if(af(n),(e=ee)?(e=Zy(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Tg(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Pp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||ya(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(o=te,o!==null&&(g=po(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(e,g),cn(o,e,g),If;sc(),n=Pp(e,n,s)}else e=f.treeContext,ee=Mn(g.nextSibling),Be=n,Vt=!0,ps=null,On=!1,e!==null&&bg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cf(e,n,s,o,h){return wr(n),s=lf(e,n,s,o,void 0,h),o=uf(),e!==null&&!be?(cf(e,n,h),Bi(e,n,h)):(Vt&&o&&qh(n),n.flags|=1,He(e,n,s,h),n.child)}function zp(e,n,s,o,h,f){return wr(n),n.updateQueue=null,s=qg(n,o,s,h),Bg(e),o=uf(),e!==null&&!be?(cf(e,n,f),Bi(e,n,f)):(Vt&&o&&qh(n),n.flags|=1,He(e,n,s,f),n.child)}function jp(e,n,s,o,h){if(wr(n),n.stateNode===null){var f=da,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(bf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wf.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Or(s,T);f.props=I;var j=f.context,F=s.contextType;g=da,typeof F=="object"&&F!==null&&(g=qe(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&Rp(n,f,o,g),vs=!1;var B=n.memoizedState;f.state=B,Go(n,o,f,h),Ho(),j=n.memoizedState,T||B!==j||vs?(typeof Y=="function"&&(bf(n,s,Y,o),j=n.memoizedState),(I=vs||wp(n,s,I,o,B,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),g=n.memoizedProps,F=Or(s,g),f.props=F,Y=n.pendingProps,B=f.context,j=s.contextType,I=da,typeof j=="object"&&j!==null&&(I=qe(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||B!==I)&&Rp(n,f,o,I),vs=!1,B=n.memoizedState,f.state=B,Go(n,o,f,h),Ho();var H=n.memoizedState;g!==Y||B!==H||vs||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof T=="function"&&(bf(n,s,T,o),H=n.memoizedState),(F=vs||wp(n,s,F,o,B,H,I)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,h),n.child=Nr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Bp(e,n,s,o){return Sr(),n.flags|=256,He(e,n,s,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Dg()}}function Of(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function qp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?As(n):Ss(),(e=ee)?(e=Zy(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Tg(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw ys(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ss(),h=n.mode,T=Xu({mode:"hidden",children:T},h),o=Ar(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Df(s),o.childLanes=Of(e,g,s),n.memoizedState=Nf,Xo(null,o)):(As(n),xf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),T=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),T=Ar(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Nr(n,e.child,null,s),o=n.child,o.memoizedState=Df(s),o.childLanes=Of(e,g,s),n.memoizedState=Nf,n=Xo(null,o));else if(As(n),dd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(r(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Mf(e,n,s)}else if(be||ya(e,n,s,!1),g=(s&e.childLanes)!==0,be||g){if(g=te,g!==null&&(o=po(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Tr(e,o),cn(g,e,o),If;fd(T)||sc(),n=Mf(e,n,s)}else fd(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Mn(T.nextSibling),Be=n,Vt=!0,ps=null,On=!1,e!==null&&bg(n,e),n=xf(n,o.children),n.flags|=4096);return n}return h?(Ss(),T=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=ki(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?T=ki(j,T):(T=Ar(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Xo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Df(s):(h=T.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Dg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Of(e,g,s),n.memoizedState=Nf,Xo(e.child,o)):(As(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function xf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Mf(e,n,s){return Nr(n,e.child,null,s),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,s)}function Vf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Gp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),He(e,n,o,s),o=Vt?Uo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,s,n);else if(e.tag===19)Hp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Vf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Vf(n,!0,s,null,f,o);break;case"together":Vf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function h1(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),_s(n,Ae,e.memoizedState.cache),Sr();break;case 27:case 5:ir(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?qp(e,n,s):(As(n),e=Bi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ya(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Gp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,Up(e,n,s,n.pendingProps);case 24:_s(n,Ae,e.memoizedState.cache)}return Bi(e,n,s)}function Fp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!kf(e,s)&&(n.flags&128)===0)return be=!1,h1(e,n,s);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&Sg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=Or(e,o),n.tag=1,n=jp(null,n,e,o,s)):(n.tag=0,n=Cf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Mp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Vp(null,n,e,o,s);break t}}throw n=Lt(e)||e,Error(r(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Or(o,n.pendingProps),jp(e,n,o,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Go(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,Ae,o),o!==f.cache&&Yh(n,[Ae],s,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bp(e,n,o,s);break t}else if(o!==h){h=Cn(Error(r(424)),n),Lo(h),n=Bp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Mn(e.firstChild),Be=n,Vt=!0,ps=null,On=!0,s=Ug(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sr(),o===h){n=Bi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=n_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=hc(bt.current).createElement(s),o[ve]=n,o[Me]=e,Ge(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=n_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ir(n),e===null&&Vt&&(o=n.stateNode=Wy(n.type,n.pendingProps,bt.current),Be=n,On=!0,h=ee,Os(n.type)?(md=h,ee=Mn(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ee)&&(o=B1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,ee=Mn(o.firstChild),On=!1,h=!0):h=!1),h||ys(n)),ir(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:g!==null&&ud(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,n1,null,null,s),cl._currentValue=h),Yu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=ee)&&(s=q1(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,ee=null,e=!0):e=!1),e||ys(n)),null;case 13:return qp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Mp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Vp(e,n,n.type,n.pendingProps,s);case 15:return kp(e,n,n.type,n.pendingProps,s);case 19:return Gp(e,n,s);case 31:return c1(e,n,s);case 22:return Up(e,n,s,n.pendingProps);case 24:return wr(n),o=qe(Ae),e===null?(h=Jh(),h===null&&(h=te,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),_s(n,Ae,h)):((e.lanes&s)!==0&&(tf(e,n),Go(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Ae,o)):(o=f.cache,_s(n,Ae,o),o!==h.cache&&Yh(n,[Ae],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qi(e){e.flags|=4}function Uf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(_y())e.flags|=8192;else throw Cr=Mu,$h}else e.flags&=-16777217}function Qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(n))if(_y())e.flags|=8192;else throw Cr=Mu,$h}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Na|=n)}function Zo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function f1(e,n,s){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Ae),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),Qp(n,f)):(ne(n),Uf(n,h,null,o,s))):f?f!==e.memoizedState?(qi(n),ne(n),Qp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ne(n),Uf(n,h,e,o,s)),null;case 27:if(Yr(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ne(n),null}e=rt.current,pa(n)?wg(n):(e=Wy(h,o,s),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=rt.current,pa(n))wg(n);else{var g=hc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ve]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ne(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||qy(e.nodeValue,s)),e||ys(n,!0)}else e=hc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&sd(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if(X(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Eg(s,e),s=s.sibling;return nt(de,de.current&1|2),Vt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ec&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*We()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=de.current,nt(de,h?s&1|2:s&1),Vt&&Ui(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Rr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function d1(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(r(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(de),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),rf(),e!==null&&X(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ae),null;case 25:return null;default:return null}}function Kp(e,n){switch(Hh(n),n.tag){case 3:Pi(Ae),re();break;case 26:case 27:case 5:Yr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:X(de);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),rf(),e!==null&&X(Rr);break;case 24:Pi(Ae)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Yt(n,n.return,T)}}function bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=s,j=T;try{j()}catch(F){Yt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function Yp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Pg(n,s)}catch(o){Yt(e,e.return,o)}}}function Xp(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function $o(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function Zp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Lf(e,n,s){try{var o=e.stateNode;k1(o,e.type,s,n),o[Me]=n}catch(h){Yt(e,e.return,h)}}function Jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,s),e=e.sibling;e!==null;)zf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function $p(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[ve]=e,n[Me]=s}catch(f){Yt(e,e.return,f)}}var Hi=!1,we=!1,jf=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function m1(e,n){if(e=e.containerInfo,od=_c,e=hg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,I=-1,j=0,F=0,Y=e,B=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||o!==0&&Y.nodeType!==3||(I=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===s&&++j===h&&(T=g),B===f&&++F===o&&(I=g),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},_c=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Or(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function ty(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),o&4&&Jo(5,s);break;case 1:if(Fi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&Yp(s),o&512&&$o(s,s.return);break;case 3:if(Fi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Pg(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&$p(s);case 26:case 5:Fi(e,s),n===null&&o&4&&Zp(s),o&512&&$o(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),o&4&&iy(e,s);break;case 13:Fi(e,s),o&4&&sy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=S1.bind(null,s),H1(e,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||we,h=Hi;var f=we;Hi=o,(we=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Hi=h,we=f}break;case 30:break;default:Fi(e,s)}}function ey(e){var n=e.alternate;n!==null&&(e.alternate=null,ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Gi(e,n,s){for(s=s.child;s!==null;)ny(e,n,s),s=s.sibling}function ny(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:we||vi(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||vi(s,n);var o=oe,h=an;Os(s.type)&&(oe=s.stateNode,an=!1),Gi(e,n,s),ol(s.stateNode),oe=o,an=h;break;case 5:we||vi(s,n);case 6:if(o=oe,h=an,oe=null,Gi(e,n,s),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:oe!==null&&(an?(e=oe,Yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):Yy(oe,s.stateNode));break;case 4:o=oe,h=an,oe=s.stateNode.containerInfo,an=!0,Gi(e,n,s),oe=o,an=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),we||bs(4,s,n),Gi(e,n,s);break;case 1:we||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Xp(s,n,o)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,Gi(e,n,s),we=o;break;default:Gi(e,n,s)}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Yt(n,n.return,s)}}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Yt(n,n.return,s)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wp),n;default:throw Error(r(435,e.tag))}}function $u(e,n){var s=g1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Os(T.type)){oe=T.stateNode,an=!1;break t}break;case 5:oe=T.stateNode,an=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(oe===null)throw Error(r(160));ny(f,g,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ry(n,e),n=n.sibling}var Yn=null;function ry(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(bs(3,e,e.return),Jo(3,e),bs(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var g=r_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(g=r_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else a_(h,e.type,e.stateNode);else e.stateNode=s_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?a_(h,e.type,e.stateNode):s_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),s!==null&&o&4&&Lf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(mc=null,h=Yn,Yn=fc(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Yt(e,e.return,at)}jf&&(jf=!1,ay(e));break;case 4:o=Yn,Yn=fc(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=Hi,F=we;if(Hi=j||h,we=F||I,on(n,e),we=F,Hi=j,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Hi||we||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var Y=I.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Yt(I,I.return,at)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Yt(I,I.return,at)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?Xy(H,!0):Xy(I.stateNode,!1)}catch(at){Yt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Jp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Pf(e);Ju(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var T=Pf(e);Ju(e,T,g);break;case 3:case 4:var I=s.stateNode.containerInfo,j=Pf(e);zf(e,j,I);break;default:throw Error(r(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ty(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),xr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Xp(n,n.return,s),xr(n);break;case 27:ol(n.stateNode);case 26:case 5:vi(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),Jo(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Lg(I[h],T)}catch(j){Yt(o,o.return,j)}}s&&g&64&&Yp(f),$o(f,f.return);break;case 27:$p(f);case 26:case 5:Qi(h,f,s),s&&o===null&&g&4&&Zp(f),$o(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&g&4&&iy(h,f);break;case 13:Qi(h,f,s),s&&g&4&&sy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),$o(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Xn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)oy(e,n,s,o),n=n.sibling}function oy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Xn(e,n,s,o);break;case 3:Xn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Xn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Xn(e,n,s,o);break;case 31:Xn(e,n,s,o);break;case 13:Xn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,o):Wo(e,n):f._visibility&2?Xn(e,n,s,o):(f._visibility|=2,Ra(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(g,n);break;case 24:Xn(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:Xn(e,n,s,o)}}function Ra(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,I=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,T,I,h),Jo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ra(f,g,T,I,h):Wo(f,g):(F._visibility|=2,Ra(f,g,T,I,h)),h&&j&2048&&Bf(g.alternate,g);break;case 24:Ra(f,g,T,I,h),h&&j&2048&&qf(g.alternate,g);break;default:Ra(f,g,T,I,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(s,o),h&2048&&Bf(o.alternate,o);break;case 24:Wo(s,o),h&2048&&qf(o.alternate,o);break;default:Wo(s,o)}n=n.sibling}}var tl=8192;function Ia(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)ly(e,n,s),e=e.sibling}function ly(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&tl&&e.memoizedState!==null&&eA(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=Yn;Yn=fc(e.stateNode.containerInfo),Ia(e,n,s),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ia(e,n,s),tl=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,hy(o,e)}uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&bs(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):el(e);break;default:el(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,hy(o,e)}uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function hy(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(ey(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var p1={getCacheForType:function(e){var n=qe(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Ae).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,Rt=null,Ct=0,Kt=0,vn=null,ws=!1,Ca=!1,Hf=!1,Ki=0,ce=0,Rs=0,Mr=0,Gf=0,En=0,Na=0,nl=null,un=null,Ff=!1,tc=0,fy=0,ec=1/0,nc=null,Is=null,De=0,Cs=null,Da=null,Yi=0,Qf=0,Kf=null,dy=null,il=0,Yf=null;function Tn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?td():iu()}function my(){if(En===0)if((Ct&536870912)===0||Vt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Ns(e,Ct,En,!1)),or(e,s),((qt&2)===0||e!==te)&&(e===te&&((qt&2)===0&&(Mr|=s),ce===4&&Ns(e,Ct,En,!1)),Ei(e))}function gy(e,n,s){if((qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?E1(e,n):Zf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=nl;var I=T.current.memoizedState.isDehydrated;if(I&&(Oa(T,g).flags|=256),g=Zf(T,g,!1),g!==2){if(Hf&&!I){T.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,En,!ws);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=tc+300-We(),10<h)){if(Ns(o,n,En,!ws),ni(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=Qy(py.bind(null,o,s,un,nc,Ff,n,En,Mr,Na,ws,f,"Throttled",-0,0),h);break t}py(o,s,un,nc,Ff,n,En,Mr,Na,ws,f,null,-0,0)}}break}while(!0);Ei(e)}function py(e,n,s,o,h,f,g,T,I,j,F,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},ly(n,f,Y);var at=(f&62914560)===f?tc-We():(f&4194048)===f?fy-We():0;if(at=nA(Y,at),at!==null){Yi=f,e.cancelPendingCommit=at(by.bind(null,e,n,f,s,o,h,g,T,I,F,Y,null,B,H)),Ns(e,f,g,!j);return}}by(e,n,f,s,o,h,g,T,I)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,o){n&=~Gf,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&lr(e,s,n)}function ic(){return(qt&6)===0?(sl(0),!1):!0}function Xf(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,Li=br=null,hf(e),Ta=null,jo=0,e=Rt;for(;e!==null;)Kp(e.alternate,e),e=e.return;Rt=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Xf(),te=e,Rt=s=ki(e.current,null),Ct=n,Kt=0,vn=null,ws=!1,Ca=zn(e,n),Hf=!1,Na=En=Gf=Mr=Rs=ce=0,un=nl=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,bu(),s}function yy(e,n){St=null,G.H=Yo,n===Ea||n===xu?(n=Mg(),Kt=3):n===$h?(n=Mg(),Kt=4):Kt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Rt===null&&(ce=1,Qu(e,Cn(n,e.current)))}function _y(){var e=yn.current;return e===null?!0:(Ct&4194048)===Ct?xn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===xn:!1}function vy(){var e=G.H;return G.H=Yo,e===null?Yo:e}function Ey(){var e=G.A;return G.A=p1,e}function sc(){ce=4,ws||(Ct&4194048)!==Ct&&yn.current!==null||(Ca=!0),(Rs&134217727)===0&&(Mr&134217727)===0||te===null||Ns(te,Ct,En,!1)}function Zf(e,n,s){var o=qt;qt|=2;var h=vy(),f=Ey();(te!==e||Ct!==n)&&(nc=null,Oa(e,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Rt!==null){var T=Rt,I=vn;switch(Kt){case 8:Xf(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var j=Kt;if(Kt=0,vn=null,xa(e,T,I,j),s&&Ca){g=0;break t}break;default:j=Kt,Kt=0,vn=null,xa(e,T,I,j)}}v1(),g=ce;break}catch(F){yy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Li=br=null,qt=o,G.H=h,G.A=f,Rt===null&&(te=null,Ct=0,bu()),g}function v1(){for(;Rt!==null;)Ty(Rt)}function E1(e,n){var s=qt;qt|=2;var o=vy(),h=Ey();te!==e||Ct!==n?(nc=null,ec=We()+500,Oa(e,n)):Ca=zn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(Og(f)){Kt=0,vn=null,Ay(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Og(f)?(Kt=0,vn=null,Ay(n)):(Kt=0,vn=null,xa(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var T=Rt;if(g?o_(g):T.stateNode.complete){Kt=0,vn=null;var I=T.sibling;if(I!==null)Rt=I;else{var j=T.return;j!==null?(Rt=j,rc(j)):Rt=null}break e}}Kt=0,vn=null,xa(e,n,f,5);break;case 6:Kt=0,vn=null,xa(e,n,f,6);break;case 8:Xf(),ce=6;break t;default:throw Error(r(462))}}T1();break}catch(F){yy(e,F)}while(!0);return Li=br=null,G.H=o,G.A=h,qt=s,Rt!==null?0:(te=null,Ct=0,bu(),ce)}function T1(){for(;Rt!==null&&!wh();)Ty(Rt)}function Ty(e){var n=Fp(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?rc(e):Rt=n}function Ay(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=zp(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=zp(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:hf(n);default:Kp(s,n),n=Rt=Eg(n,Ki),n=Fp(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?rc(e):Rt=n}function xa(e,n,s,o){Li=br=null,hf(n),Ta=null,jo=0;var h=n.return;try{if(u1(e,h,n,s,Ct)){ce=1,Qu(e,Cn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Qu(e,Cn(s,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ca||(Ct&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Sy(n,ws);return}e=n.return;var s=f1(n.alternate,n,Ki);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Sy(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ce=6,Rt=null}function by(e,n,s,o,h,f,g,T,I){e.cancelPendingCommit=null;do ac();while(De!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Lh,Ch(e,s,f,g,T,I),e===te&&(Rt=te=null,Ct=0),Da=n,Cs=e,Yi=s,Qf=f,Kf=h,dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(rs,function(){return Ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=tt.p,tt.p=2,g=qt,qt|=4;try{m1(e,n,s)}finally{qt=g,tt.p=h,G.T=o}}De=1,wy(),Ry(),Iy()}}function wy(){if(De===1){De=0;var e=Cs,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var h=qt;qt|=4;try{ry(n,e);var f=ld,g=hg(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&cg(T.ownerDocument.documentElement,T)){if(I!==null&&xh(T)){var j=I.start,F=I.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=T.textContent.length,gt=Math.min(I.start,at),$t=I.end===void 0?gt:Math.min(I.end,at);!H.extend&&gt>$t&&(g=$t,$t=gt,gt=g);var k=ug(T,gt),O=ug(T,$t);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=Y.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),gt>$t?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!od,ld=od=null}finally{qt=h,tt.p=o,G.T=s}}e.current=n,De=2}}function Ry(){if(De===2){De=0;var e=Cs,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var h=qt;qt|=4;try{ty(e,n.alternate,n)}finally{qt=h,tt.p=o,G.T=s}}De=3}}function Iy(){if(De===4||De===3){De=0,Zl();var e=Cs,n=Da,s=Yi,o=dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Da=Cs=null,Cy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Oi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,tt.p=h}}(Yi&3)!==0&&ac(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?il++:(il=0,Yf=e):il=0,sl(0)}}function Cy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function ac(){return wy(),Ry(),Iy(),Ny()}function Ny(){if(De!==5)return!1;var e=Cs,n=Qf;Qf=0;var s=Oi(Yi),o=G.T,h=tt.p;try{tt.p=32>s?32:s,G.T=null,s=Kf,Kf=null;var f=Cs,g=Yi;if(De=0,Da=Cs=null,Yi=0,(qt&6)!==0)throw Error(r(331));var T=qt;if(qt|=4,cy(f.current),oy(f,f.current,g,s),qt=T,sl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{tt.p=h,G.T=o,Cy(e,n)}}function Dy(e,n,s){n=Cn(s,n),n=Rf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(or(e,2),Ei(e))}function Yt(e,n,s){if(e.tag===3)Dy(e,e,s);else for(;n!==null;){if(n.tag===3){Dy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Cn(s,e),s=Op(2),o=Ts(n,s,2),o!==null&&(xp(s,o,n,e),or(o,2),Ei(o));break}}n=n.return}}function Jf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=A1.bind(null,e,n,s),n.then(e,e))}function A1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Ct&s)===s&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>We()-tc?(qt&2)===0&&Oa(e,0):Gf|=s,Na===Ct&&(Na=0)),Ei(e)}function Oy(e,n){n===0&&(n=nu()),e=Tr(e,n),e!==null&&(or(e,n),Ei(e))}function S1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Oy(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Oy(e,s)}function w1(e,n){return Ne(e,n)}var oc=null,Ma=null,$f=!1,lc=!1,Wf=!1,Ds=0;function Ei(e){e!==Ma&&e.next===null&&(Ma===null?oc=Ma=e:Ma=Ma.next=e),lc=!0,$f||($f=!0,I1())}function sl(e,n){if(!Wf&&lc){Wf=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ky(o,f))}else f=Ct,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,ky(o,f));o=o.next}while(s);Wf=!1}}function R1(){xy()}function xy(){lc=$f=!1;var e=0;Ds!==0&&L1()&&(e=Ds);for(var n=We(),s=null,o=oc;o!==null;){var h=o.next,f=My(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}De!==0&&De!==5||sl(e),Ds!==0&&(Ds=0)}function My(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),T=1<<g,I=h[g];I===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Ih(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=te,s=Ct,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Oi(s)){case 2:case 8:s=mo;break;case 32:s=rs;break;case 268435456:s=Jl;break;default:s=rs}return o=Vy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Ct;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(gy(e,o,n),My(e,We()),e.callbackNode!=null&&e.callbackNode===s?Vy.bind(null,e):null)}function ky(e,n){if(ac())return null;gy(e,n,!0)}function I1(){z1(function(){(qt&6)!==0?Ne(fo,R1):xy()})}function td(){if(Ds===0){var e=_a;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ds=e}return Ds}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Ly(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function C1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Uy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Uy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new di("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var I=g?Ly(h,g):new FormData(h);Ef(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?Ly(h,g):new FormData(h),Ef(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ed=0;ed<Uh.length;ed++){var nd=Uh[ed],N1=nd.toLowerCase(),D1=nd[0].toUpperCase()+nd.slice(1);Kn(N1,"on"+D1)}Kn(mg,"onAnimationEnd"),Kn(gg,"onAnimationIteration"),Kn(pg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(QT,"onTransitionRun"),Kn(KT,"onTransitionStart"),Kn(YT,"onTransitionCancel"),Kn(yg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Py(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(T=o[g],I=T.instance,j=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=I}}}}function It(e,n){var s=n[$r];s===void 0&&(s=n[$r]=new Set);var o=e+"__bubble";s.has(o)||(zy(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),zy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[uc]){e[uc]=!0,yo.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,id("selectionchange",!1,n))}}function zy(e,n,s,o){switch(m_(n)){case 2:var h=rA;break;case 8:h=aA;break;default:h=vd}s=h.bind(null,n,s,e),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function rd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=ai(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}T=T.parentNode}}o=o.return}hs(function(){var j=f,F=bn(s),Y=[];t:{var B=_g.get(e);if(B!==void 0){var H=di,at=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":H=Eu;break;case"focusin":at="focus",H=yr;break;case"focusout":at="blur",H=yr;break;case"beforeblur":case"afterblur":H=yr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case mg:case gg:case pg:H=du;break;case yg:H=A;break;case"scroll":case"scrollend":H=No;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=At}var gt=(n&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),k=gt?B!==null?B+"Capture":null:B;gt=[];for(var O=j,z;O!==null;){var Q=O;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||k===null||(Q=Hn(O,k),Q!=null&&gt.push(al(O,Q,z))),$t)break;O=O.return}0<gt.length&&(B=new H(B,at,null,s,F),Y.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Ro&&(at=s.relatedTarget||s.fromElement)&&(ai(at)||at[si]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=j,at=at?ai(at):null,at!==null&&($t=c(at),gt=at.tag,at!==$t||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(H=null,at=j),H!==at)){if(gt=Do,Q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Vi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),$t=H==null?B:dn(H),z=at==null?B:dn(at),B=new gt(Q,O+"leave",H,s,F),B.target=$t,B.relatedTarget=z,Q=null,ai(F)===j&&(gt=new gt(k,O+"enter",at,s,F),gt.target=z,gt.relatedTarget=$t,Q=gt),$t=Q,H&&at)e:{for(gt=x1,k=H,O=at,z=0,Q=k;Q;Q=gt(Q))z++;Q=0;for(var ht=O;ht;ht=gt(ht))Q++;for(;0<z-Q;)k=gt(k),z--;for(;0<Q-z;)O=gt(O),Q--;for(;z--;){if(k===O||O!==null&&k===O.alternate){gt=k;break e}k=gt(k),O=gt(O)}gt=null}else gt=null;H!==null&&jy(Y,B,H,gt,!1),at!==null&&$t!==null&&jy(Y,$t,at,gt,!0)}}t:{if(B=j?dn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var zt=ig;else if(eg(B))if(sg)zt=HT;else{zt=BT;var ot=jT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&na(j.elementType)&&(zt=ig):zt=qT;if(zt&&(zt=zt(e,j))){ng(Y,zt,s,F);break t}ot&&ot(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&So(B,"number",B.value)}switch(ot=j?dn(j):window,e){case"focusin":(eg(ot)||ot.contentEditable==="true")&&(ca=ot,Mh=j,ko=null);break;case"focusout":ko=Mh=ca=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,fg(Y,s,F);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":fg(Y,s,F)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ua?_r(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&s.locale!=="ko"&&(ua||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ua&&(wt=Co()):(fi=F,Io="value"in fi?fi.value:fi.textContent,ua=!0)),ot=cc(j,Nt),0<ot.length&&(Nt=new gi(Nt,e,null,s,F),Y.push({event:Nt,listeners:ot}),wt?Nt.data=wt:(wt=la(s),wt!==null&&(Nt.data=wt)))),(wt=Rn?UT(e,s):LT(e,s))&&(Nt=cc(j,"onBeforeInput"),0<Nt.length&&(ot=new gi("onBeforeInput","beforeinput",null,s,F),Y.push({event:ot,listeners:Nt}),ot.data=wt)),C1(Y,e,j,s,F)}Py(Y,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&o.unshift(al(e,h,f)),h=Hn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function x1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=Hn(s,f),j!=null&&g.unshift(al(s,j,I))):h||(j=Hn(s,f),j!=null&&g.push(al(s,j,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var M1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(M1,`
`).replace(V1,"")}function qy(e,n){return n=By(n),By(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,ta(e,s,o))}}function ad(e,n,s,o,h,f){switch(s){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ta(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,g,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var T=f=g=h=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Jt(e,n,o,F,s,null)}}ou(e,f,T,I,j,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Jt(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Jt(e,n,g,T,s,null)}ls(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)It(rl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,j,o,s,null)}return;default:if(na(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ad(e,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Jt(e,n,T,o,s,null))}function k1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,j=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(H)||Jt(e,n,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&Jt(e,n,B,H,o,Y)}}ea(e,g,T,I,j,F,f,h);return;case"select":H=g=T=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=T,s=g,o=H,B!=null?os(e,!!s,B,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}lu(e,B,H);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Jt(e,n,at,null,o,B));for(I in o)B=o[I],H=s[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)B=s[gt],s.hasOwnProperty(gt)&&B!=null&&!o.hasOwnProperty(gt)&&Jt(e,n,gt,null,o,B);for(j in o)if(B=o[j],H=s[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Jt(e,n,j,B,o,H)}return;default:if(na(n)){for(var $t in s)B=s[$t],s.hasOwnProperty($t)&&B!==void 0&&!o.hasOwnProperty($t)&&ad(e,n,$t,void 0,o,B);for(F in o)B=o[F],H=s[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||ad(e,n,F,B,o,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||Jt(e,n,Y,B,o,H)}function Hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Hy(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],j=I.startTime;if(j>T)break;var F=I.transferSize,Y=I.initiatorType;F&&Hy(Y)&&(I=I.responseEnd,g+=F*(I<T?1:(T-j)/(I-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(j1)}:Qy;function j1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Yy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ol(e.ownerDocument.body);s=h}while(s);La(n)}function Xy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function Jy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function $y(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Wy(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var Vn=new Map,t_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=tt.d;tt.d={f:G1,r:F1,D:Q1,C:K1,L:Y1,m:X1,X:J1,S:Z1,M:$1};function G1(){var e=Xi.f(),n=ic();return e||n}function F1(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?yp(n):Xi.r(e)}var Va=typeof document>"u"?null:document;function e_(e,n,s){var o=Va;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),t_.has(h)||(t_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Q1(e){Xi.D(e),e_("dns-prefetch",e,null)}function K1(e,n){Xi.C(e,n),e_("preconnect",e,n)}function Y1(e,n,s){Xi.L(e,n,s);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}Vn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function X1(e,n){Xi.m(e,n);var s=Va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Vn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}o=s.createElement("link"),Ge(o,"link",e),Ee(o),s.head.appendChild(o)}}}function Z1(e,n,s){Xi.S(e,n,s);var o=Va;if(o&&e){var h=oi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(ll(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&gd(e,s);var I=g=o.createElement("link");Ee(I),Ge(I,"link",e),I._p=new Promise(function(j,F){I.onload=j,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function J1(e,n){Xi.X(e,n);var s=Va;if(s&&e){var o=oi(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=w({src:e,async:!0},n),(n=Vn.get(h))&&pd(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $1(e,n){Xi.M(e,n);var s=Va;if(s&&e){var o=oi(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&pd(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function n_(e,n,s,o){var h=(h=bt.current)?fc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||W1(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ka(e){return'href="'+sn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),Ee(n),e.head.appendChild(n))}function Ua(e){return'[src="'+sn(e)+'"]'}function ul(e){return"script[async]"+e}function s_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ka(s.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=i_(s),(h=Vn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Ge(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(ul(f)))?(n.instance=h,Ee(h),h):(o=s,(h=Vn.get(f))&&(o=w({},s),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function r_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function a_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=i_(o),(h=Vn.get(h))&&gd(o,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var yd=0;function nA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*U1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(iA,e),pc=null,gc.call(e))}function iA(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function sA(e,n,s,o,h,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function l_(e,n,s,o,h,f,g,T,I,j,F,Y){return e=new sA(e,n,s,g,I,j,F,Y,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function u_(e){return e?(e=da,e):da}function c_(e,n,s,o,h,f){h=u_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(cn(s,e,n),qo(s,e,n))}function h_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){h_(e,n),(e=e.alternate)&&h_(e,n)}function f_(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&cn(n,e,67108864),_d(e,67108864)}}function d_(e){if(e.tag===13||e.tag===31){var n=Tn();n=ur(n);var s=Tr(e,n);s!==null&&cn(s,e,n),_d(e,n)}}var _c=!0;function rA(e,n,s,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,vd(e,n,s,o)}finally{tt.p=f,G.T=h}}function aA(e,n,s,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,vd(e,n,s,o)}finally{tt.p=f,G.T=h}}function vd(e,n,s,o){if(_c){var h=Ed(o);if(h===null)rd(e,n,o,vc,s),g_(e,o);else if(lA(h,e,n,s,o))o.stopPropagation();else if(g_(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-he(g);T.entanglements[1]|=I,g&=~I}Ei(f),(qt&6)===0&&(ec=We()+500,sl(0))}}break;case 31:case 13:T=Tr(f,2),T!==null&&cn(T,f,2),ic(),_d(f,2)}if(f=Ed(o),f===null&&rd(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,s)}}function Ed(e){return e=bn(e),Td(e)}var vc=null;function Td(e){if(vc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function m_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case fo:return 2;case mo:return 8;case rs:case Rh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Ad=!1,xs=null,Ms=null,Vs=null,hl=new Map,fl=new Map,ks=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(e,n){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&f_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,s,o,h){switch(n){case"focusin":return xs=dl(xs,e,n,s,o,h),!0;case"dragenter":return Ms=dl(Ms,e,n,s,o,h),!0;case"mouseover":return Vs=dl(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,s,o,h)),!0}return!1}function p_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){d_(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,jn(e.priority,function(){d_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ro=o,s.target.dispatchEvent(o),Ro=null}else return n=Sn(s),n!==null&&f_(n),e.blockedOn=s,!1;n.shift()}return!0}function y_(e,n,s){Ec(e)&&s.delete(n)}function uA(){Ad=!1,xs!==null&&Ec(xs)&&(xs=null),Ms!==null&&Ec(Ms)&&(Ms=null),Vs!==null&&Ec(Vs)&&(Vs=null),hl.forEach(y_),fl.forEach(y_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uA)))}var Ac=null;function __(e){Ac!==e&&(Ac=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(e){function n(I){return Tc(I,e)}xs!==null&&Tc(xs,e),Ms!==null&&Tc(Ms,e),Vs!==null&&Tc(Vs,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<ks.length;s++){var o=ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)p_(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||__(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)T=g.formAction;else if(Td(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),__(s)}}}function v_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Sd(e){this._internalRoot=e}Sc.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=Tn();c_(s,o,e,n,null,null)},Sc.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;c_(e.current,2,null,e,null,null),ic(),n[si]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&p_(e)}};var E_=t.version;if(E_!=="19.2.3")throw Error(r(527,E_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=E(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Pn=bc.inject(cA),ze=bc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Ip,f=Cp,g=Np;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=l_(e,1,!1,null,null,s,o,null,h,f,g,v_),e[si]=n.current,sd(e),new Sd(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Ip,g=Cp,T=Np,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=l_(e,1,!0,n,s??null,o,h,I,f,g,T,v_),n.context=u_(null),s=n.current,o=Tn(),o=ur(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,or(n,s),Ei(n),e[si]=n.current,sd(e),new Sc(n)},gl.version="19.2.3",gl}var D_;function EA(){if(D_)return Rd.exports;D_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Rd.exports=vA(),Rd.exports}var TA=EA();const AA=()=>{};var O_={};const h0=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},SA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],y=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,y=d?a[l+1]:0,_=l+2<a.length,E=_?a[l+2]:0,S=c>>2,w=(c&3)<<4|y>>4;let U=(y&15)<<2|E>>6,K=E&63;_||(K=64,d||(U=64)),r.push(i[S],i[w],i[U],i[K])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(h0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):SA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],y=l<a.length?i[a.charAt(l)]:0;++l;const E=l<a.length?i[a.charAt(l)]:64;++l;const w=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||y==null||E==null||w==null)throw new bA;const U=c<<2|y>>4;if(r.push(U),E!==64){const K=y<<4&240|E>>2;if(r.push(K),w!==64){const et=E<<6&192|w;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(a){const t=h0(a);return f0.encodeByteArray(t,!0)},Bc=function(a){return wA(a).replace(/\./g,"")},d0=function(a){try{return f0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IA=()=>RA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof O_>"u")return;const a=O_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&d0(a[1]);return t&&JSON.parse(t)},oh=()=>{try{return AA()||IA()||CA()||NA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},m0=a=>oh()?.emulatorHosts?.[a],DA=a=>{const t=m0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},g0=()=>oh()?.config,p0=a=>oh()?.[`_${a}`];class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function no(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y0(a){return(await fetch(a,{credentials:"include"})).ok}function xA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Sl={};function MA(){const a={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?a.emulator.push(t):a.prod.push(t);return a}function VA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let x_=!1;function _0(a,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Sl[a]===t||Sl[a]||x_)return;Sl[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",c=MA().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,K){U.setAttribute("width","24"),U.setAttribute("id",K),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function E(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{x_=!0,d()},U}function S(U,K){U.setAttribute("id",K),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function w(){const U=VA(r),K=i("text"),et=document.getElementById(K)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),ut=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ft=U.element;y(ft),S($,it);const Ht=E();_(ut,mt),ft.append(ut,et,$,Ht),document.body.appendChild(ft)}c?(et.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function UA(){const a=oh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const a=$e();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function BA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const GA="FirebaseError";class is extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=GA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?FA(c,r):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new is(l,y,r)}}function FA(a,t){return a.replace(QA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function KA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Pr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(M_(c)&&M_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function M_(a){return a!==null&&typeof a=="object"}function jl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yl(a){const t={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function _l(a){const t=a.indexOf("?");if(!t)return"";const i=a.indexOf("#",t);return a.substring(t,i>0?i:void 0)}function YA(a,t){const i=new XA(a,t);return i.subscribe.bind(i)}class XA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Dd(){}function nn(a){return a&&a._delegate?a._delegate:a}class zr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vr="[DEFAULT]";class JA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new OA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WA(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$A(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(a){return a===Vr?void 0:a}function WA(a){return a.instantiationMode==="EAGER"}class tS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const eS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},nS=Dt.INFO,iS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},sS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=iS[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=nS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const rS=(a,t)=>t.some(i=>a instanceof i);let V_,k_;function aS(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,Gd=new WeakMap,E0=new WeakMap,Od=new WeakMap,pm=new WeakMap;function lS(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Hs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&v0.set(i,a)}).catch(()=>{}),pm.set(t,a),t}function uS(a){if(Gd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Gd.set(a,t)}let Fd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Gd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||E0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function cS(a){Fd=a(Fd)}function hS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(xd(this),t,...i);return E0.set(r,t.sort?t.sort():[t]),Hs(r)}:oS().includes(a)?function(...t){return a.apply(xd(this),t),Hs(v0.get(this))}:function(...t){return Hs(a.apply(xd(this),t))}}function fS(a){return typeof a=="function"?hS(a):(a instanceof IDBTransaction&&uS(a),rS(a,aS())?new Proxy(a,Fd):a)}function Hs(a){if(a instanceof IDBRequest)return lS(a);if(Od.has(a))return Od.get(a);const t=fS(a);return t!==a&&(Od.set(a,t),pm.set(t,a)),t}const xd=a=>pm.get(a);function dS(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),y=Hs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Hs(d.result),_.oldVersion,_.newVersion,Hs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Md=new Map;function U_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=gS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||mS.includes(i)))return;const c=async function(d,...y){const _=this.transaction(d,l?"readwrite":"readonly");let E=_.store;return r&&(E=E.index(y.shift())),(await Promise.all([E[i](...y),l&&_.done]))[0]};return Md.set(t,c),c}cS(a=>({...a,get:(t,i,r)=>U_(t,i)||a.get(t,i,r),has:(t,i)=>!!U_(t,i)||a.has(t,i)}));class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function yS(a){return a.getComponent()?.type==="VERSION"}const Qd="@firebase/app",L_="0.14.6";const Wi=new gm("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",bS="@firebase/auth-compat",wS="@firebase/database",RS="@firebase/data-connect",IS="@firebase/database-compat",CS="@firebase/functions",NS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",xS="@firebase/messaging",MS="@firebase/messaging-compat",VS="@firebase/performance",kS="@firebase/performance-compat",US="@firebase/remote-config",LS="@firebase/remote-config-compat",PS="@firebase/storage",zS="@firebase/storage-compat",jS="@firebase/firestore",BS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",GS="12.6.0";const Kd="[DEFAULT]",FS={[Qd]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[bS]:"fire-auth-compat",[wS]:"fire-rtdb",[RS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[CS]:"fire-fn",[NS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[xS]:"fire-fcm",[MS]:"fire-fcm-compat",[VS]:"fire-perf",[kS]:"fire-perf-compat",[US]:"fire-rc",[LS]:"fire-rc-compat",[PS]:"fire-gcs",[zS]:"fire-gcs-compat",[jS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};const qc=new Map,QS=new Map,Yd=new Map;function P_(a,t){try{a.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Xa(a){const t=a.name;if(Yd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,a);for(const i of qc.values())P_(i,a);for(const i of QS.values())P_(i,a);return!0}function ym(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function kn(a){return a==null?!1:a.settings!==void 0}const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new zl("app","Firebase",KS);class YS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const io=GS;function T0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Kd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(i||(i=g0()),!i)throw Gs.create("no-options");const c=qc.get(l);if(c){if(Pr(i,c.options)&&Pr(r,c.config))return c;throw Gs.create("duplicate-app",{appName:l})}const d=new tS(l);for(const _ of Yd.values())d.addComponent(_);const y=new YS(i,r,d);return qc.set(l,y),y}function A0(a=Kd){const t=qc.get(a);if(!t&&a===Kd&&g0())return T0();if(!t)throw Gs.create("no-app",{appName:a});return t}function Fs(a,t,i){let r=FS[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Xa(new zr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const XS="firebase-heartbeat-database",ZS=1,Nl="firebase-heartbeat-store";let Vd=null;function S0(){return Vd||(Vd=dS(XS,ZS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Gs.create("idb-open",{originalErrorMessage:a.message})})),Vd}async function JS(a){try{const i=(await S0()).transaction(Nl),r=await i.objectStore(Nl).get(b0(a));return await i.done,r}catch(t){if(t instanceof is)Wi.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function z_(a,t){try{const r=(await S0()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(t,b0(a)),await r.done}catch(i){if(i instanceof is)Wi.warn(i.message);else{const r=Gs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(r.message)}}}function b0(a){return`${a.name}!${a.options.appId}`}const $S=1024,WS=30;class tb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>WS){const l=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j_(),{heartbeatsToSend:i,unsentEntries:r}=eb(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function j_(){return new Date().toISOString().substring(0,10)}function eb(a,t=$S){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),B_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),B_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function B_(a){return Bc(JSON.stringify({version:2,heartbeats:a})).length}function ib(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function sb(a){Xa(new zr("platform-logger",t=>new pS(t),"PRIVATE")),Xa(new zr("heartbeat",t=>new tb(t),"PRIVATE")),Fs(Qd,L_,a),Fs(Qd,L_,"esm2020"),Fs("fire-js","")}sb("");var rb="firebase",ab="12.7.0";Fs(rb,ab,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,w0;(function(){var a;function t(N,b){function C(){}C.prototype=b.prototype,N.F=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,x,D){for(var R=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)R[Lt-2]=arguments[Lt];return b.prototype[x].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)V[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;x<16;++x)V[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],x=N.g[2];let D=N.g[3],R;R=b+(D^C&(x^D))+V[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=D+(x^b&(C^x))+V[1]+3905402710&4294967295,D=b+(R<<12&4294967295|R>>>20),R=x+(C^D&(b^C))+V[2]+606105819&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(b^x&(D^b))+V[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(D^C&(x^D))+V[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=D+(x^b&(C^x))+V[5]+1200080426&4294967295,D=b+(R<<12&4294967295|R>>>20),R=x+(C^D&(b^C))+V[6]+2821735955&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(b^x&(D^b))+V[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(D^C&(x^D))+V[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=D+(x^b&(C^x))+V[9]+2336552879&4294967295,D=b+(R<<12&4294967295|R>>>20),R=x+(C^D&(b^C))+V[10]+4294925233&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(b^x&(D^b))+V[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(D^C&(x^D))+V[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=D+(x^b&(C^x))+V[13]+4254626195&4294967295,D=b+(R<<12&4294967295|R>>>20),R=x+(C^D&(b^C))+V[14]+2792965006&4294967295,x=D+(R<<17&4294967295|R>>>15),R=C+(b^x&(D^b))+V[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(x^D&(C^x))+V[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(b^C))+V[6]+3225465664&4294967295,D=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(D^b))+V[11]+643717713&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^b&(x^D))+V[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^D&(C^x))+V[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(b^C))+V[10]+38016083&4294967295,D=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(D^b))+V[15]+3634488961&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^b&(x^D))+V[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^D&(C^x))+V[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(b^C))+V[14]+3275163606&4294967295,D=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(D^b))+V[3]+4107603335&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^b&(x^D))+V[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^D&(C^x))+V[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=D+(C^x&(b^C))+V[2]+4243563512&4294967295,D=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(D^b))+V[7]+1735328473&4294967295,x=D+(R<<14&4294967295|R>>>18),R=C+(D^b&(x^D))+V[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(C^x^D)+V[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=D+(b^C^x)+V[8]+2272392833&4294967295,D=b+(R<<11&4294967295|R>>>21),R=x+(D^b^C)+V[11]+1839030562&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^b)+V[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^D)+V[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=D+(b^C^x)+V[4]+1272893353&4294967295,D=b+(R<<11&4294967295|R>>>21),R=x+(D^b^C)+V[7]+4139469664&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^b)+V[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^D)+V[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=D+(b^C^x)+V[0]+3936430074&4294967295,D=b+(R<<11&4294967295|R>>>21),R=x+(D^b^C)+V[3]+3572445317&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^b)+V[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^D)+V[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=D+(b^C^x)+V[12]+3873151461&4294967295,D=b+(R<<11&4294967295|R>>>21),R=x+(D^b^C)+V[15]+530742520&4294967295,x=D+(R<<16&4294967295|R>>>16),R=C+(x^D^b)+V[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(x^(C|~D))+V[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=D+(C^(b|~x))+V[7]+1126891415&4294967295,D=b+(R<<10&4294967295|R>>>22),R=x+(b^(D|~C))+V[14]+2878612391&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~b))+V[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~D))+V[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=D+(C^(b|~x))+V[3]+2399980690&4294967295,D=b+(R<<10&4294967295|R>>>22),R=x+(b^(D|~C))+V[10]+4293915773&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~b))+V[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~D))+V[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=D+(C^(b|~x))+V[15]+4264355552&4294967295,D=b+(R<<10&4294967295|R>>>22),R=x+(b^(D|~C))+V[6]+2734768916&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~b))+V[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~D))+V[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=D+(C^(b|~x))+V[11]+3174756917&4294967295,D=b+(R<<10&4294967295|R>>>22),R=x+(b^(D|~C))+V[2]+718787259&4294967295,x=D+(R<<15&4294967295|R>>>17),R=C+(D^(x|~b))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+D&4294967295}r.prototype.v=function(N,b){b===void 0&&(b=N.length);const C=b-this.blockSize,V=this.C;let x=this.h,D=0;for(;D<b;){if(x==0)for(;D<=C;)l(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<b;)if(V[x++]=N.charCodeAt(D++),x==this.blockSize){l(this,V),x=0;break}}else for(;D<b;)if(V[x++]=N[D++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=b},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[b++]=this.g[C]>>>V&255;return N};function c(N,b){var C=y;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function d(N,b){this.h=b;const C=[];let V=!0;for(let x=N.length-1;x>=0;x--){const D=N[x]|0;V&&D==b||(C[x]=D,V=!1)}this.g=C}var y={};function _(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function E(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return $(E(-N));const b=[];let C=1;for(let V=0;N>=C;V++)b[V]=N/C|0,C*=4294967296;return new d(b,0)}function S(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return $(S(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=E(Math.pow(b,8));let V=w;for(let D=0;D<N.length;D+=8){var x=Math.min(8,N.length-D);const R=parseInt(N.substring(D,D+x),b);x<8?(x=E(Math.pow(b,x)),V=V.j(x).add(E(R))):(V=V.j(C),V=V.add(E(R)))}return V}var w=_(0),U=_(1),K=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-$(this).m();let N=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*b,b*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(it(this))return"-"+$(this).toString(N);const b=E(Math.pow(N,6));var C=this;let V="";for(;;){const x=Ht(C,b).g;C=mt(C,x.j(b));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=x,et(C))return D+V;for(;D.length<6;)D="0"+D;V=D+V}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function it(N){return N.h==-1}a.l=function(N){return N=mt(this,N),it(N)?-1:et(N)?0:1};function $(N){const b=N.g.length,C=[];for(let V=0;V<b;V++)C[V]=~N.g[V];return new d(C,~N.h).add(U)}a.abs=function(){return it(this)?$(this):this},a.add=function(N){const b=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let x=0;x<=b;x++){let D=V+(this.i(x)&65535)+(N.i(x)&65535),R=(D>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);V=R>>>16,D&=65535,R&=65535,C[x]=R<<16|D}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(N,b){return N.add($(b))}a.j=function(N){if(et(this)||et(N))return w;if(it(this))return it(N)?$(this).j($(N)):$($(this).j(N));if(it(N))return $(this.j($(N)));if(this.l(K)<0&&N.l(K)<0)return E(this.m()*N.m());const b=this.g.length+N.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<N.g.length;x++){const D=this.i(V)>>>16,R=this.i(V)&65535,Lt=N.i(x)>>>16,pe=N.i(x)&65535;C[2*V+2*x]+=R*pe,ut(C,2*V+2*x),C[2*V+2*x+1]+=D*pe,ut(C,2*V+2*x+1),C[2*V+2*x+1]+=R*Lt,ut(C,2*V+2*x+1),C[2*V+2*x+2]+=D*Lt,ut(C,2*V+2*x+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function ut(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ft(N,b){this.g=N,this.h=b}function Ht(N,b){if(et(b))throw Error("division by zero");if(et(N))return new ft(w,w);if(it(N))return b=Ht($(N),b),new ft($(b.g),$(b.h));if(it(b))return b=Ht(N,$(b)),new ft($(b.g),b.h);if(N.g.length>30){if(it(N)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var C=U,V=b;V.l(N)<=0;)C=Wt(C),V=Wt(V);var x=Mt(C,1),D=Mt(V,1);for(V=Mt(V,2),C=Mt(C,2);!et(V);){var R=D.add(V);R.l(N)<=0&&(x=x.add(C),D=R),V=Mt(V,1),C=Mt(C,1)}return b=mt(N,x.j(b)),new ft(x,b)}for(x=w;N.l(b)>=0;){for(C=Math.max(1,Math.floor(N.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),D=E(C),R=D.j(b);it(R)||R.l(N)>0;)C-=V,D=E(C),R=D.j(b);et(D)&&(D=U),x=x.add(D),N=mt(N,R)}return new ft(x,N)}a.B=function(N){return Ht(this,N).h},a.and=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},a.or=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},a.xor=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Wt(N){const b=N.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Mt(N,b){const C=b>>5;b%=32;const V=N.g.length-C,x=[];for(let D=0;D<V;D++)x[D]=b>0?N.i(D+C)>>>b|N.i(D+C+1)<<32-b:N.i(D+C);return new d(x,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,w0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=S,Qs=d}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var R0,vl,I0,Oc,Xd,C0,N0,D0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break t;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){return E=_,E.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[P].apply(A,W)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function et(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=P[W]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const A=ft.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new it(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Mt=!1,N=new ut,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){$(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Lt(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Lt,x),Lt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Lt.Z.h.call(this)},Lt.prototype.h=function(){Lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=bt(u,m,A,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,q,!!A,P),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,A,P);return null}return v=ho(v),u&&u[pe]?u.J(m,v,y(A)?!!A.capture:!1,P):ir(u,m,v,!1,A,P)}function ir(u,m,v,A,P,q){if(!m)throw Error("Invalid event type");const W=y(P)?!!P.capture:!!P;let At=sr(u);if(At||(u[kt]=At=new rt(u)),v=At.add(m,v,A,W,q),v.proxy)return v;if(A=Yr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)D||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=uo;return u}function Xr(u,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xr(u,m[q],v,A,P);else A=y(A)?!!A.capture:!!A,v=ho(v),u&&u[pe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,A,P),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,A,P)),(v=u>-1?m[u]:null)&&Zr(v))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])_t(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Wn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=sr(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):ct(u)}}}function Wn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new Lt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Zr(u),u=v.call(A,m)}return u}function sr(u){return u=u[kt],u instanceof rt?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function ye(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}w(ye,V),ye.prototype[pe]=!0,ye.prototype.removeEventListener=function(u,m,v,A){Xr(this,u,m,v,A)};function Ne(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(A,u),nt(m,P)}P=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],P=ss(q,A,!0,m)&&P;if(q=m.g=u,P=ss(q,A,!0,m)&&P,P=ss(q,A,!1,m)&&P,v)for(W=0;W<v.length;W++)q=m.g=v[W],P=ss(q,A,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ct(v[A]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ye.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ss(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const At=W.listener,fe=W.ha||W.src;W.fa&&_t(u.i,W),P=At.call(fe,A)!==!1&&P}}return P&&!A.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){V.call(this),this.h=u,this.g={}}w(rr,V);var fo=[];function mo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zr(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),mo(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Rh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function Wl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){x.call(this,"d")}w(ze,x);function An(){x.call(this,"c")}w(An,x);var he={},tu=null;function Jr(){return tu=tu||new ye}he.Ia="serverreachability";function eu(u){x.call(this,he.Ia,u)}w(eu,x);function ti(u){const m=Jr();Ne(m,new eu(m))}he.STAT_EVENT="statevent";function ar(u,m){x.call(this,he.STAT_EVENT,u),this.stat=m}w(ar,x);function _e(u){const m=Jr();Ne(m,new ar(m,u))}he.Ja="timingevent";function ei(u,m){x.call(this,he.Ja,u),this.size=m}w(ei,x);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,A,P,q){u.info(function(){if(u.g)if(q){var W="",At=q.split("&");for(let Bt=0;Bt<At.length;Bt++){var fe=At[Bt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Rn=ae.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(ae+"="+fe+"&"):W+(ae+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function nu(u,m,v,A,P,q,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+W})}function ii(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,v)+(A?" "+A:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return rs(q)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function ur(){}w(ur,$l),ur.prototype.g=function(){return new XMLHttpRequest},po=new ur;function Oi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function si(u,m,v){u.M=1,u.A=cr(Te(m)),u.u=v,u.R=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),ri(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),na(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Bn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(E(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(fo[0]=P.toString()),P=fo);for(let q=0;q<P.length;q++){const W=re(v,P[q],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||fe==7||(fe==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Nh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(u=q)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ru(this,v),ae==Me){At==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Oo(W),W.P=!0,_e(11))}}else ii(this.i,this.l,v,null),oi(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?mu(this.j,this):(this.o=!1,ri(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),Sn(this)}}}catch{}};function Nh(u){if(!su(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const A=m.length,P=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Me:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Me:(m=m.slice(A,A+v),u.C=A+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(E(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),_e(17)),dn(this),this.m=2,Sn(this)):Wr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||mu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ds(v);else break t;yr(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(E(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&oa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Bt=P[m];const ae=Bt[0];if(!(ae<=v.K))if(v.K=ae,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Rn=Bt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const pi=Bt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(A=1.5*Fn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=u.g;if(Qn){const _r=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var q=A.h;q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vo(q,q.h),q.h=null))}if(A.G){const la=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(A.wa=la,Qt(A.J,A.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var W=u;if(A.na=yu(A,A.L?A.ba:null,A.W),W.L){Eo(A.h,W);var At=W,fe=A.O;fe&&(At.H=fe),At.D&&(ai(At),ri(At)),A.g=W}else fu(A);v.i.length>0&&mi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(v,7):No(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,q=null;A>=0?(P=u[v].substring(0,A),q=u[v].substring(A+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,Ao(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),as(this,m[4]),this.h=ci(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,ea,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?So:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,lu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ve(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)as(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let W=0;W<P.length;){const At=P[W++];At=="."?A&&W==P.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&W==P.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Ao(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function Ve(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,v){m instanceof ls?(u.i=m,ia(u.i,u.l)):(v||(m=hr(m,os)),u.i=new ls(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function cr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,ou=/[#\?:]/g,So=/[#\?]/g,os=/[#\?@]/g,lu=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=ls.prototype,a.add=function(u,m){rn(this),this.i=null,u=us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){rn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return rn(u),m=us(u,m),u.g.has(m)}a.forEach=function(u,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function wo(u,m){rn(u);let v=[];if(typeof m=="string")bo(u,m)&&(v=v.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return rn(this),this.i=null,u=us(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(us(u,m),K(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Oi(v);v=wo(this,v);for(let q=0;q<v.length;q++){let W=P;v[q]!==""&&(W+="="+Oi(v[q])),u.push(W)}}return this.i=u.join("&")};function cu(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(uu(this,A),na(this,P,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const A=new Image;A.onload=S(bn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=S(bn,v,"TestLoadImage: error",!1,m,A),A.onabort=S(bn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(bn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ro(u,m){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function cs(){this.g=new Jl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,$l),hi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fr,ye),a=fr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Hn(this),this.readyState==3&&sa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},a.Na=function(u){this.g&&(this.response=u,hs(this))},a.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Pt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function dr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=wn(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,ye);var fi=/^https?$/i,Io=["POST","PUT"];a=Xt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=U(E(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){mr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){mr(this,q)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),xi(u)}function Co(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),xi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},a.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let W=String(u.D).match(au)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!fi.test(W?W.toLowerCase():"")}v=A}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var P=Gn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Co(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=iu(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ft(m,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=fs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,A){_e(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=yu(this,null,this.W),mi(this)};function No(u){if(ra(u),u.I==3){var m=u.V++,v=Te(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),pr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=cr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}pu(u)}function ds(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function ra(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Mt||(Wt(),Mt=!0),N.add(m,u),u.D=0}}function aa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(E(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,P,m),v=Te(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),pr(this,v),q&&(this.R?m="headers="+Oi(wn(q))+"&"+m:this.u&&dr(v,this.u,q)),vo(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||_o(this.h)||Do(this))};function Do(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Qt(A,"SID",u.M),Qt(A,"RID",v),Qt(A,"AID",u.K),pr(u,A),u.u&&u.o&&dr(A,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,v),si(v,A,m)}function pr(u,m){u.H&&Pt(u.H,function(v,A){Qt(m,A,v)}),u.l&&Pt({},function(v,A){Qt(m,A,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?E(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=P[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let Bt=!0;for(let ae=0;ae<v;ae++){var q=P[ae].g;const Rn=P[ae].map;if(q-=At,q<0)At=Math.max(0,P[ae].g-100),Bt=!1;else try{q="req"+q+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[pi,Fn]of W){let Qn=Fn;y(Fn)&&(Qn=rs(Fn)),fe.push(q+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),pi}}catch{A&&A(Rn)}}if(Bt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Mt||(Wt(),Mt=!0),N.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(E(u.Da,u),gu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(E(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ds(this),du(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),pr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=cr(Te(m)),v.u=null,v.R=!0,$r(v,u)}a.Va=function(){this.C!=null&&(this.C=null,ds(this),yr(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){oa(u),Oo(u),u.g=null;var A=2}else if(ui(u.h,m))v=m.G,Eo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=Jr(),Ne(A,new ei(A,v)),mi(u)}else fu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&aa(u,m)||A==2&&yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=E(u.bb,u),A=u.Ua;const P=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(A,"https"),cr(A),P?qn(A.toString(),v):Ro(A.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),pu(u),ra(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),as(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new mn(null);A&&Ve(q,A),m&&(q.g=m),P&&as(q,P),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",u.ka),pr(u,A),A}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new hi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}a=vu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rs(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.Z.N.call(this)};function Eu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Eu,ze);function Tu(){An.call(this),this.status=1}w(Tu,An);function Vi(u){this.g=u}w(Vi,vu),Vi.prototype.ra=function(){Ne(this.g,"a")},Vi.prototype.qa=function(u){Ne(this.g,new Eu(u))},Vi.prototype.pa=function(u){Ne(this.g,new Tu)},Vi.prototype.oa=function(){Ne(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,D0=function(){return new ms},N0=function(){return Jr()},C0=he,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Oc=lr,go.COMPLETE="complete",I0=go,Wl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,vl=Wl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,R0=Xt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",G_="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let so="12.7.0";const jr=new gm("@firebase/firestore");function Pa(){return jr.logLevel}function st(a,...t){if(jr.logLevel<=Dt.DEBUG){const i=t.map(_m);jr.debug(`Firestore (${so}): ${a}`,...i)}}function ts(a,...t){if(jr.logLevel<=Dt.ERROR){const i=t.map(_m);jr.error(`Firestore (${so}): ${a}`,...i)}}function Za(a,...t){if(jr.logLevel<=Dt.WARN){const i=t.map(_m);jr.warn(`Firestore (${so}): ${a}`,...i)}}function _m(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function yt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,O0(a,r,i)}function O0(a,t,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ts(r),new Error(r)}function Gt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||O0(t,l,r)}function Tt(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class x0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ob{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class lb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ub{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},y=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new x0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class cb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new cb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new F_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function db(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=db(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ot(a,t){return a<t?-1:a>t?1:0}function Zd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return kd(l)===kd(c)?Ot(l,c):kd(l)?1:-1}return Ot(a.length,t.length)}const mb=55296,gb=57343;function kd(a){const t=a.charCodeAt(0);return t>=mb&&t<=gb}function Ja(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const Q_="__name__";class Ti{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const r=Ti.isNumericId(t),l=Ti.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ie extends Ti{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const pb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return pb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Qe([Q_])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(r+=y,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ie.fromString(t))}static fromName(t){return new dt(ie.fromString(t).popFirst(5))}static empty(){return new dt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ie(t.slice()))}}function M0(a,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function yb(a,t,i,r){if(t===!0&&r===!0)throw new lt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function K_(a){if(!dt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Y_(a){if(dt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function V0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Em(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":yt(12329,{type:typeof a})}function Ha(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(a);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Ie(a,t){const i={typeString:a};return t&&(i.value=t),i}function Bl(a,t){if(!V0(a))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,Z_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Z_);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<X_)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function _b(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Ys(l,dt.empty(),t)}function vb(a){return new Ys(a.readTime,a.key,Dl)}class Ys{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ys(vt.min(),dt.empty(),Dl)}static max(){return new Ys(vt.max(),dt.empty(),Dl)}}function Eb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,t.documentKey),i!==0?i:Ot(a.largestBatchId,t.largestBatchId))}const Tb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ab{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==Tb)throw a;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let y=0;for(let _=0;_<c;_++){const E=_;i(t[E]).next((S=>{d[E]=S,++y,y===c&&r(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function Sb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(a){return a.name==="IndexedDbTransactionError"}class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;const Tm=-1;function uh(a){return a==null}function Hc(a){return a===0&&1/a==-1/0}function bb(a){return typeof a=="number"&&Number.isInteger(a)&&!Hc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const k0="";function wb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=J_(t)),t=Rb(a.get(i),t);return J_(t)}function Rb(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case k0:i+="";break;default:i+=c}}return i}function J_(a){return a+k0+""}function $_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Hr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function U0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Fe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Zn([])}unionWith(t){let i=new xe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class L0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new L0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Ib=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if(Gt(!!a,39018),typeof a=="string"){let t=0;const i=Ib.exec(a);if(Gt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Zs(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}const P0="server_timestamp",z0="__type__",j0="__previous_value__",B0="__local_write_time__";function Am(a){return(a?.mapValue?.fields||{})[z0]?.stringValue===P0}function ch(a){const t=a.mapValue.fields[j0];return Am(t)?ch(t):t}function Ol(a){const t=Xs(a.mapValue.fields[B0].timestampValue);return new se(t.seconds,t.nanos)}class Cb{constructor(t,i,r,l,c,d,y,_,E,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=S}}const Gc="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}const q0="__type__",Nb="__max__",Ic={mapValue:{}},H0="__vector__",Fc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Am(a)?4:Ob(a)?9007199254740991:Db(a)?10:11:yt(28295,{value:a})}function Ni(a,t){if(a===t)return!0;const i=Js(a);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ol(a).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xs(l.timestampValue),y=Xs(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),y=ge(c.doubleValue);return d===y?Hc(d)===Hc(y):isNaN(d)&&isNaN(y)}return!1})(a,t);case 9:return Ja(a.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if($_(d)!==$_(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Ni(d[_],y[_])))return!1;return!0})(a,t);default:return yt(52216,{left:a})}}function Ml(a,t){return(a.values||[]).find((i=>Ni(i,t)))!==void 0}function $a(a,t){if(a===t)return 0;const i=Js(a),r=Js(t);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(a,t);case 3:return tv(a.timestampValue,t.timestampValue);case 4:return tv(Ol(a),Ol(t));case 5:return Zd(a.stringValue,t.stringValue);case 6:return(function(c,d){const y=Zs(c),_=Zs(d);return y.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),_=d.split("/");for(let E=0;E<y.length&&E<_.length;E++){const S=Ot(y[E],_[E]);if(S!==0)return S}return Ot(y.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=Ot(ge(c.latitude),ge(d.latitude));return y!==0?y:Ot(ge(c.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return ev(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},_=d.fields||{},E=y[Fc]?.arrayValue,S=_[Fc]?.arrayValue,w=Ot(E?.values?.length||0,S?.values?.length||0);return w!==0?w:ev(E,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const y=c.fields||{},_=Object.keys(y),E=d.fields||{},S=Object.keys(E);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const U=Zd(_[w],S[w]);if(U!==0)return U;const K=$a(y[_[w]],E[S[w]]);if(K!==0)return K}return Ot(_.length,S.length)})(a.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function tv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ot(a,t);const i=Xs(a),r=Xs(t),l=Ot(i.seconds,r.seconds);return l!==0?l:Ot(i.nanos,r.nanos)}function ev(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=$a(i[l],r[l]);if(c)return c}return Ot(i.length,r.length)}function Wa(a){return Jd(a)}function Jd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Xs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Zs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return dt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Jd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(a.mapValue):yt(61005,{value:a})}function xc(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(a);return t?16+xc(t):16;case 5:return 2*a.stringValue.length;case 6:return Zs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+xc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Hr(r.fields,((c,d)=>{l+=c.length+xc(d)})),l})(a.mapValue);default:throw yt(13486,{value:a})}}function $d(a){return!!a&&"integerValue"in a}function Sm(a){return!!a&&"arrayValue"in a}function nv(a){return!!a&&"nullValue"in a}function iv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mc(a){return!!a&&"mapValue"in a}function Db(a){return(a?.mapValue?.fields||{})[q0]?.stringValue===H0}function bl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Hr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=bl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(a.arrayValue.values[i]);return t}return{...a}}function Ob(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Nb}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=y.popLast()}d?r[y.lastSegment()]=bl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Hr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Un(bl(this.value))}}function G0(a){const t=[];return Hr(a.fields,((i,r)=>{const l=new Qe([i]);if(Mc(r)){const c=G0(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Zn(t)}class Je{constructor(t,i,r,l,c,d,y){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),Un.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,vt.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function sv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=$a(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function rv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ni(a.position[i],t.position[i]))return!1;return!0}class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function xb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class F0{}class Oe extends F0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Vb(t,i,r):i==="array-contains"?new Lb(t,r):i==="in"?new Pb(t,r):i==="not-in"?new zb(t,r):i==="array-contains-any"?new jb(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new kb(t,r):new Ub(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends F0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return Q0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q0(a){return a.op==="and"}function K0(a){return Mb(a)&&Q0(a)}function Mb(a){for(const t of a.filters)if(t instanceof Di)return!1;return!0}function Wd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Wa(a.value);if(K0(a))return a.filters.map((t=>Wd(t))).join(",");{const t=a.filters.map((i=>Wd(i))).join(",");return`${a.op}(${t})`}}function Y0(a,t){return a instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Ni(r.value,l.value)})(a,t):a instanceof Di?(function(r,l){return l instanceof Di&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,y)=>c&&Y0(d,l.filters[y])),!0):!1})(a,t):void yt(19439)}function X0(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(a):a instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(X0).join(" ,")+"}"})(a):"Filter"}class Vb extends Oe{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class kb extends Oe{constructor(t,i){super(t,"in",i),this.keys=Z0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Ub extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=Z0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Z0(a,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Lb extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sm(i)&&Ml(i.arrayValue,this.value)}}class Pb extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class zb extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class jb extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ml(this.value.arrayValue,r)))}}class Bb{constructor(t,i=null,r=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function av(a,t=null,i=[],r=[],l=null,c=null,d=null){return new Bb(a,t,i,r,l,c,d)}function bm(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Wd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Wa(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Wa(r))).join(",")),t.Te=i}return t.Te}function wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!xb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Y0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!rv(a.startAt,t.startAt)&&rv(a.endAt,t.endAt)}function tm(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class hh{constructor(t,i=null,r=[],l=[],c=null,d="F",y=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qb(a,t,i,r,l,c,d,y){return new hh(a,t,i,r,l,c,d,y)}function Rm(a){return new hh(a)}function ov(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Hb(a){return a.collectionGroup!==null}function wl(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xe(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Kc(Qe.keyField(),r))}return t.Ie}function Ai(a){const t=Tt(a);return t.Ee||(t.Ee=Gb(t,wl(a))),t.Ee}function Gb(a,t){if(a.limitType==="F")return av(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Kc(l.field,c)}));const i=a.endAt?new Qc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Qc(a.startAt.position,a.startAt.inclusive):null;return av(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function em(a,t,i){return new hh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function fh(a,t){return wm(Ai(a),Ai(t))&&a.limitType===t.limitType}function J0(a){return`${bm(Ai(a))}|lt:${a.limitType}`}function za(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>X0(l))).join(", ")}]`),uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${r})`})(Ai(a))}; limitType=${a.limitType})`}function dh(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of wl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,y,_){const E=sv(d,y,_);return d.inclusive?E<=0:E<0})(r.startAt,wl(r),l)||r.endAt&&!(function(d,y,_){const E=sv(d,y,_);return d.inclusive?E>=0:E>0})(r.endAt,wl(r),l))})(a,t)}function Fb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function $0(a){return(t,i)=>{let r=!1;for(const l of wl(a)){const c=Qb(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Qb(a,t,i){const r=a.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,y){const _=d.data.field(c),E=y.data.field(c);return _!==null&&E!==null?$a(_,E):yt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:a.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}const Kb=new le(dt.comparator);function es(){return Kb}const W0=new le(dt.comparator);function El(...a){let t=W0;for(const i of a)t=t.insert(i.key,i);return t}function tE(a){let t=W0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function kr(){return Rl()}function eE(){return Rl()}function Rl(){return new Gr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Yb=new le(dt.comparator),Xb=new xe(dt.comparator);function xt(...a){let t=Xb;for(const i of a)t=t.add(i);return t}const Zb=new xe(Ot);function Jb(){return Zb}function Im(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function nE(a){return{integerValue:""+a}}function $b(a,t){return bb(t)?nE(t):Im(a,t)}class mh{constructor(){this._=void 0}}function Wb(a,t,i){return a instanceof Yc?(function(l,c){const d={fields:{[z0]:{stringValue:P0},[B0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Am(c)&&(c=ch(c)),c&&(d.fields[j0]=c),{mapValue:d}})(i,t):a instanceof Vl?sE(a,t):a instanceof kl?rE(a,t):(function(l,c){const d=iE(l,c),y=lv(d)+lv(l.Ae);return $d(d)&&$d(l.Ae)?nE(y):Im(l.serializer,y)})(a,t)}function tw(a,t,i){return a instanceof Vl?sE(a,t):a instanceof kl?rE(a,t):i}function iE(a,t){return a instanceof Xc?(function(r){return $d(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Yc extends mh{}class Vl extends mh{constructor(t){super(),this.elements=t}}function sE(a,t){const i=aE(t);for(const r of a.elements)i.some((l=>Ni(l,r)))||i.push(r);return{arrayValue:{values:i}}}class kl extends mh{constructor(t){super(),this.elements=t}}function rE(a,t){let i=aE(t);for(const r of a.elements)i=i.filter((l=>!Ni(l,r)));return{arrayValue:{values:i}}}class Xc extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function lv(a){return ge(a.integerValue||a.doubleValue)}function aE(a){return Sm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function ew(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Vl&&l instanceof Vl||r instanceof kl&&l instanceof kl?Ja(r.elements,l.elements,Ni):r instanceof Xc&&l instanceof Xc?Ni(r.Ae,l.Ae):r instanceof Yc&&l instanceof Yc})(a.transform,t.transform)}class nw{constructor(t,i){this.version=t,this.transformResults=i}}class Si{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class gh{}function oE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Cm(a.key,Si.none()):new ql(a.key,a.data,Si.none());{const i=a.data,r=Un.empty();let l=new xe(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Fr(a.key,r,new Zn(l.toArray()),Si.none())}}function iw(a,t,i){a instanceof ql?(function(l,c,d){const y=l.value.clone(),_=cv(l.fieldTransforms,c,d.transformResults);y.setAll(_),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):a instanceof Fr?(function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=cv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(lE(l)),_.setAll(y),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(a,t,i,r){return a instanceof ql?(function(c,d,y,_){if(!Vc(c.precondition,d))return y;const E=c.value.clone(),S=hv(c.fieldTransforms,_,d);return E.setAll(S),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(a,t,i,r):a instanceof Fr?(function(c,d,y,_){if(!Vc(c.precondition,d))return y;const E=hv(c.fieldTransforms,_,d),S=d.data;return S.setAll(lE(c)),S.setAll(E),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(a,t,i,r):(function(c,d,y){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,t,i)}function sw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=iE(r.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(r.field,c))}return i||null}function uv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ja(r,l,((c,d)=>ew(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class ql extends gh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Fr extends gh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function cv(a,t,i){const r=new Map;Gt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,y=t.data.field(c.field);r.set(c.field,tw(d,y,i[l]))}return r}function hv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Wb(c,d,t))}return r}class Cm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rw extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&iw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=eE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const _=oE(d,y);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,r)=>uv(i,r)))&&Ja(this.baseMutations,t.baseMutations,((i,r)=>uv(i,r)))}}class Nm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Yb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Nm(t,i,r,l)}}class ow{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Ut;function uw(a){switch(a){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:a})}}function uE(a){if(a===void 0)return ts("GRPC error has no .code"),J.UNKNOWN;switch(a){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:a})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function cw(){return new TextEncoder}const hw=new Qs([4294967295,4294967295],0);function fv(a){const t=cw().encode(a),i=new w0;return i.update(t),new Uint8Array(i.digest())}function dv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,r],0),new Qs([l,c],0)]}class Dm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Qs.fromNumber(r)));return l.compare(hw)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=fv(t),[r,l]=dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return r.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=fv(t),[r,l]=dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ph(vt.min(),l,new le(Ot),es(),xt())}}class Hl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Hl(r,i,xt(),xt(),xt())}}class kc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class cE{constructor(t,i){this.targetId=t,this.Ce=i}}class hE{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class mv{constructor(){this.ve=0,this.Fe=gv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),r=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=gv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fw{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Cc(),this.He=Cc(),this.Ye=new le(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(tm(c))if(r===0){const d=new dt(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(t),_=y?this.ct(y,t,d):1;if(_!==0){this.it(i);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Zs(r).toUint8Array()}catch(_){if(_ instanceof L0)return Za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Dm(d,l,c)}catch(_){return Za(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&tm(y.target)){const _=new dt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=xt();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((_=>{const E=this.ot(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ye,this.je,r);return this.je=es(),this.Je=Cc(),this.He=Cc(),this.Ye=new le(Ot),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new mv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new le(dt.comparator)}function gv(){return new le(dt.comparator)}const dw={asc:"ASCENDING",desc:"DESCENDING"},mw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gw={and:"AND",or:"OR"};class pw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function nm(a,t){return a.useProto3Json||uh(t)?t:{value:t}}function Zc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function yw(a,t){return Zc(a,t.toTimestamp())}function bi(a){return Gt(!!a,49232),vt.fromTimestamp((function(i){const r=Xs(i);return new se(r.seconds,r.nanos)})(a))}function Om(a,t){return im(a,t).canonicalString()}function im(a,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function dE(a){const t=ie.fromString(a);return Gt(_E(t),10190,{key:t.toString()}),t}function sm(a,t){return Om(a.databaseId,t.path)}function Ud(a,t){const i=dE(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(gE(i))}function mE(a,t){return Om(a.databaseId,t)}function _w(a){const t=dE(a);return t.length===4?ie.emptyPath():gE(t)}function rm(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function gE(a){return Gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function pv(a,t,i){return{name:sm(a,t),fields:i.value.mapValue.fields}}function vw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:yt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(E,S){return E.useProto3Json?(Gt(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(E){const S=E.code===void 0?J.UNKNOWN:uE(E.code);return new lt(S,E.message||"")})(d);i=new hE(r,l,c,y||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ud(a,r.document.name),c=bi(r.document.updateTime),d=r.document.createTime?bi(r.document.createTime):vt.min(),y=new Un({mapValue:{fields:r.document.fields}}),_=Je.newFoundDocument(l,c,d,y),E=r.targetIds||[],S=r.removedTargetIds||[];i=new kc(E,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Ud(a,r.document),c=r.readTime?bi(r.readTime):vt.min(),d=Je.newNoDocument(l,c),y=r.removedTargetIds||[];i=new kc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Ud(a,r.document),c=r.removedTargetIds||[];i=new kc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new lw(l,c),y=r.targetId;i=new cE(y,d)}}return i}function Ew(a,t){let i;if(t instanceof ql)i={update:pv(a,t.key,t.value)};else if(t instanceof Cm)i={delete:sm(a,t.key)};else if(t instanceof Fr)i={update:pv(a,t.key,t.data),updateMask:Nw(t.fieldMask)};else{if(!(t instanceof rw))return yt(16599,{Vt:t.type});i={verify:sm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:yw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(a,t.precondition)),i}function Tw(a,t){return a&&a.length>0?(Gt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(vt.min())&&(d=bi(c)),new nw(d,l.transformResults||[])})(i,t)))):[]}function Aw(a,t){return{documents:[mE(a,t.path)]}}function Sw(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=mE(a,l);const c=(function(E){if(E.length!==0)return yE(Di.create(E,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(E){if(E.length!==0)return E.map((S=>(function(U){return{field:ja(U.field),direction:Rw(U.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=nm(a,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:i,parent:l}}function bw(a){let t=_w(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const U=pE(w);return U instanceof Di&&K0(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((U=>(function(et){return new Kc(Ba(et.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(U)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let U;return U=typeof w=="object"?w.value:w,uh(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(w){const U=!!w.before,K=w.values||[];return new Qc(K,U)})(i.startAt));let E=null;return i.endAt&&(E=(function(w){const U=!w.before,K=w.values||[];return new Qc(K,U)})(i.endAt)),qb(t,l,d,c,y,"F",_,E)}function ww(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function pE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((r=>pE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(a):yt(30097,{filter:a})}function Rw(a){return dw[a]}function Iw(a){return mw[a]}function Cw(a){return gw[a]}function ja(a){return{fieldPath:a.canonicalString()}}function Ba(a){return Qe.fromServerFormat(a.fieldPath)}function yE(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(iv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(nv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(iv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(nv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:Iw(i.op),value:i.value}}})(a):a instanceof Di?(function(i){const r=i.getFilters().map((l=>yE(l)));return r.length===1?r[0]:{compositeFilter:{op:Cw(i.op),filters:r}}})(a):yt(54877,{filter:a})}function Nw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function _E(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class qs{constructor(t,i,r,l,c=vt.min(),d=vt.min(),y=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Dw{constructor(t){this.yt=t}}function Ow(a){const t=bw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?em(t,t.limit,"L"):t}class xw{constructor(){this.Cn=new Mw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Ys.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class Mw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new xe(ie.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ie.comparator)).toArray()}}const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(vE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const _v="LruGarbageCollector",Vw=1048576;function vv([a,t],[i,r]){const l=Ot(a,i);return l===0?Ot(t,r):l}class kw{constructor(t){this.Ir=t,this.buffer=new xe(vv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();vv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Uw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(_v,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?st(_v,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class Lw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(lh.ce);const r=new kw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,y,_,E;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(r=w,y=Date.now(),this.removeTargets(t,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(E=Date.now(),Pa()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(_-y)+`ms
	Removed ${w} documents in `+(E-_)+`ms
Total Duration: ${E-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function Pw(a,t){return new Lw(a,t)}class zw{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Bw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Il(r.mutation,l,Zn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=xt()){const l=kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=El();return c.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=kr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,xt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,r,l){let c=es();const d=Rl(),y=(function(){return Rl()})();return i.forEach(((_,E)=>{const S=r.get(E.key);l.has(E.key)&&(S===void 0||S.mutation instanceof Fr)?c=c.insert(E.key,E):S!==void 0?(d.set(E.key,S.mutation.getFieldMask()),Il(S.mutation,E,S.mutation.getFieldMask(),se.now())):d.set(E.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((E,S)=>d.set(E,S))),i.forEach(((E,S)=>y.set(E,new jw(S,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(t,i){const r=Rl();let l=new le(((d,y)=>d-y)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const E=i.get(_);if(E===null)return;let S=r.get(_)||Zn.empty();S=y.applyToLocalView(E,S),r.set(_,S);const w=(l.get(y.batchId)||xt()).add(_);l=l.insert(y.batchId,w)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),E=_.key,S=_.value,w=eE();S.forEach((U=>{if(!c.has(U)){const K=oE(i.get(U),r.get(U));K!==null&&w.set(U,K),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,E,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Hb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(kr());let y=Dl,_=c;return d.next((E=>Z.forEach(E,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((U=>{_=_.insert(S,U)}))))).next((()=>this.populateOverlays(t,E,c))).next((()=>this.computeViews(t,_,E,xt()))).next((S=>({batchId:y,changes:tE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((y=>Z.forEach(y,(_=>{const E=(function(w,U){return new hh(U,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,r,l).next((S=>{S.forEach(((w,U)=>{d=d.insert(w,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,E)=>{const S=E.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let y=El();return d.forEach(((_,E)=>{const S=c.get(_);S!==void 0&&Il(S.mutation,E,Zn.empty(),se.now()),dh(i,E)&&(y=y.insert(_,E))})),y}))}}class qw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Ow(l.bundledQuery),readTime:bi(l.readTime)}})(i)),Z.resolve()}}class Hw{constructor(){this.overlays=new le(dt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=kr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=kr(),c=i.length+1,d=new dt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,E=_.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new le(((E,S)=>E-S));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>r){let S=c.get(E.largestBatchId);S===null&&(S=kr(),c=c.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const y=kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((E,S)=>y.set(E,S))),!(y.size()>=l)););return Z.resolve(y)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ow(i,r));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Gw{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class xm{constructor(){this.Qr=new xe(Le.$r),this.Ur=new xe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new ie([])),r=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ie([])),r=new Le(i,t),l=new Le(i,t+1);let c=xt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class Fw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Le.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aw(c,i,r,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Le(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(Ot);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let y=new xe(Ot);return this.Zr.forEachWhile((_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===l&&(y=y.add(_.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Le(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Qw{constructor(t){this.ri=t,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=es();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=es();const d=i.path,y=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:E,value:{document:S}}=_.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||Eb(vb(S),r)<=0||(l.has(S.key)||dh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Kw(this)}getSize(t){return Z.resolve(this.size)}}class Kw extends zw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Yw{constructor(t){this.persistence=t,this.si=new Gr((i=>bm(i)),wm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class EE{constructor(t,i){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new Gw,this.referenceDelegate=t(this),this.Pi=new Yw(this),this.indexManager=new xw,this.remoteDocumentCache=(function(l){return new Qw(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Dw(i),this.Ii=new qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Hw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Fw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){st("MemoryPersistence","Starting transaction:",t);const l=new Xw(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Xw extends Ab{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new xm,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.pi=new Gr((r=>wb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Pw(this,i)}static mi(t,i){return new Jc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(r++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=xc(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,r,l)}}class Zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Jw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BA()?8:Sb($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Zw;return this.Ss(t,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Pa()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Pa()<=Dt.DEBUG&&st("QueryEngine","Query:",za(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Pa()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):Z.resolve())}ys(t,i){if(ov(i))return Z.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=em(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,r).next((_=>{const E=this.Ds(i,y);return this.Cs(i,E,d,_.readTime)?this.ys(t,em(i,null,"F")):this.vs(t,E,i,_)}))))})))))}ws(t,i,r,l){return ov(i)||l.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(Pa()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,_b(l,Dl)).next((y=>y)))}))}Ds(t,i){let r=new xe($0(t));return i.forEach(((l,c)=>{dh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Pa()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ys.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const km="LocalStore",$w=3e8;class Ww{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Ot),this.xs=new Gr((c=>bm(c)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function tR(a,t,i,r){return new Ww(a,t,i,r)}async function TE(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let _=xt();for(const E of l){d.push(E.batchId);for(const S of E.mutations)_=_.add(S.key)}for(const E of c){y.push(E.batchId);for(const S of E.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function eR(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,E,S){const w=E.batch,U=w.keys();let K=Z.resolve();return U.forEach((et=>{K=K.next((()=>S.getEntry(_,et))).next((it=>{const $=E.docVersions.get(et);Gt($!==null,48541),it.version.compareTo($)<0&&(w.applyToRemoteDocument(it,E),it.isValidDocument()&&(it.setReadTime(E.commitVersion),S.addEntry(it)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(_,w)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let _=xt();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(_=_.add(y.batch.mutations[E].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function AE(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function nR(a,t){const i=Tt(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];t.targetChanges.forEach(((S,w)=>{const U=l.get(w);if(!U)return;y.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let K=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?K=K.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,r)),l=l.insert(w,K),(function(it,$,mt){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=$w?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(U,K,S)&&y.push(i.Pi.updateTargetData(c,K))}));let _=es(),E=xt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(iR(c,d,t.documentUpdates).next((S=>{_=S.ks,E=S.qs}))),!r.isEqual(vt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(S)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,E))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function iR(a,t,i){let r=xt(),l=xt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=es();return i.forEach(((y,_)=>{const E=c.get(y);_.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(y)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(y,_.readTime),d=d.insert(y,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(_),d=d.insert(y,_)):st(km,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function sR(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function rR(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function am(a,t,i){const r=Tt(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;st(km,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Ev(a,t,i){const r=Tt(a);let l=vt.min(),c=xt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,E,S){const w=Tt(_),U=w.xs.get(S);return U!==void 0?Z.resolve(w.Ms.get(U)):w.Pi.getTargetData(E,S)})(r,d,Ai(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:xt()))).next((y=>(aR(r,Fb(t),y),{documents:y,Qs:c})))))}function aR(a,t,i){let r=a.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Tv{constructor(){this.activeTargetIds=Jb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oR{constructor(){this.Mo=new Tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Tv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class lR{Oo(t){}shutdown(){}}const Av="ConnectivityMonitor";class Sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Av,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Av,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function om(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Ld="RestConnection",uR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=om(),y=this.zo(t,i.toUriEncodedString());st(Ld,`Sending RPC '${t}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:E}=new URL(y),S=no(E);return this.Jo(t,y,_,r,S).then((w=>(st(Ld,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Za(Ld,`RPC '${t}' ${d} failed with error: `,w,"url: ",y,"request:",r),w}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=uR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class hR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class fR extends cR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=om();return new Promise(((y,_)=>{const E=new R0;E.setWithCredentials(!0),E.listenOnce(I0.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Oc.NO_ERROR:const w=E.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),y(w);break;case Oc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const U=E.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,U,"response text:",E.getResponseText()),U>0){let K=E.getResponseJson();Array.isArray(K)&&(K=K[0]);const et=K?.error;if(et&&et.status&&et.message){const it=(function(mt){const ut=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ut)>=0?ut:J.UNKNOWN})(et.status);_(new lt(it,et.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),E.send(i,"POST",S,r,15)}))}T_(t,i,r){const l=om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=D0(),y=N0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const S=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${S}`,_);const w=d.createWebChannel(S,_);this.I_(w);let U=!1,K=!1;const et=new hR({Yo:$=>{K?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(U||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),w.open(),U=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,$),w.send($))},Zo:()=>w.close()}),it=($,mt,ut)=>{$.listen(mt,(ft=>{try{ut(ft)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return it(w,vl.EventType.OPEN,(()=>{K||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),it(w,vl.EventType.CLOSE,(()=>{K||(K=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(w))})),it(w,vl.EventType.ERROR,($=>{K||(K=!0,Za(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),et.a_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),it(w,vl.EventType.MESSAGE,($=>{if(!K){const mt=$.data[0];Gt(!!mt,16349);const ut=mt,ft=ut?.error||ut[0]?.error;if(ft){st(Xe,`RPC '${t}' stream ${l} received error:`,ft);const Ht=ft.status;let Wt=(function(b){const C=Re[b];if(C!==void 0)return uE(C)})(Ht),Mt=ft.message;Wt===void 0&&(Wt=J.INTERNAL,Mt="Unknown error status: "+Ht+" with message "+ft.message),K=!0,et.a_(new lt(Wt,Mt)),w.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,mt),et.u_(mt)}})),it(y,C0.STAT_EVENT,($=>{$.stat===Xd.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Xd.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Pd(){return typeof document<"u"?document:null}function yh(a){return new pw(a,!0)}class SE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bv="PersistentStream";class bE{constructor(t,i,r,l,c,d,y,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dR extends bE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=vw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?bi(d.readTime):vt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(c,d){let y;const _=d.target;if(y=tm(_)?{documents:Aw(c,_)}:{query:Sw(c,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=fE(c,d.resumeToken);const E=nm(c,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(vt.min())>0){y.readTime=Zc(c,d.snapshotVersion.toTimestamp());const E=nm(c,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,t);const r=ww(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.q_(i)}}class mR extends bE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Tw(t.writeResults,t.commitTime),r=bi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Ew(this.serializer,r)))};this.q_(i)}}class gR{}class pR extends gR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,im(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,im(i,r),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class _R{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Qr(this)&&(st(Br,"Restarting streams for network reachability change."),await(async function(_){const E=Tt(_);E.Ea.add(4),await Gl(E),E.Ra.set("Unknown"),E.Ea.delete(4),await _h(E)})(this))}))})),this.Ra=new yR(r,l)}}async function _h(a){if(Qr(a))for(const t of a.da)await t(!0)}async function Gl(a){for(const t of a.da)await t(!1)}function wE(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zm(i)?Pm(i):oo(i).O_()&&Lm(i,t))}function Um(a,t){const i=Tt(a),r=oo(i);i.Ia.delete(t),r.O_()&&RE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Qr(i)&&i.Ra.set("Unknown"))}function Lm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(a).Y_(t)}function RE(a,t){a.Va.Ue(t),oo(a).Z_(t)}function Pm(a){a.Va=new fw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),oo(a).start(),a.Ra.ua()}function zm(a){return Qr(a)&&!oo(a).x_()&&a.Ia.size>0}function Qr(a){return Tt(a).Ea.size===0}function IE(a){a.Va=void 0}async function vR(a){a.Ra.set("Online")}async function ER(a){a.Ia.forEach(((t,i)=>{Lm(a,t)}))}async function TR(a,t){IE(a),zm(a)?(a.Ra.ha(t),Pm(a)):a.Ra.set("Unknown")}async function AR(a,t,i){if(a.Ra.set("Online"),t instanceof hE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(a,t)}catch(r){st(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await $c(a,r)}else if(t instanceof kc?a.Va.Ze(t):t instanceof cE?a.Va.st(t):a.Va.tt(t),!i.isEqual(vt.min()))try{const r=await AE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(E);S&&c.Ia.set(E,S.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,E)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),RE(c,_);const w=new qs(S.target,_,E,S.sequenceNumber);Lm(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){st(Br,"Failed to raise snapshot:",r),await $c(a,r)}}async function $c(a,t,i){if(!ao(t))throw t;a.Ea.add(1),await Gl(a),a.Ra.set("Offline"),i||(i=()=>AE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st(Br,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await _h(a)}))}function CE(a,t){return t().catch((i=>$c(a,i,t)))}async function vh(a){const t=Tt(a),i=$s(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;SR(t);)try{const l=await sR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,bR(t,l)}catch(l){await $c(t,l)}NE(t)&&DE(t)}function SR(a){return Qr(a)&&a.Ta.length<10}function bR(a,t){a.Ta.push(t);const i=$s(a);i.O_()&&i.X_&&i.ea(t.mutations)}function NE(a){return Qr(a)&&!$s(a).x_()&&a.Ta.length>0}function DE(a){$s(a).start()}async function wR(a){$s(a).ra()}async function RR(a){const t=$s(a);for(const i of a.Ta)t.ea(i.mutations)}async function IR(a,t,i){const r=a.Ta.shift(),l=Nm.from(r,t,i);await CE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await vh(a)}async function CR(a,t){t&&$s(a).X_&&await(async function(r,l){if((function(d){return uw(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();$s(r).B_(),await CE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(r)}})(a,t),NE(a)&&DE(a)}async function wv(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),st(Br,"RemoteStore received new credentials");const r=Qr(i);i.Ea.add(3),await Gl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function NR(a,t){const i=Tt(a);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function oo(a){return a.ma||(a.ma=(function(i,r,l){const c=Tt(i);return c.sa(),new dR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:vR.bind(null,a),t_:ER.bind(null,a),r_:TR.bind(null,a),H_:AR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),zm(a)?Pm(a):a.Ra.set("Unknown")):(await a.ma.stop(),IE(a))}))),a.ma}function $s(a){return a.fa||(a.fa=(function(i,r,l){const c=Tt(i);return c.sa(),new mR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:wR.bind(null,a),r_:CR.bind(null,a),ta:RR.bind(null,a),na:IR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await vh(a)):(await a.fa.stop(),a.Ta.length>0&&(st(Br,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class jm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,y=new jm(t,i,d,l,c);return y.start(r),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(a,t){if(ts("AsyncQueue",`${t}: ${a}`),ao(a))return new lt(J.UNAVAILABLE,`${t}: ${a}`);throw a}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Rv{constructor(){this.ga=new le(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class eo{constructor(t,i,r,l,c,d,y,_,E){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new eo(t,i,Ga.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class DR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class OR{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),c=l.queries;l.queries=Iv(),c.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Iv(){return new Gr((a=>J0(a)),fh)}async function xR(a,t){const i=Tt(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new DR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=Bm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&qm(i)}async function MR(a,t){const i=Tt(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VR(a,t){const i=Tt(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(r=!0);d.wa=l}}r&&qm(i)}function kR(a,t,i){const r=Tt(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function qm(a){a.Ca.forEach((t=>{t.next()}))}var lm,Cv;(Cv=lm||(lm={})).Ma="default",Cv.Cache="cache";class UR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lm.Cache}}class OE{constructor(t){this.key=t}}class xE{constructor(t){this.key=t}}class LR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=$0(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Rv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,w)=>{const U=l.get(S),K=dh(this.query,w)?w:null,et=!!U&&this.mutatedKeys.has(U.key),it=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let $=!1;U&&K?U.data.isEqual(K.data)?et!==it&&(r.track({type:3,doc:K}),$=!0):this.su(U,K)||(r.track({type:2,doc:K}),$=!0,(_&&this.eu(K,_)>0||E&&this.eu(K,E)<0)&&(y=!0)):!U&&K?(r.track({type:0,doc:K}),$=!0):U&&!K&&(r.track({type:1,doc:U}),$=!0,(_||E)&&(y=!0)),$&&(K?(d=d.add(K),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(K,et){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return it(K)-it(et)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),l=l??!1;const y=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,E=_!==this.Za;return this.Za=_,d.length!==0||E?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,_===0,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new xE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new OE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hm="SyncEngine";class PR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class zR{constructor(t){this.key=t,this.hu=!1}}class jR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((y=>J0(y)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new le(dt.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BR(a,t,i=!0){const r=PE(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ME(r,t,i,!0),l}async function qR(a,t){const i=PE(a);await ME(i,t,!0,!1)}async function ME(a,t,i,r){const l=await rR(a.localStore,Ai(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await HR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&wE(a.remoteStore,l),y}async function HR(a,t,i,r,l){a.pu=(w,U,K)=>(async function(it,$,mt,ut){let ft=$.view.ru(mt);ft.Cs&&(ft=await Ev(it.localStore,$.query,!1).then((({documents:N})=>$.view.ru(N,ft))));const Ht=ut&&ut.targetChanges.get($.targetId),Wt=ut&&ut.targetMismatches.get($.targetId)!=null,Mt=$.view.applyChanges(ft,it.isPrimaryClient,Ht,Wt);return Dv(it,$.targetId,Mt.au),Mt.snapshot})(a,w,U,K);const c=await Ev(a.localStore,t,!0),d=new LR(t,c.Qs),y=d.ru(c.documents),_=Hl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),E=d.applyChanges(y,a.isPrimaryClient,_);Dv(a,i,E.au);const S=new PR(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),E.snapshot}async function GR(a,t,i){const r=Tt(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await am(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Um(r.remoteStore,l.targetId),um(r,l.targetId)})).catch(ro)):(um(r,l.targetId),await am(r.localStore,l.targetId,!0))}async function FR(a,t){const i=Tt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Um(i.remoteStore,r.targetId))}async function QR(a,t,i){const r=WR(a);try{const l=await(function(d,y){const _=Tt(d),E=se.now(),S=y.reduce(((K,et)=>K.add(et.key)),xt());let w,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let et=es(),it=xt();return _.Ns.getEntries(K,S).next(($=>{et=$,et.forEach(((mt,ut)=>{ut.isValidDocument()||(it=it.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,et))).next(($=>{w=$;const mt=[];for(const ut of y){const ft=sw(ut,w.get(ut.key).overlayedDocument);ft!=null&&mt.push(new Fr(ut.key,ft,G0(ft.value.mapValue),Si.exists(!0)))}return _.mutationQueue.addMutationBatch(K,E,mt,y)})).next(($=>{U=$;const mt=$.applyToLocalDocumentSet(w,it);return _.documentOverlayCache.saveOverlays(K,$.batchId,mt)}))})).then((()=>({batchId:U.batchId,changes:tE(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,y,_){let E=d.Vu[d.currentUser.toKey()];E||(E=new le(Ot)),E=E.insert(y,_),d.Vu[d.currentUser.toKey()]=E})(r,l.batchId,i),await Fl(r,l.changes),await vh(r.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");i.reject(c)}}async function VE(a,t){const i=Tt(a);try{const r=await nR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Fl(i,r,t)}catch(r){await ro(r)}}function Nv(a,t,i){const r=Tt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const _=Tt(d);_.onlineState=y;let E=!1;_.queries.forEach(((S,w)=>{for(const U of w.Sa)U.va(y)&&(E=!0)})),E&&qm(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function KR(a,t,i){const r=Tt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new le(dt.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const y=xt().add(c),_=new ph(vt.min(),new Map,new le(Ot),d,y);await VE(r,_),r.du=r.du.remove(c),r.Au.delete(t),Gm(r)}else await am(r.localStore,t,!1).then((()=>um(r,t,i))).catch(ro)}async function YR(a,t){const i=Tt(a),r=t.batch.batchId;try{const l=await eR(i.localStore,t);UE(i,r,null),kE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(i,l)}catch(l){await ro(l)}}async function XR(a,t,i){const r=Tt(a);try{const l=await(function(d,y){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let S;return _.mutationQueue.lookupMutationBatch(E,y).next((w=>(Gt(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(E,w)))).next((()=>_.mutationQueue.performConsistencyCheck(E))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(E,S,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S))).next((()=>_.localDocuments.getDocuments(E,S)))}))})(r.localStore,t);UE(r,t,i),kE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Fl(r,l)}catch(l){await ro(l)}}function kE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function UE(a,t,i){const r=Tt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function um(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||LE(a,r)}))}function LE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Um(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Gm(a))}function Dv(a,t,i){for(const r of i)r instanceof OE?(a.Ru.addReference(r.key,t),ZR(a,r)):r instanceof xE?(st(Hm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||LE(a,r.key)):yt(19791,{wu:r})}function ZR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(st(Hm,"New document in limbo: "+i),a.Eu.add(r),Gm(a))}function Gm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new dt(ie.fromString(t)),r=a.fu.next();a.Au.set(r,new zR(i)),a.du=a.du.insert(i,r),wE(a.remoteStore,new qs(Ai(Rm(i.path)),r,"TargetPurposeLimboResolution",lh.ce))}}async function Fl(a,t,i){const r=Tt(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,t,i).then((E=>{if((E||i)&&r.isPrimaryClient){const S=E?!E.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(E){l.push(E);const S=Vm.As(_.targetId,E);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,E){const S=Tt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(E,(U=>Z.forEach(U.Es,(K=>S.persistence.referenceDelegate.addReference(w,U.targetId,K))).next((()=>Z.forEach(U.ds,(K=>S.persistence.referenceDelegate.removeReference(w,U.targetId,K)))))))))}catch(w){if(!ao(w))throw w;st(km,"Failed to update sequence numbers: "+w)}for(const w of E){const U=w.targetId;if(!w.fromCache){const K=S.Ms.get(U),et=K.snapshotVersion,it=K.withLastLimboFreeSnapshotVersion(et);S.Ms=S.Ms.insert(U,it)}}})(r.localStore,c))}async function JR(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){st(Hm,"User change. New user:",t.toKey());const r=await TE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fl(i,r.Ls)}}function $R(a,t){const i=Tt(a),r=i.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function PE(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KR.bind(null,t),t.Pu.H_=VR.bind(null,t.eventManager),t.Pu.yu=kR.bind(null,t.eventManager),t}function WR(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return tR(this.persistence,new Jw,t.initialUser,this.serializer)}Cu(t){return new EE(Mm.mi,this.serializer)}Du(t){return new oR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class t2 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Uw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new EE((r=>Jc.mi(r,i)),this.serializer)}}class cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new OR})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),r=(function(c){return new fR(c)})(t.databaseInfo);return(function(c,d,y,_){return new pR(c,d,y,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,y){return new _R(r,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>Nv(this.syncEngine,i,0)),(function(){return Sv.v()?new Sv:new lR})())}createSyncEngine(t,i){return(function(l,c,d,y,_,E,S){const w=new jR(l,c,d,y,_,E);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);st(Br,"RemoteStore shutting down."),r.Ea.add(5),await Gl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class e2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ws="FirestoreClient";class n2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{st(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Bm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function zd(a,t){a.asyncQueue.verifyOperationInProgress(),st(Ws,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await TE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Ov(a,t){a.asyncQueue.verifyOperationInProgress();const i=await i2(a);st(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>wv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>wv(t.remoteStore,l))),a._onlineComponents=t}async function i2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(Ws,"Using user provided OfflineComponentProvider");try{await zd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await zd(a,new Wc)}}else st(Ws,"Using default OfflineComponentProvider"),await zd(a,new t2(void 0));return a._offlineComponents}async function zE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(Ws,"Using user provided OnlineComponentProvider"),await Ov(a,a._uninitializedComponentsProvider._online)):(st(Ws,"Using default OnlineComponentProvider"),await Ov(a,new cm))),a._onlineComponents}function s2(a){return zE(a).then((t=>t.syncEngine))}async function xv(a){const t=await zE(a),i=t.eventManager;return i.onListen=BR.bind(null,t.syncEngine),i.onUnlisten=GR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=qR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=FR.bind(null,t.syncEngine),i}function jE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Mv=new Map;const BE="firestore.googleapis.com",Vv=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=Vv}else this.host=t.host,this.ssl=t.ssl??Vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Vw)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ob;switch(r.type){case"firstParty":return new hb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Mv.get(i);r&&(st("ComponentProvider","Removing Datastore"),Mv.delete(i),r.terminate())})(this),Promise.resolve()}}function r2(a,t,i,r={}){a=Ha(a,Eh);const l=no(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},y=`${t}:${i}`;l&&(y0(`https://${y}`),_0("Firestore",!0)),c.host!==BE&&c.host!==y&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:y,ssl:l,emulatorOptions:r};if(!Pr(_,d)&&(a._setSettings(_),r.mockUserToken)){let E,S;if(typeof r.mockUserToken=="string")E=r.mockUserToken,S=Ze.MOCK_USER;else{E=xA(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(w)}a._authCredentials=new lb(new x0(E,S))}}class Th{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Th(this.firestore,t,this._query)}}class Pe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Bl(i,Pe._jsonSchema))return new Pe(t,r||null,new dt(ie.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ie("string",Pe._jsonSchemaVersion),referencePath:Ie("string")};class Ks extends Th{constructor(t,i,r){super(t,i,Rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new dt(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function Uv(a,t,...i){if(a=nn(a),M0("collection","path",t),a instanceof Eh){const r=ie.fromString(t,...i);return Y_(r),new Ks(a,null,r)}{if(!(a instanceof Pe||a instanceof Ks))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(t,...i));return Y_(r),new Ks(a.firestore,null,r)}}function qE(a,t,...i){if(a=nn(a),arguments.length===1&&(t=vm.newId()),M0("doc","path",t),a instanceof Eh){const r=ie.fromString(t,...i);return K_(r),new Pe(a,null,new dt(r))}{if(!(a instanceof Pe||a instanceof Ks))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(t,...i));return K_(r),new Pe(a.firestore,a instanceof Ks?a.converter:null,new dt(r))}}const Lv="AsyncQueue";class Pv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SE(this,"async_queue_retry"),this._c=()=>{const r=Pd();r&&st(Lv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;st(Lv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=jm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function zv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function jv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Ul extends Eh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Pv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pv(t),this._firestoreClient=void 0,await t}}}function a2(a,t){const i=typeof a=="object"?a:A0(),r=typeof a=="string"?a:Gc,l=ym(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=DA("firestore");c&&r2(l,...c)}return l}function HE(a){if(a._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||o2(a),a._firestoreClient}function o2(a){const t=a._freezeSettings(),i=(function(l,c,d,y){return new Cb(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,jE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new n2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class GE{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),vectorValues:Ie("object")};const l2=/^__.*__$/;class u2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}function FE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:a})}}class Qm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(FE(this.Ac)&&l2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class c2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||yh(t)}Cc(t,i,r,l=!1){return new Qm({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h2(a){const t=a._freezeSettings(),i=yh(a._databaseId);return new c2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function f2(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);XE("Data must be an object, but it was:",d,r);const y=KE(r,d);let _,E;if(c.merge)_=new Zn(d.fieldMask),E=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const U=d2(t,w,i);if(!d.contains(U))throw new lt(J.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);g2(S,U)||S.push(U)}_=new Zn(S),E=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,E=d.fieldTransforms;return new u2(new Un(y),_,E)}function QE(a,t){if(YE(a=nn(a)))return XE("Unsupported field value:",t,a),KE(a,t);if(a instanceof GE)return(function(r,l){if(!FE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const y of r){let _=QE(y,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $b(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=se.fromDate(r);return{timestampValue:Zc(l.serializer,c)}}if(r instanceof se){const c=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(r instanceof wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:fE(l.serializer,r._byteString)};if(r instanceof Pe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ri)return(function(d,y){return{mapValue:{fields:{[q0]:{stringValue:H0},[Fc]:{arrayValue:{values:d.toArray().map((E=>{if(typeof E!="number")throw y.Sc("VectorValues must only contain numeric values.");return Im(y.serializer,E)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Em(r)}`)})(a,t)}function KE(a,t){const i={};return U0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(a,((r,l)=>{const c=QE(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function YE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof wi||a instanceof Ln||a instanceof Pe||a instanceof GE||a instanceof Ri)}function XE(a,t,i){if(!YE(i)||!V0(i)){const r=Em(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function d2(a,t,i){if((t=nn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return ZE(a,t);throw th("Field path arguments must be of type string or ",a,!1,void 0,i)}const m2=new RegExp("[~\\*/\\[\\]]");function ZE(a,t,i){if(t.search(m2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function th(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,y+a+_)}function g2(a,t){return a.some((i=>i.isEqual(t)))}class JE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($E("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends JE{data(){return super.data()}}function $E(a,t){return typeof t=="string"?ZE(a,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}function y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _2{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Hr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Fc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ch(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Xs(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Gt(_E(r),9688,{name:t});const l=new xl(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function v2(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lr extends JE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field($E("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Ie("string",Lr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Uc extends Lr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Uc(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const _=new Uc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const _=new Uc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,S=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:E2(y.type),doc:_,oldIndex:E,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function E2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:a})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ie("string",Fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class WE extends _2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function T2(a){return tT(Ha(a.firestore,Ul),[new Cm(a._key,Si.none())])}function A2(a,t){const i=Ha(a.firestore,Ul),r=qE(a),l=v2(a.converter,t);return tT(i,[f2(h2(a.firestore),"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then((()=>r))}function S2(a,...t){a=nn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||jv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(jv(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,y;if(a instanceof Pe)d=Ha(a.firestore,Ul),y=Rm(a._key.path),c={next:_=>{t[r]&&t[r](b2(d,a,_))},error:t[r+1],complete:t[r+2]};else{const _=Ha(a,Th);d=Ha(_.firestore,Ul),y=_._query;const E=new WE(d);c={next:S=>{t[r]&&t[r](new Fa(d,E,_,S))},error:t[r+1],complete:t[r+2]},y2(a._query)}return(function(E,S,w,U){const K=new e2(U),et=new UR(S,K,w);return E.asyncQueue.enqueueAndForget((async()=>xR(await xv(E),et))),()=>{K.Nu(),E.asyncQueue.enqueueAndForget((async()=>MR(await xv(E),et)))}})(HE(d),y,l,c)}function tT(a,t){return(function(r,l){const c=new Ur;return r.asyncQueue.enqueueAndForget((async()=>QR(await s2(r),l,c))),c.promise})(HE(a),t)}function b2(a,t,i){const r=i.docs.get(t._key),l=new WE(a);return new Lr(a,l,t._key,r,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(io),Xa(new zr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new Ul(new ub(r.getProvider("auth-internal")),new fb(d,r.getProvider("app-check-internal")),(function(E,S){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(E.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Fs(H_,G_,t),Fs(H_,G_,"esm2020")})();function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w2=eT,nT=new zl("auth","Firebase",eT());const eh=new gm("@firebase/auth");function R2(a,...t){eh.logLevel<=Dt.WARN&&eh.warn(`Auth (${io}): ${a}`,...t)}function Lc(a,...t){eh.logLevel<=Dt.ERROR&&eh.error(`Auth (${io}): ${a}`,...t)}function $n(a,...t){throw Km(a,...t)}function Ii(a,...t){return Km(a,...t)}function iT(a,t,i){const r={...w2(),[t]:i};return new zl("auth","Firebase",r).create(t,{appName:a.name})}function $i(a){return iT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return nT.create(a,...t)}function pt(a,t,...i){if(!a)throw Km(t,...i)}function Zi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Lc(t),new Error(t)}function ns(a,t){a||Zi(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function I2(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}function C2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I2()||PA()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=kA()||zA()}get(){return C2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ym(a,t){ns(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class sT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x2=new Ql(3e4,6e4);function er(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function nr(a,t,i,r,l={}){return rT(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const y=jl({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const E={method:t,headers:_,...c};return LA()||(E.referrerPolicy="no-referrer"),a.emulatorConfig&&no(a.emulatorConfig.host)&&(E.credentials="include"),sT.fetch()(await aT(a,a.config.apiHost,i,y),E)})}async function rT(a,t,i){a._canInitEmulator=!1;const r={...D2,...t};try{const l=new V2(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[_,E]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Dc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Dc(a,"user-disabled",d);const S=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw iT(a,S,E);$n(a,S)}}catch(l){if(l instanceof is)throw l;$n(a,"network-request-failed",{message:String(l)})}}async function Kl(a,t,i,r,l={}){const c=await nr(a,t,i,r,l);return"mfaPendingCredential"in c&&$n(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function aT(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?Ym(a.config,l):`${a.config.apiScheme}://${l}`;return O2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function M2(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),x2.get())})}}function Dc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ii(a,t,r);return l.customData._tokenResponse=i,l}function qv(a){return a!==void 0&&a.enterprise!==void 0}class k2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return M2(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U2(a,t){return nr(a,"GET","/v2/recaptchaConfig",er(a,t))}async function L2(a,t){return nr(a,"POST","/v1/accounts:delete",t)}async function nh(a,t){return nr(a,"POST","/v1/accounts:lookup",t)}function Cl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function P2(a,t=!1){const i=nn(a),r=await i.getIdToken(t),l=Xm(r);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Cl(jd(l.auth_time)),issuedAtTime:Cl(jd(l.iat)),expirationTime:Cl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(a){return Number(a)*1e3}function Xm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=d0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Hv(a){const t=Xm(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof is&&z2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function z2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class j2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(a){const t=a.auth,i=await a.getIdToken(),r=await Ll(a,nh(t,{idToken:i}));pt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?oT(l.providerUserInfo):[],d=q2(a.providerData,c),y=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,E=y?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(a,S)}async function B2(a){const t=nn(a);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function q2(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function oT(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function H2(a,t){const i=await rT(a,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await aT(a,l,"/v1/token",`key=${c}`),y=await a._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:r};return a.emulatorConfig&&no(a.emulatorConfig.host)&&(_.credentials="include"),sT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function G2(a,t){return nr(a,"POST","/v2/accounts:revokeToken",er(a,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Hv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await H2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Qa;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Ls(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new j2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return P2(this,t)}reload(){return B2(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await Ll(this,L2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,_=i._redirectEventId??void 0,E=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:U,isAnonymous:K,providerData:et,stsTokenManager:it}=i;pt(w&&it,t,"internal-error");const $=Qa.fromJSON(this.name,it);pt(typeof w=="string",t,"internal-error"),Ls(r,t.name),Ls(l,t.name),pt(typeof U=="boolean",t,"internal-error"),pt(typeof K=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(y,t.name),Ls(_,t.name),Ls(E,t.name),Ls(S,t.name);const mt=new Jn({uid:w,auth:t,email:l,emailVerified:U,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:$,createdAt:E,lastLoginAt:S});return et&&Array.isArray(et)&&(mt.providerData=et.map(ut=>({...ut}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?oT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Qa;y.updateFromIdToken(r);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,E),_}}const Gv=new Map;function Ji(a){ns(a instanceof Function,"Expected a class definition");let t=Gv.get(a);return t?(ns(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Gv.set(a,t),t)}class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}lT.type="NONE";const Fv=lT;function Pc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ka{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ka(Ji(Fv),t,r);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||Ji(Fv);const d=Pc(r,t.config.apiKey,t.name);let y=null;for(const E of i)try{const S=await E._get(d);if(S){let w;if(typeof S=="string"){const U=await nh(t,{idToken:S}).catch(()=>{});if(!U)break;w=await Jn._fromGetAccountInfoResponse(t,U,S)}else w=Jn._fromJSON(t,S);E!==c&&(y=w),c=E;break}}catch{}const _=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ka(c,t,r):(c=_[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(d)}catch{}})),new Ka(c,t,r))}}function Qv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mT(t))return"Blackberry";if(gT(t))return"Webos";if(cT(t))return"Safari";if((t.includes("chrome/")||hT(t))&&!t.includes("edge/"))return"Chrome";if(dT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function uT(a=$e()){return/firefox\//i.test(a)}function cT(a=$e()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hT(a=$e()){return/crios\//i.test(a)}function fT(a=$e()){return/iemobile/i.test(a)}function dT(a=$e()){return/android/i.test(a)}function mT(a=$e()){return/blackberry/i.test(a)}function gT(a=$e()){return/webos/i.test(a)}function Zm(a=$e()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function F2(a=$e()){return Zm(a)&&!!window.navigator?.standalone}function Q2(){return jA()&&document.documentMode===10}function pT(a=$e()){return Zm(a)||dT(a)||gT(a)||mT(a)||/windows phone/i.test(a)||fT(a)}function yT(a,t=[]){let i;switch(a){case"Browser":i=Qv($e());break;case"Worker":i=`${Qv($e())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${r}`}class K2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,y)=>{try{const _=t(c);d(_)}catch(_){y(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Y2(a,t={}){return nr(a,"GET","/v2/passwordPolicy",er(a,t))}const X2=6;class Z2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??X2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class J2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new K2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),r=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject($i(this));const i=t?nn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Y2(this),i=new Z2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await G2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&R2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kr(a){return nn(a)}class Kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=YA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $2(a){Ah=a}function _T(a){return Ah.loadJS(a)}function W2(){return Ah.recaptchaEnterpriseScript}function tI(){return Ah.gapiScript}function eI(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class nI{constructor(){this.enterprise=new iI}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class iI{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const sI="recaptcha-enterprise",vT="NO_RECAPTCHA";class rI{constructor(t){this.type=sI,this.auth=Kr(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,y)=>{U2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const E=new k2(_);return c.tenantId==null?c._agentRecaptchaConfig=E:c._tenantRecaptchaConfigs[c.tenantId]=E,d(E.siteKey)}}).catch(_=>{y(_)})})}function l(c,d,y){const _=window.grecaptcha;qv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(E=>{d(E)}).catch(()=>{d(vT)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(y=>{if(!i&&qv(window.grecaptcha))l(y,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=W2();_.length!==0&&(_+=y),_T(_).then(()=>{l(y,c,d)}).catch(E=>{d(E)})}}).catch(y=>{d(y)})})}}async function Yv(a,t,i,r=!1,l=!1){const c=new rI(a);let d;if(l)d=vT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const y={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const _=y.phoneEnrollmentInfo.phoneNumber,E=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:E,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const _=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return r?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function Xv(a,t,i,r,l){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Yv(a,t,i,i==="getOobCode");return r(a,c)}else return r(a,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Yv(a,t,i,i==="getOobCode");return r(a,d)}else return Promise.reject(c)})}function aI(a,t){const i=ym(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;$n(l,"already-initialized")}return i.initialize({options:t})}function oI(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function lI(a,t,i){const r=Kr(a);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=ET(t),{host:d,port:y}=uI(t),_=y===null?"":`:${y}`,E={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(Pr(E,r.config.emulator)&&Pr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=E,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,no(d)?(y0(`${c}//${d}${_}`),_0("Auth",!0)):cI()}function ET(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function uI(a){const t=ET(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Zv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Zv(d)}}}function Zv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function cI(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Jm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function hI(a,t){return nr(a,"POST","/v1/accounts:signUp",t)}async function fI(a,t){return Kl(a,"POST","/v1/accounts:signInWithPassword",er(a,t))}async function dI(a,t){return Kl(a,"POST","/v1/accounts:signInWithEmailLink",er(a,t))}async function mI(a,t){return Kl(a,"POST","/v1/accounts:signInWithEmailLink",er(a,t))}class Pl extends Jm{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Pl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xv(t,i,"signInWithPassword",fI);case"emailLink":return dI(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xv(t,r,"signUpPassword",hI);case"emailLink":return mI(t,{idToken:i,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ya(a,t){return Kl(a,"POST","/v1/accounts:signInWithIdp",er(a,t))}const gI="http://localhost";class qr extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$n("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ya(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:gI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}function pI(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yI(a){const t=yl(_l(a)).link,i=t?yl(_l(t)).deep_link_id:null,r=yl(_l(a)).deep_link_id;return(r?yl(_l(r)).link:null)||r||i||t||a}class $m{constructor(t){const i=yl(_l(t)),r=i.apiKey??null,l=i.oobCode??null,c=pI(i.mode??null);pt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=yI(t);try{return new $m(i)}catch{return null}}}class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=$m.parseLink(i);return pt(r,"argument-error"),Pl._fromEmailAndCode(t,r.code,r.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class TT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yl extends TT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Yl{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends Yl{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends Yl{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Bs.credential(i,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function _I(a,t){return Kl(a,"POST","/v1/accounts:signUp",er(a,t))}class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Jn._fromIdTokenResponse(t,r,l),d=Jv(r);return new tr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Jv(r);return new tr({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Jv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function $v(a){if(kn(a.app))return Promise.reject($i(a));const t=Kr(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new tr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await _I(t,{returnSecureToken:!0}),r=await tr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class sh extends is{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new sh(t,i,r,l)}}function AT(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(a,c,t,r):c})}async function vI(a,t,i=!1){const r=await Ll(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return tr._forOperation(a,"link",r)}async function EI(a,t,i=!1){const{auth:r}=a;if(kn(r.app))return Promise.reject($i(r));const l="reauthenticate";try{const c=await Ll(a,AT(r,l,t,a),i);pt(c.idToken,r,"internal-error");const d=Xm(c.idToken);pt(d,r,"internal-error");const{sub:y}=d;return pt(a.uid===y,r,"user-mismatch"),tr._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$n(r,"user-mismatch"),c}}async function ST(a,t,i=!1){if(kn(a.app))return Promise.reject($i(a));const r="signIn",l=await AT(a,r,t),c=await tr._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}async function TI(a,t){return ST(Kr(a),t)}async function AI(a){const t=Kr(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function SI(a,t,i){return kn(a.app)?Promise.reject($i(a)):TI(nn(a),lo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AI(a),r})}function bI(a,t,i,r){return nn(a).onIdTokenChanged(t,i,r)}function wI(a,t,i){return nn(a).beforeAuthStateChanged(t,i)}function RI(a,t,i,r){return nn(a).onAuthStateChanged(t,i,r)}function II(a){return nn(a).signOut()}const rh="__sak";class bT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CI=1e3,NI=10;class wT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Q2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,NI):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}wT.type="LOCAL";const DI=wT;class RT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}RT.type="SESSION";const IT=RT;function OI(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Sh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const y=Array.from(d).map(async E=>E(i.origin,c)),_=await OI(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function Wm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class xI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,_)=>{const E=Wm("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const U=w;if(U.data.eventId===E)switch(U.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(U.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:E,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function MI(a){Ci().location.href=a}function CT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function VI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){return navigator?.serviceWorker?.controller||null}function UI(){return CT()?self:null}const NT="firebaseLocalStorageDb",LI=1,ah="firebaseLocalStorage",DT="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(a,t){return a.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function PI(){const a=indexedDB.deleteDatabase(NT);return new Xl(a).toPromise()}function dm(){const a=indexedDB.open(NT,LI);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(ah,{keyPath:DT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(ah)?t(r):(r.close(),await PI(),t(await dm()))})})}async function Wv(a,t,i){const r=bh(a,!0).put({[DT]:t,value:i});return new Xl(r).toPromise()}async function zI(a,t){const i=bh(a,!1).get(t),r=await new Xl(i).toPromise();return r===void 0?null:r.value}function t0(a,t){const i=bh(a,!0).delete(t);return new Xl(i).toPromise()}const jI=800,BI=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>BI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(UI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await Wv(t,rh,"1"),await t0(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>zI(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>t0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const qI=OT;new Ql(3e4,6e4);function HI(a,t){return t?Ji(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class tg extends Jm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function GI(a){return ST(a.auth,new tg(a),a.bypassAuthState)}function FI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),EI(i,new tg(a),a.bypassAuthState)}async function QI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),vI(i,new tg(a),a.bypassAuthState)}class xT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:$n(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KI=new Ql(2e3,1e4);class qa extends xT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}qa.currentPopupAction=null;const YI="pendingRedirect",zc=new Map;class XI extends xT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const r=await ZI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(a,t){const i=WI(t),r=$I(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function JI(a,t){zc.set(a._key(),t)}function $I(a){return Ji(a._redirectPersistence)}function WI(a){return Pc(YI,a.config.apiKey,a.name)}async function tC(a,t,i=!1){if(kn(a.app))return Promise.reject($i(a));const r=Kr(a),l=HI(r,t),d=await new XI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const eC=600*1e3;class nC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!MT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eC&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(t))}saveEventToCache(t){this.cachedEventUids.add(e0(t)),this.lastProcessedEventTime=Date.now()}}function e0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function MT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function iC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(a);default:return!1}}async function sC(a,t={}){return nr(a,"GET","/v1/projects",t)}const rC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function oC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await sC(a);for(const i of t)try{if(lC(i))return}catch{}$n(a,"unauthorized-domain")}function lC(a){const t=hm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!aC.test(i))return!1;if(rC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const uC=new Ql(3e4,6e4);function n0(){const a=Ci().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function cC(a){return new Promise((t,i)=>{function r(){n0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{n0(),i(Ii(a,"network-request-failed"))},timeout:uC.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=eI("iframefcb");return Ci()[l]=()=>{gapi.load?r():i(Ii(a,"network-request-failed"))},_T(`${tI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function hC(a){return jc=jc||cC(a),jc}const fC=new Ql(5e3,15e3),dC="__/auth/iframe",mC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yC(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Ym(t,mC):`https://${a.config.authDomain}/${dC}`,r={apiKey:t.apiKey,appName:a.name,v:io},l=pC.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${jl(r).slice(1)}`}async function _C(a){const t=await hC(a),i=Ci().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:yC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(a,"network-request-failed"),y=Ci().setTimeout(()=>{c(d)},fC.get());function _(){Ci().clearTimeout(y),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const vC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,TC=600,AC="_blank",SC="http://localhost";class i0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bC(a,t,i,r=EC,l=TC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const _={...vC,width:r.toString(),height:l.toString(),top:c,left:d},E=$e().toLowerCase();i&&(y=hT(E)?AC:i),uT(E)&&(t=t||SC,_.scrollbars="yes");const S=Object.entries(_).reduce((U,[K,et])=>`${U}${K}=${et},`,"");if(F2(E)&&y!=="_self")return wC(t||"",y),new i0(null);const w=window.open(t||"",y,S);pt(w,a,"popup-blocked");try{w.focus()}catch{}return new i0(w)}function wC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const RC="__/auth/handler",IC="emulator/auth/handler",CC=encodeURIComponent("fac");async function s0(a,t,i,r,l,c){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:io,eventId:l};if(t instanceof TT){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",KA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Yl){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const _=await a._getAppCheckToken(),E=_?`#${CC}=${encodeURIComponent(_)}`:"";return`${NC(a)}?${jl(y).slice(1)}${E}`}function NC({config:a}){return a.emulator?Ym(a,IC):`https://${a.authDomain}/${RC}`}const Bd="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=tC,this._overrideRedirectResult=JI}async _openPopup(t,i,r,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await s0(t,i,r,hm(),l);return bC(t,c,Wm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await s0(t,i,r,hm(),l);return MI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await _C(t),r=new nC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return pT()||cT()||Zm()}}const OC=DC;var r0="@firebase/auth",a0="1.12.0";class xC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(a){Xa(new zr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:y,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(a)},E=new J2(r,l,c,_);return oI(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Xa(new zr("auth-internal",t=>{const i=Kr(t.getProvider("auth").getImmediate());return(r=>new xC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(r0,a0,MC(a)),Fs(r0,a0,"esm2020")}const kC=300,UC=p0("authIdTokenMaxAge")||kC;let o0=null;const LC=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>UC)return;const l=i?.token;o0!==l&&(o0=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PC(a=A0()){const t=ym(a,"auth");if(t.isInitialized())return t.getImmediate();const i=aI(a,{popupRedirectResolver:OC,persistence:[qI,DI,IT]}),r=p0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=LC(c.toString());wI(i,d,()=>d(i.currentUser)),bI(i,y=>d(y))}}const l=m0("auth");return l&&lI(i,`http://${l}`),i}function zC(){return document.getElementsByTagName("head")?.[0]??document}$2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",zC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");const jC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BC=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),l0=a=>{const t=BC(a);return t.charAt(0).toUpperCase()+t.slice(1)},VT=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),qC=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GC=Ue.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...y},_)=>Ue.createElement("svg",{ref:_,...HC,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:VT("lucide",l),...!c&&!qC(y)&&{"aria-hidden":"true"},...y},[...d.map(([E,S])=>Ue.createElement(E,S)),...Array.isArray(c)?c:[c]]));const fn=(a,t)=>{const i=Ue.forwardRef(({className:r,...l},c)=>Ue.createElement(GC,{ref:c,iconNode:t,className:VT(`lucide-${jC(l0(a))}`,`lucide-${a}`,r),...l}));return i.displayName=l0(a),i};const FC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QC=fn("lock",FC);const KC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],YC=fn("log-in",KC);const XC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZC=fn("log-out",XC);const JC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$C=fn("map-pin",JC);const WC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tN=fn("menu",WC);const eN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nN=fn("package",eN);const iN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],sN=fn("phone",iN);const rN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aN=fn("plus",rN);const oN=[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]],u0=fn("refrigerator",oN);const lN=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],c0=fn("shopping-bag",lN);const uN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cN=fn("trash-2",uN);const hN=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],fN=fn("wind",hN);const dN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],mN=fn("wrench",dN);const gN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pN=fn("x",gN),yN={apiKey:"AIzaSyANyFY760SJBasNC2wjF9sWu4NcOZjLqd0",authDomain:"refrimaster-151bf.firebaseapp.com",projectId:"refrimaster-151bf",storageBucket:"refrimaster-151bf.firebasestorage.app",messagingSenderId:"17061661794",appId:"1:17061661794:web:252b354a61eabd42f3553b",measurementId:"G-FQS2HRRF98"},kT=T0(yN),pl=PC(kT),qd=a2(kT),Hd="refrimaster-oficial";function _N(){const[a,t]=Ue.useState(null),[i,r]=Ue.useState("home"),[l,c]=Ue.useState([]),[d,y]=Ue.useState(!1),[_,E]=Ue.useState(!0),[S,w]=Ue.useState(null),[U,K]=Ue.useState(""),[et,it]=Ue.useState(""),[$,mt]=Ue.useState(!1),[ut,ft]=Ue.useState({name:"",price:"",category:"Lavadora",description:"",imageUrl:""});Ue.useEffect(()=>{(async()=>{try{await $v(pl)}catch(Lt){console.error("Error de Autenticacin:",Lt)}})();const R=RI(pl,Lt=>{t(Lt),mt(!!Lt?.email),E(!1)});return()=>R()},[]),Ue.useEffect(()=>{if(!a)return;const D=Uv(qd,"artifacts",Hd,"public","data","products"),R=S2(D,Lt=>{const G=Lt.docs.map(tt=>({id:tt.id,...tt.data()})).sort((tt,ct)=>new Date(ct.createdAt)-new Date(tt.createdAt));c(G)},Lt=>{console.error("Error de Firestore:",Lt),w("Error de permisos. El admin debe estar logueado para editar.")});return()=>R()},[a]);const Ht=async D=>{D.preventDefault(),w(null);try{await SI(pl,U,et),r("admin"),K(""),it("")}catch{w("Credenciales incorrectas. Intenta de nuevo.")}},Wt=async()=>{await II(pl),await $v(pl),mt(!1),r("home")},Mt=async D=>{if(D.preventDefault(),!$){w("Debes ser administrador para aadir productos.");return}try{await A2(Uv(qd,"artifacts",Hd,"public","data","products"),{...ut,price:parseFloat(ut.price),createdAt:new Date().toISOString(),userId:a.uid}),ft({name:"",price:"",category:"Lavadora",description:"",imageUrl:""}),r("catalog")}catch{w("No se pudo guardar. Verifica tus permisos en Firebase.")}},N=async D=>{if($)try{await T2(qE(qd,"artifacts",Hd,"public","data","products",D))}catch{w("Error al eliminar el artculo.")}},b=()=>L.jsx("div",{className:"max-w-md mx-auto px-6 py-20 animate-in zoom-in-95 duration-300",children:L.jsxs("div",{className:"bg-white p-10 rounded-[40px] shadow-2xl border border-gray-100 text-center",children:[L.jsx("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:L.jsx(QC,{className:"text-blue-600 w-10 h-10"})}),L.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Acceso Dueo"}),L.jsx("p",{className:"text-gray-500 mb-8",children:"Ingresa tus credenciales para gestionar el inventario."}),L.jsxs("form",{onSubmit:Ht,className:"space-y-4",children:[L.jsx("input",{type:"email",placeholder:"Correo electrnico",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:U,onChange:D=>K(D.target.value),required:!0}),L.jsx("input",{type:"password",placeholder:"Contrasea",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:et,onChange:D=>it(D.target.value),required:!0}),S&&L.jsx("p",{className:"text-red-500 text-sm font-bold",children:S}),L.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-5 rounded-2xl hover:bg-blue-700 transition-all shadow-lg",children:"Entrar al Panel"})]}),L.jsx("button",{onClick:()=>r("home"),className:"mt-6 text-gray-400 font-bold hover:text-gray-600 text-sm",children:"Volver al Inicio"})]})}),C=()=>L.jsxs("div",{className:"space-y-16 pb-20 animate-in fade-in duration-500",children:[L.jsxs("section",{className:"relative h-[500px] flex items-center justify-center text-white overflow-hidden rounded-3xl mt-4 mx-4 shadow-2xl",children:[L.jsx("img",{src:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?auto=format&fit=crop&q=80&w=2070",className:"absolute inset-0 w-full h-full object-cover brightness-[0.4]",alt:"Taller"}),L.jsxs("div",{className:"relative z-10 text-center px-6 max-w-3xl",children:[L.jsx("h1",{className:"text-5xl md:text-6xl font-black mb-6 tracking-tight leading-tight",children:"Soluciones Reales para tu Hogar"}),L.jsx("p",{className:"text-xl mb-10 text-blue-100",children:"Reparacin certificada y venta de equipos premium con garanta total."}),L.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[L.jsx("button",{onClick:()=>r("catalog"),className:"bg-blue-600 hover:bg-blue-500 px-10 py-4 rounded-full font-bold transition-all shadow-lg hover:shadow-blue-500/50",children:"Explorar Tienda"}),L.jsxs("a",{href:`https://wa.me/526673312378?text=${encodeURIComponent(`Hola RefriMaster, me interesa el equipo: ${p.name}. Sigue disponible?`)}`,target:"_blank",rel:"noreferrer",className:"bg-blue-600 text-white p-4 rounded-2xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-200",children:[" ",L.jsx(c0,{className:"w-6 h-6"})]})]})]})]}),L.jsxs("section",{className:"container mx-auto px-6",children:[L.jsxs("div",{className:"text-center mb-16",children:[L.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Qu necesitas hoy?"}),L.jsx("div",{className:"h-1.5 w-24 bg-blue-600 mx-auto rounded-full"})]}),L.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Refrigeracin",icon:L.jsx(u0,{className:"w-12 h-12 text-blue-600"}),desc:"Especialistas en carga de gas, compresores y tarjetas electrnicas."},{title:"Lavado",icon:L.jsx(mN,{className:"w-12 h-12 text-blue-600"}),desc:"Arreglamos transmisiones, bombas y sensores de todas las marcas."},{title:"Climatizacin",icon:L.jsx(fN,{className:"w-12 h-12 text-blue-600"}),desc:"Instalacin profesional y mantenimiento preventivo para aire puro."}].map((D,R)=>L.jsxs("div",{className:"group p-10 bg-white rounded-3xl shadow-sm border border-gray-100 hover:border-blue-200 hover:shadow-xl transition-all text-center",children:[L.jsx("div",{className:"mb-6 flex justify-center transform group-hover:scale-110 transition-transform",children:D.icon}),L.jsx("h3",{className:"text-2xl font-bold mb-4",children:D.title}),L.jsx("p",{className:"text-gray-600 leading-relaxed",children:D.desc})]},R))})]})]}),V=()=>L.jsxs("div",{className:"container mx-auto px-6 py-12 animate-in slide-in-from-bottom-4 duration-500",children:[L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-4",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Equipos Disponibles"}),L.jsx("p",{className:"text-gray-500",children:"Artculos revisados y listos para entrega inmediata."})]}),L.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-full text-blue-700 font-bold text-sm",children:[l.length," Equipos en inventario"]})]}),l.length===0?L.jsxs("div",{className:"text-center py-24 bg-gray-50 rounded-[40px] border-2 border-dashed border-gray-200",children:[L.jsx(nN,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),L.jsx("h3",{className:"text-xl font-bold text-gray-400",children:"Nuestro catlogo se est actualizando"}),L.jsx("p",{className:"text-gray-400 mt-2",children:"Vuelve pronto para ver nuestras novedades."})]}):L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:l.map(D=>L.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden border border-gray-100 shadow-sm hover:shadow-2xl transition-all group",children:[L.jsxs("div",{className:"h-64 overflow-hidden relative",children:[L.jsx("img",{src:D.imageUrl||"https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&q=80&w=1000",alt:D.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),L.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md text-blue-900 px-4 py-1.5 rounded-full text-xs font-black uppercase shadow-sm",children:D.category})]}),L.jsxs("div",{className:"p-8",children:[L.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-800",children:D.name}),L.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2 leading-relaxed",children:D.description}),L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("div",{className:"flex flex-col",children:[L.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Precio"}),L.jsxs("span",{className:"text-3xl font-black text-blue-600",children:["$",D.price]})]}),L.jsx("a",{href:`https://wa.me/6673312378?text=Hola, me interesa el equipo: ${D.name}`,target:"_blank",rel:"noreferrer",className:"bg-blue-600 text-white p-4 rounded-2xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-200",children:L.jsx(c0,{className:"w-6 h-6"})})]})]})]},D.id))})]}),x=()=>$?L.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 animate-in fade-in duration-500",children:[L.jsxs("div",{className:"mb-10 flex justify-between items-center",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-2",children:"Panel Maestro"}),L.jsx("p",{className:"text-gray-500 font-medium",children:"Control total sobre tus artculos en venta."})]}),L.jsxs("button",{onClick:Wt,className:"bg-red-50 text-red-600 px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-red-600 hover:text-white transition-all",children:[L.jsx(ZC,{className:"w-5 h-5"})," Cerrar Sesin"]})]}),L.jsxs("div",{className:"grid lg:grid-cols-3 gap-10",children:[L.jsx("div",{className:"lg:col-span-1",children:L.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-gray-100 shadow-xl sticky top-28",children:[L.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-blue-600",children:[L.jsx(aN,{className:"w-6 h-6"})," Nuevo Artculo"]}),L.jsxs("form",{onSubmit:Mt,className:"space-y-5",children:[L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Nombre"}),L.jsx("input",{required:!0,className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",placeholder:"Lavadora Samsung...",value:ut.name,onChange:D=>ft({...ut,name:D.target.value})})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Precio ($)"}),L.jsx("input",{required:!0,type:"number",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium",placeholder:"0.00",value:ut.price,onChange:D=>ft({...ut,price:D.target.value})})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Categora"}),L.jsxs("select",{className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium appearance-none",value:ut.category,onChange:D=>ft({...ut,category:D.target.value}),children:[L.jsx("option",{children:"Lavadora"}),L.jsx("option",{children:"Refrigerador"}),L.jsx("option",{children:"Aire Acondicionado"}),L.jsx("option",{children:"Secadora"})]})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Imagen (Link)"}),L.jsx("input",{required:!0,className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium text-sm",placeholder:"URL de la foto...",value:ut.imageUrl,onChange:D=>ft({...ut,imageUrl:D.target.value})})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Descripcin"}),L.jsx("textarea",{required:!0,className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-500 outline-none font-medium h-32 resize-none",placeholder:"Detalles del equipo...",value:ut.description,onChange:D=>ft({...ut,description:D.target.value})})]}),L.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-5 rounded-2xl hover:bg-blue-700 transition-all shadow-lg",children:"Publicar Ahora"})]})]})}),L.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[L.jsx("h3",{className:"text-xl font-bold text-gray-800 ml-2",children:"Inventario Activo"}),L.jsx("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-xl overflow-hidden",children:L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full text-left border-collapse",children:[L.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-50",children:L.jsxs("tr",{children:[L.jsx("th",{className:"p-6 text-xs font-black text-gray-400 uppercase",children:"Equipo"}),L.jsx("th",{className:"p-6 text-xs font-black text-gray-400 uppercase",children:"Precio"}),L.jsx("th",{className:"p-6 text-xs font-black text-gray-400 uppercase text-right",children:"Accin"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-50",children:l.map(D=>L.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[L.jsx("td",{className:"p-6",children:L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("img",{src:D.imageUrl,className:"w-14 h-14 rounded-2xl object-cover shadow-sm"}),L.jsxs("div",{children:[L.jsx("div",{className:"font-bold text-gray-900",children:D.name}),L.jsx("div",{className:"text-xs text-blue-600 font-bold uppercase",children:D.category})]})]})}),L.jsxs("td",{className:"p-6 font-black text-gray-900 text-lg",children:["$",D.price]}),L.jsx("td",{className:"p-6 text-right",children:L.jsx("button",{onClick:()=>N(D.id),className:"bg-red-50 text-red-500 p-3 rounded-xl hover:bg-red-500 hover:text-white transition-all shadow-sm",children:L.jsx(cN,{className:"w-5 h-5"})})})]},D.id))})]})})})]})]})]}):b();return _?L.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-white",children:[L.jsxs("div",{className:"relative w-24 h-24 mb-6 text-blue-600",children:[L.jsx("div",{className:"absolute inset-0 border-8 border-blue-50 rounded-full"}),L.jsx("div",{className:"absolute inset-0 border-8 border-current border-t-transparent rounded-full animate-spin"})]}),L.jsx("p",{className:"text-blue-900 font-black tracking-widest animate-pulse uppercase text-sm",children:"Validando Acceso"})]}):L.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] font-sans text-gray-900",children:[L.jsx("nav",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur-xl border-b border-gray-100",children:L.jsxs("div",{className:"container mx-auto px-6 h-24 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>r("home"),children:[L.jsx("div",{className:"bg-blue-600 p-3 rounded-[18px] text-white transform group-hover:rotate-12 transition-transform shadow-lg shadow-blue-200",children:L.jsx(u0,{className:"w-7 h-7"})}),L.jsxs("div",{className:"flex flex-col",children:[L.jsxs("span",{className:"text-2xl font-black tracking-tighter text-blue-900 leading-none",children:["REFRI",L.jsx("span",{className:"text-blue-600",children:"MASTER"})]}),L.jsx("span",{className:"text-[10px] font-bold text-blue-400 tracking-[0.2em] uppercase",children:"Service & Sales"})]})]}),L.jsxs("div",{className:"hidden md:flex items-center gap-10 font-bold",children:[L.jsx("button",{onClick:()=>r("home"),className:`text-sm uppercase tracking-widest transition-colors ${i==="home"?"text-blue-600":"text-gray-400 hover:text-gray-900"}`,children:"Inicio"}),L.jsx("button",{onClick:()=>r("catalog"),className:`text-sm uppercase tracking-widest transition-colors ${i==="catalog"?"text-blue-600":"text-gray-400 hover:text-gray-900"}`,children:"Tienda"}),L.jsx("div",{className:"h-8 w-px bg-gray-100"}),$?L.jsx("button",{onClick:()=>r("admin"),className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-5 py-2.5 rounded-full transition-all",children:"Panel Admin"}):L.jsxs("button",{onClick:()=>r("admin"),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 transition-all",children:[L.jsx(YC,{className:"w-4 h-4"})," Acceso Dueo"]}),L.jsx("a",{href:"https://wa.me/6673312378",target:"_blank",rel:"noreferrer",className:"bg-blue-600 text-white px-8 py-3.5 rounded-2xl hover:bg-blue-700 transition-all shadow-xl shadow-blue-100",children:"WhatsApp"})]}),L.jsx("button",{className:"md:hidden text-blue-900",onClick:()=>y(!d),children:d?L.jsx(pN,{size:32}):L.jsx(tN,{size:32})})]})}),L.jsxs("main",{className:"min-h-[70vh]",children:[i==="home"&&C(),i==="catalog"&&V(),i==="admin"&&x()]}),L.jsx("footer",{className:"bg-blue-950 text-white pt-24 pb-12 px-6 mt-20 rounded-t-[60px]",children:L.jsxs("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-4 gap-16",children:[L.jsxs("div",{className:"col-span-1 md:col-span-2",children:[L.jsxs("h3",{className:"text-3xl font-black mb-6 text-white",children:["RefriMaster",L.jsx("span",{className:"text-blue-500",children:"."})]}),L.jsx("p",{className:"text-blue-200/60 max-w-sm mb-10 leading-loose",children:"Tu aliado de confianza en el mantenimiento de electrodomsticos. No solo arreglamos aparatos, devolvemos la tranquilidad a tu hogar."}),L.jsxs("div",{className:"flex gap-4",children:[L.jsx("div",{className:"bg-white/5 p-4 rounded-2xl hover:bg-blue-600 transition-colors cursor-pointer",children:L.jsx(sN,{className:"w-6 h-6"})}),L.jsx("div",{className:"bg-white/5 p-4 rounded-2xl hover:bg-blue-600 transition-colors cursor-pointer",children:L.jsx($C,{className:"w-6 h-6"})})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-black mb-8 text-blue-400 uppercase tracking-widest text-xs",children:"Empresa"}),L.jsxs("ul",{className:"space-y-4 text-sm font-bold text-blue-100/70",children:[L.jsx("li",{children:L.jsx("button",{onClick:()=>r("home"),className:"hover:text-white transition-colors",children:"Sobre Nosotros"})}),L.jsx("li",{children:L.jsx("button",{onClick:()=>r("catalog"),className:"hover:text-white transition-colors",children:"Catlogo de Venta"})}),L.jsx("li",{children:L.jsx("button",{onClick:()=>r("admin"),className:"hover:text-white transition-colors",children:"Panel Admin"})})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-black mb-8 text-blue-400 uppercase tracking-widest text-xs",children:"Atencin Directa"}),L.jsx("p",{className:"text-blue-100/70 text-sm mb-2",children:"Lunes a Sbado"}),L.jsx("p",{className:"text-2xl font-black mb-6 text-white",children:"9:00 AM  6:00 PM"}),L.jsx("p",{className:"text-xs text-blue-500 font-black uppercase tracking-tighter bg-blue-900/50 inline-block px-3 py-1 rounded-md",children:"Servicios de Urgencia 24h"})]})]})})]})}TA.createRoot(document.getElementById("root")).render(L.jsx(Ue.StrictMode,{children:L.jsx(_N,{})}));
